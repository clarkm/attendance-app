"use strict";(self.webpackChunkattendance_app=self.webpackChunkattendance_app||[]).push([[179],{2011:(tt,be,R)=>{R.d(be,{Dh:()=>oe,GT:()=>me,cc:()=>Le,on:()=>Se,pX:()=>ae,xv:()=>Ce});var c=R(4650),Q=R(9260);tt=R.hmd(tt);const L=["ngOnDestroy"],ae=(J,ce,je,Je={})=>new Proxy(J,{get:(ve,ie)=>je.runOutsideAngular(()=>{var ne;if(J[ie])return!(null===(ne=Je?.spy)||void 0===ne)&&ne.get&&Je.spy.get(ie,J[ie]),J[ie];if(L.indexOf(ie)>-1)return()=>{};const Oe=ce.toPromise().then(Fe=>{const Ve=Fe&&Fe[ie];return"function"==typeof Ve?Ve.bind(Fe):Ve&&Ve.then?Ve.then(Z=>je.run(()=>Z)):je.run(()=>Ve)});return new Proxy(()=>{},{get:(Fe,Ve)=>Oe[Ve],apply:(Fe,Ve,Z)=>Oe.then(ut=>{var $e;const Dt=ut&&ut(...Z);return!(null===($e=Je?.spy)||void 0===$e)&&$e.apply&&Je.spy.apply(ie,Z,Dt),Dt})})})}),me=(J,ce)=>{ce.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Je=>{Object.defineProperty(J.prototype,Je,Object.getOwnPropertyDescriptor(je.prototype||je,Je))})})};class pe{constructor(ce){return ce}}const oe=new c.OlP("angularfire2.app.options"),Ce=new c.OlP("angularfire2.app.name");function Se(J,ce,je){const ve="object"==typeof je&&je||{};ve.name=ve.name||"string"==typeof je&&je||"[DEFAULT]";const ne=Q.Z.apps.filter(Oe=>Oe&&Oe.name===ve.name)[0]||ce.runOutsideAngular(()=>Q.Z.initializeApp(J,ve));try{JSON.stringify(J)!==JSON.stringify(ne.options)&&U("error",`${ne.name} Firebase App already initialized with different options${tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(ne)}const U=(J,...ce)=>{(0,c.X6Q)()&&typeof console<"u"&&console[J](...ce)};function Le(J,ce,je,Je,ve){const[,ie,ne]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===J)||[];if(ie)return function Ee(J,ce){try{return J.toString()===ce.toString()}catch{return J===ce}}(ve,ne)||(ke("error",`${ce} was already initialized on the ${je} Firebase App with different settings.${Ie?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:ve,was:ne})),ie;{const Oe=Je();return globalThis.\u0275AngularfireInstanceCache.push([J,Oe,ve]),Oe}}const Ie=!!tt.hot,ke=(J,...ce)=>{(0,c.X6Q)()&&typeof console<"u"&&console[J](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2090:(tt,be,R)=>{R.d(be,{$s:()=>rs,BH:()=>ne,DV:()=>Eo,Dv:()=>yi,GJ:()=>Ir,L:()=>Se,LL:()=>Me,P0:()=>Je,Pz:()=>ie,Sg:()=>Oe,UG:()=>Z,UI:()=>We,US:()=>pe,Wj:()=>Hn,Wl:()=>an,Yr:()=>ue,ZB:()=>Y,ZR:()=>ft,aH:()=>ve,b$:()=>Dt,cI:()=>St,dS:()=>Rs,eu:()=>le,g5:()=>L,gK:()=>gn,gQ:()=>Kt,h$:()=>Ce,hl:()=>we,hu:()=>Q,jU:()=>ut,lb:()=>Ht,m9:()=>ki,ne:()=>Yt,p$:()=>H,pd:()=>An,r3:()=>Sr,ru:()=>$e,tV:()=>U,uI:()=>Ve,ug:()=>Mt,vZ:()=>Ti,w1:()=>ee,w9:()=>Bn,xO:()=>Do,xb:()=>wo,z$:()=>Fe,zI:()=>ct,zd:()=>or});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Q=function(F,O){if(!F)throw L(O)},L=function(F){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+F)},ae=function(F){const O=[];let j=0;for(let X=0;X<F.length;X++){let G=F.charCodeAt(X);G<128?O[j++]=G:G<2048?(O[j++]=G>>6|192,O[j++]=63&G|128):55296==(64512&G)&&X+1<F.length&&56320==(64512&F.charCodeAt(X+1))?(G=65536+((1023&G)<<10)+(1023&F.charCodeAt(++X)),O[j++]=G>>18|240,O[j++]=G>>12&63|128,O[j++]=G>>6&63|128,O[j++]=63&G|128):(O[j++]=G>>12|224,O[j++]=G>>6&63|128,O[j++]=63&G|128)}return O},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,O){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let G=0;G<F.length;G+=3){const xe=F[G],rt=G+1<F.length,_t=rt?F[G+1]:0,Ut=G+2<F.length,De=Ut?F[G+2]:0;let qt=(15&_t)<<2|De>>6,Un=63&De;Ut||(Un=64,rt||(qt=64)),X.push(j[xe>>2],j[(3&xe)<<4|_t>>4],j[qt],j[Un])}return X.join("")},encodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(F):this.encodeByteArray(ae(F),O)},decodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(F):function(F){const O=[];let j=0,X=0;for(;j<F.length;){const G=F[j++];if(G<128)O[X++]=String.fromCharCode(G);else if(G>191&&G<224){const xe=F[j++];O[X++]=String.fromCharCode((31&G)<<6|63&xe)}else if(G>239&&G<365){const Ut=((7&G)<<18|(63&F[j++])<<12|(63&F[j++])<<6|63&F[j++])-65536;O[X++]=String.fromCharCode(55296+(Ut>>10)),O[X++]=String.fromCharCode(56320+(1023&Ut))}else{const xe=F[j++],rt=F[j++];O[X++]=String.fromCharCode((15&G)<<12|(63&xe)<<6|63&rt)}}return O.join("")}(this.decodeStringToByteArray(F,O))},decodeStringToByteArray(F,O){this.init_();const j=O?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let G=0;G<F.length;){const xe=j[F.charAt(G++)],_t=G<F.length?j[F.charAt(G)]:0;++G;const De=G<F.length?j[F.charAt(G)]:64;++G;const Ze=G<F.length?j[F.charAt(G)]:64;if(++G,null==xe||null==_t||null==De||null==Ze)throw new oe;X.push(xe<<2|_t>>4),64!==De&&(X.push(_t<<4&240|De>>2),64!==Ze&&X.push(De<<6&192|Ze))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(F){const O=ae(F);return pe.encodeByteArray(O,!0)},Se=function(F){return Ce(F).replace(/\./g,"")},U=function(F){try{return pe.decodeString(F,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function H(F){return Y(void 0,F)}function Y(F,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return O}for(const j in O)!O.hasOwnProperty(j)||!Le(j)||(F[j]=Y(F[j],O[j]));return F}function Le(F){return"__proto__"!==F}const ce=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=F&&U(F[1]);return O&&JSON.parse(O)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Je=F=>{const O=(F=>{var O,j;return null===(j=null===(O=ce())||void 0===O?void 0:O.emulatorHosts)||void 0===j?void 0:j[F]})(F);if(!O)return;const j=O.lastIndexOf(":");if(j<=0||j+1===O.length)throw new Error(`Invalid host ${O} with no separate hostname and port!`);const X=parseInt(O.substring(j+1),10);return"["===O[0]?[O.substring(1,j-1),X]:[O.substring(0,j),X]},ve=()=>{var F;return null===(F=ce())||void 0===F?void 0:F.config},ie=F=>{var O;return null===(O=ce())||void 0===O?void 0:O[`_${F}`]};class ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,j)=>{this.resolve=O,this.reject=j})}wrapCallback(O){return(j,X)=>{j?this.reject(j):this.resolve(X),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(j):O(j,X))}}}function Oe(F,O){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=O||"demo-project",G=F.iat||0,xe=F.sub||F.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:G,exp:G+3600,auth_time:G,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(rt)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Z(){var F;const O=null===(F=ce())||void 0===F?void 0:F.forceEnvironment;if("node"===O)return!0;if("browser"===O)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ut(){return"object"==typeof self&&self.self===self}function $e(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ee(){const F=Fe();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function ue(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function we(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((F,O)=>{try{let j=!0;const X="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(X);G.onsuccess=()=>{G.result.close(),j||self.indexedDB.deleteDatabase(X),F(!0)},G.onupgradeneeded=()=>{j=!1},G.onerror=()=>{var xe;O((null===(xe=G.error)||void 0===xe?void 0:xe.message)||"")}}catch(j){O(j)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ft extends Error{constructor(O,j,X){super(j),this.code=O,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(O,j,X){this.service=O,this.serviceName=j,this.errors=X}create(O,...j){const X=j[0]||{},G=`${this.service}/${O}`,xe=this.errors[O],rt=xe?function Pt(F,O){return F.replace(Ct,(j,X)=>{const G=O[X];return null!=G?String(G):`<${X}?>`})}(xe,X):"Error";return new ft(G,`${this.serviceName}: ${rt} (${G}).`,X)}}const Ct=/\{\$([^}]+)}/g;function St(F){return JSON.parse(F)}function an(F){return JSON.stringify(F)}const Cn=function(F){let O={},j={},X={},G="";try{const xe=F.split(".");O=St(U(xe[0])||""),j=St(U(xe[1])||""),G=xe[2],X=j.d||{},delete j.d}catch{}return{header:O,claims:j,data:X,signature:G}},Bn=function(F){const j=Cn(F).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},Ir=function(F){const O=Cn(F).claims;return"object"==typeof O&&!0===O.admin};function Sr(F,O){return Object.prototype.hasOwnProperty.call(F,O)}function Eo(F,O){if(Object.prototype.hasOwnProperty.call(F,O))return F[O]}function wo(F){for(const O in F)if(Object.prototype.hasOwnProperty.call(F,O))return!1;return!0}function We(F,O,j){const X={};for(const G in F)Object.prototype.hasOwnProperty.call(F,G)&&(X[G]=O.call(j,F[G],G,F));return X}function Ti(F,O){if(F===O)return!0;const j=Object.keys(F),X=Object.keys(O);for(const G of j){if(!X.includes(G))return!1;const xe=F[G],rt=O[G];if(sr(xe)&&sr(rt)){if(!Ti(xe,rt))return!1}else if(xe!==rt)return!1}for(const G of X)if(!j.includes(G))return!1;return!0}function sr(F){return null!==F&&"object"==typeof F}function Do(F){const O=[];for(const[j,X]of Object.entries(F))Array.isArray(X)?X.forEach(G=>{O.push(encodeURIComponent(j)+"="+encodeURIComponent(G))}):O.push(encodeURIComponent(j)+"="+encodeURIComponent(X));return O.length?"&"+O.join("&"):""}function or(F){const O={};return F.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[G,xe]=X.split("=");O[decodeURIComponent(G)]=decodeURIComponent(xe)}}),O}function An(F){const O=F.indexOf("?");if(!O)return"";const j=F.indexOf("#",O);return F.substring(O,j>0?j:void 0)}class Kt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let O=1;O<this.blockSize;++O)this.pad_[O]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(O,j){j||(j=0);const X=this.W_;if("string"==typeof O)for(let Ze=0;Ze<16;Ze++)X[Ze]=O.charCodeAt(j)<<24|O.charCodeAt(j+1)<<16|O.charCodeAt(j+2)<<8|O.charCodeAt(j+3),j+=4;else for(let Ze=0;Ze<16;Ze++)X[Ze]=O[j]<<24|O[j+1]<<16|O[j+2]<<8|O[j+3],j+=4;for(let Ze=16;Ze<80;Ze++){const qt=X[Ze-3]^X[Ze-8]^X[Ze-14]^X[Ze-16];X[Ze]=4294967295&(qt<<1|qt>>>31)}let De,ze,G=this.chain_[0],xe=this.chain_[1],rt=this.chain_[2],_t=this.chain_[3],Ut=this.chain_[4];for(let Ze=0;Ze<80;Ze++){Ze<40?Ze<20?(De=_t^xe&(rt^_t),ze=1518500249):(De=xe^rt^_t,ze=1859775393):Ze<60?(De=xe&rt|_t&(xe|rt),ze=2400959708):(De=xe^rt^_t,ze=3395469782);const qt=(G<<5|G>>>27)+De+Ut+ze+X[Ze]&4294967295;Ut=_t,_t=rt,rt=4294967295&(xe<<30|xe>>>2),xe=G,G=qt}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+xe&4294967295,this.chain_[2]=this.chain_[2]+rt&4294967295,this.chain_[3]=this.chain_[3]+_t&4294967295,this.chain_[4]=this.chain_[4]+Ut&4294967295}update(O,j){if(null==O)return;void 0===j&&(j=O.length);const X=j-this.blockSize;let G=0;const xe=this.buf_;let rt=this.inbuf_;for(;G<j;){if(0===rt)for(;G<=X;)this.compress_(O,G),G+=this.blockSize;if("string"==typeof O){for(;G<j;)if(xe[rt]=O.charCodeAt(G),++rt,++G,rt===this.blockSize){this.compress_(xe),rt=0;break}}else for(;G<j;)if(xe[rt]=O[G],++rt,++G,rt===this.blockSize){this.compress_(xe),rt=0;break}}this.inbuf_=rt,this.total_+=j}digest(){const O=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&j,j/=256;this.compress_(this.buf_);let X=0;for(let G=0;G<5;G++)for(let xe=24;xe>=0;xe-=8)O[X]=this.chain_[G]>>xe&255,++X;return O}}function Yt(F,O){const j=new Ye(F,O);return j.subscribe.bind(j)}class Ye{constructor(O,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{O(this)}).catch(X=>{this.error(X)})}next(O){this.forEachObserver(j=>{j.next(O)})}error(O){this.forEachObserver(j=>{j.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,j,X){let G;if(void 0===O&&void 0===j&&void 0===X)throw new Error("Missing Observer.");G=function zt(F,O){if("object"!=typeof F||null===F)return!1;for(const j of O)if(j in F&&"function"==typeof F[j])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:j,complete:X},void 0===G.next&&(G.next=ar),void 0===G.error&&(G.error=ar),void 0===G.complete&&(G.complete=ar);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),xe}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,O)}sendOne(O,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{j(this.observers[O])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ar(){}const yi=function(F,O,j,X){let G;if(X<O?G="at least "+O:X>j&&(G=0===j?"none":"no more than "+j),G)throw new Error(F+" failed: Was called with "+X+(1===X?" argument.":" arguments.")+" Expects "+G+".")};function gn(F,O){return`${F} failed: ${O} argument `}function Hn(F,O,j,X){if((!X||j)&&"function"!=typeof j)throw new Error(gn(F,O)+"must be a valid function.")}function Ht(F,O,j,X){if((!X||j)&&("object"!=typeof j||null===j))throw new Error(gn(F,O)+"must be a valid context object.")}const Rs=function(F){const O=[];let j=0;for(let X=0;X<F.length;X++){let G=F.charCodeAt(X);if(G>=55296&&G<=56319){const xe=G-55296;X++,Q(X<F.length,"Surrogate pair missing trail surrogate."),G=65536+(xe<<10)+(F.charCodeAt(X)-56320)}G<128?O[j++]=G:G<2048?(O[j++]=G>>6|192,O[j++]=63&G|128):G<65536?(O[j++]=G>>12|224,O[j++]=G>>6&63|128,O[j++]=63&G|128):(O[j++]=G>>18|240,O[j++]=G>>12&63|128,O[j++]=G>>6&63|128,O[j++]=63&G|128)}return O},Mt=function(F){let O=0;for(let j=0;j<F.length;j++){const X=F.charCodeAt(j);X<128?O++:X<2048?O+=2:X>=55296&&X<=56319?(O+=4,j++):O+=3}return O},ri=1e3,Ar=2,En=144e5,si=.5;function rs(F,O=ri,j=Ar){const X=O*Math.pow(j,F),G=Math.round(si*X*(Math.random()-.5)*2);return Math.min(En,X+G)}function ki(F){return F&&F._delegate?F._delegate:F}},156:(tt,be,R)=>{var c=R(4650);let Q=null;function L(){return Q}class pe{}const oe=new c.OlP("DocumentToken");let Ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Se(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})(),H=(()=>{class n extends Ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){Y()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){Y()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Le(){return new H((0,c.LFG)(oe))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Ee(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ie(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ke(n){return n&&"?"!==n[0]?"?"+n:n}let J=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(je)},providedIn:"root"}),n})();const ce=new c.OlP("appBaseHref");let je=(()=>{class n extends J{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ee(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ke(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const h=this.prepareExternalUrl(o+ke(l));this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,l){const h=this.prepareExternalUrl(o+ke(l));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce),c.LFG(ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ve=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ie(Oe(i)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ke(i))}normalize(e){return n.stripTrailingSlash(function ne(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Oe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ke(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ke(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return n.normalizeQueryParams=ke,n.joinWithSlash=Ee,n.stripTrailingSlash=Ie,n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ie(){return new ve((0,c.LFG)(J))}()},providedIn:"root"}),n})();function Oe(n){return n.replace(/\/index.html$/,"")}var ut=(()=>((ut=ut||{})[ut.Format=0]="Format",ut[ut.Standalone=1]="Standalone",ut))(),$e=(()=>(($e=$e||{})[$e.Narrow=0]="Narrow",$e[$e.Abbreviated=1]="Abbreviated",$e[$e.Wide=2]="Wide",$e[$e.Short=3]="Short",$e))(),Dt=(()=>((Dt=Dt||{})[Dt.Short=0]="Short",Dt[Dt.Medium=1]="Medium",Dt[Dt.Long=2]="Long",Dt[Dt.Full=3]="Full",Dt))(),Ke=(()=>((Ke=Ke||{})[Ke.Decimal=0]="Decimal",Ke[Ke.Group=1]="Group",Ke[Ke.List=2]="List",Ke[Ke.PercentSign=3]="PercentSign",Ke[Ke.PlusSign=4]="PlusSign",Ke[Ke.MinusSign=5]="MinusSign",Ke[Ke.Exponential=6]="Exponential",Ke[Ke.SuperscriptingExponent=7]="SuperscriptingExponent",Ke[Ke.PerMille=8]="PerMille",Ke[Ke.Infinity=9]="Infinity",Ke[Ke.NaN=10]="NaN",Ke[Ke.TimeSeparator=11]="TimeSeparator",Ke[Ke.CurrencyDecimal=12]="CurrencyDecimal",Ke[Ke.CurrencyGroup=13]="CurrencyGroup",Ke))();function ft(n,t){return We((0,c.cg1)(n)[c.wAp.DateFormat],t)}function Me(n,t){return We((0,c.cg1)(n)[c.wAp.TimeFormat],t)}function Pt(n,t){return We((0,c.cg1)(n)[c.wAp.DateTimeFormat],t)}function Ct(n,t){const e=(0,c.cg1)(n),i=e[c.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Ke.CurrencyDecimal)return e[c.wAp.NumberSymbols][Ke.Decimal];if(t===Ke.CurrencyGroup)return e[c.wAp.NumberSymbols][Ke.Group]}return i}function Ir(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function We(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Ti(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const or=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,An={},Kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yt=(()=>((Yt=Yt||{})[Yt.Short=0]="Short",Yt[Yt.ShortGMT=1]="ShortGMT",Yt[Yt.Long=2]="Long",Yt[Yt.Extended=3]="Extended",Yt))(),Ye=(()=>((Ye=Ye||{})[Ye.FullYear=0]="FullYear",Ye[Ye.Month=1]="Month",Ye[Ye.Date=2]="Date",Ye[Ye.Hours=3]="Hours",Ye[Ye.Minutes=4]="Minutes",Ye[Ye.Seconds=5]="Seconds",Ye[Ye.FractionalSeconds=6]="FractionalSeconds",Ye[Ye.Day=7]="Day",Ye))(),Qe=(()=>((Qe=Qe||{})[Qe.DayPeriods=0]="DayPeriods",Qe[Qe.Days=1]="Days",Qe[Qe.Months=2]="Months",Qe[Qe.Eras=3]="Eras",Qe))();function zt(n,t,e,i){let o=function G(n){if(rt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,l=1,h=1]=n.split("-").map(g=>+g);return ar(o,l-1,h)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(or))return function xe(n){const t=new Date(0);let e=0,i=0;const o=n[8]?t.setUTCFullYear:t.setFullYear,l=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const h=Number(n[4]||0)-e,g=Number(n[5]||0)-i,b=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(t,h,g,b,w),t}(i)}const t=new Date(n);if(!rt(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=yi(e,t)||t;let g,h=[];for(;t;){if(g=Kt.exec(t),!g){h.push(t);break}{h=h.concat(g.slice(1));const S=h.pop();if(!S)break;t=S}}let b=o.getTimezoneOffset();i&&(b=O(i,b),o=function X(n,t,e){const i=e?-1:1,o=n.getTimezoneOffset();return function j(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(O(t,o)-o))}(o,i,!0));let w="";return h.forEach(S=>{const M=function F(n){if(ki[n])return ki[n];let t;switch(n){case"G":case"GG":case"GGG":t=Mt(Qe.Eras,$e.Abbreviated);break;case"GGGG":t=Mt(Qe.Eras,$e.Wide);break;case"GGGGG":t=Mt(Qe.Eras,$e.Narrow);break;case"y":t=Ht(Ye.FullYear,1,0,!1,!0);break;case"yy":t=Ht(Ye.FullYear,2,0,!0,!0);break;case"yyy":t=Ht(Ye.FullYear,3,0,!1,!0);break;case"yyyy":t=Ht(Ye.FullYear,4,0,!1,!0);break;case"Y":t=Tr(1);break;case"YY":t=Tr(2,!0);break;case"YYY":t=Tr(3);break;case"YYYY":t=Tr(4);break;case"M":case"L":t=Ht(Ye.Month,1,1);break;case"MM":case"LL":t=Ht(Ye.Month,2,1);break;case"MMM":t=Mt(Qe.Months,$e.Abbreviated);break;case"MMMM":t=Mt(Qe.Months,$e.Wide);break;case"MMMMM":t=Mt(Qe.Months,$e.Narrow);break;case"LLL":t=Mt(Qe.Months,$e.Abbreviated,ut.Standalone);break;case"LLLL":t=Mt(Qe.Months,$e.Wide,ut.Standalone);break;case"LLLLL":t=Mt(Qe.Months,$e.Narrow,ut.Standalone);break;case"w":t=wn(1);break;case"ww":t=wn(2);break;case"W":t=wn(1,!0);break;case"d":t=Ht(Ye.Date,1);break;case"dd":t=Ht(Ye.Date,2);break;case"c":case"cc":t=Ht(Ye.Day,1);break;case"ccc":t=Mt(Qe.Days,$e.Abbreviated,ut.Standalone);break;case"cccc":t=Mt(Qe.Days,$e.Wide,ut.Standalone);break;case"ccccc":t=Mt(Qe.Days,$e.Narrow,ut.Standalone);break;case"cccccc":t=Mt(Qe.Days,$e.Short,ut.Standalone);break;case"E":case"EE":case"EEE":t=Mt(Qe.Days,$e.Abbreviated);break;case"EEEE":t=Mt(Qe.Days,$e.Wide);break;case"EEEEE":t=Mt(Qe.Days,$e.Narrow);break;case"EEEEEE":t=Mt(Qe.Days,$e.Short);break;case"a":case"aa":case"aaa":t=Mt(Qe.DayPeriods,$e.Abbreviated);break;case"aaaa":t=Mt(Qe.DayPeriods,$e.Wide);break;case"aaaaa":t=Mt(Qe.DayPeriods,$e.Narrow);break;case"b":case"bb":case"bbb":t=Mt(Qe.DayPeriods,$e.Abbreviated,ut.Standalone,!0);break;case"bbbb":t=Mt(Qe.DayPeriods,$e.Wide,ut.Standalone,!0);break;case"bbbbb":t=Mt(Qe.DayPeriods,$e.Narrow,ut.Standalone,!0);break;case"B":case"BB":case"BBB":t=Mt(Qe.DayPeriods,$e.Abbreviated,ut.Format,!0);break;case"BBBB":t=Mt(Qe.DayPeriods,$e.Wide,ut.Format,!0);break;case"BBBBB":t=Mt(Qe.DayPeriods,$e.Narrow,ut.Format,!0);break;case"h":t=Ht(Ye.Hours,1,-12);break;case"hh":t=Ht(Ye.Hours,2,-12);break;case"H":t=Ht(Ye.Hours,1);break;case"HH":t=Ht(Ye.Hours,2);break;case"m":t=Ht(Ye.Minutes,1);break;case"mm":t=Ht(Ye.Minutes,2);break;case"s":t=Ht(Ye.Seconds,1);break;case"ss":t=Ht(Ye.Seconds,2);break;case"S":t=Ht(Ye.FractionalSeconds,1);break;case"SS":t=Ht(Ye.FractionalSeconds,2);break;case"SSS":t=Ht(Ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ri(Yt.Short);break;case"ZZZZZ":t=ri(Yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ri(Yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ri(Yt.Long);break;default:return null}return ki[n]=t,t}(S);w+=M?M(o,e,b):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function ar(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function yi(n,t){const e=function re(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(An[e]=An[e]||{},An[e][t])return An[e][t];let i="";switch(t){case"shortDate":i=ft(n,Dt.Short);break;case"mediumDate":i=ft(n,Dt.Medium);break;case"longDate":i=ft(n,Dt.Long);break;case"fullDate":i=ft(n,Dt.Full);break;case"shortTime":i=Me(n,Dt.Short);break;case"mediumTime":i=Me(n,Dt.Medium);break;case"longTime":i=Me(n,Dt.Long);break;case"fullTime":i=Me(n,Dt.Full);break;case"short":const o=yi(n,"shortTime"),l=yi(n,"shortDate");i=gn(Pt(n,Dt.Short),[o,l]);break;case"medium":const h=yi(n,"mediumTime"),g=yi(n,"mediumDate");i=gn(Pt(n,Dt.Medium),[h,g]);break;case"long":const b=yi(n,"longTime"),w=yi(n,"longDate");i=gn(Pt(n,Dt.Long),[b,w]);break;case"full":const S=yi(n,"fullTime"),M=yi(n,"fullDate");i=gn(Pt(n,Dt.Full),[S,M])}return i&&(An[e][t]=i),i}function gn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ht(n,t,e="-",i,o){let l="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,l=e));let h=String(n);for(;h.length<t;)h="0"+h;return i&&(h=h.slice(h.length-t)),l+h}function Ht(n,t,e=0,i=!1,o=!1){return function(l,h){let g=function Rs(n,t){switch(n){case Ye.FullYear:return t.getFullYear();case Ye.Month:return t.getMonth();case Ye.Date:return t.getDate();case Ye.Hours:return t.getHours();case Ye.Minutes:return t.getMinutes();case Ye.Seconds:return t.getSeconds();case Ye.FractionalSeconds:return t.getMilliseconds();case Ye.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((e>0||g>-e)&&(g+=e),n===Ye.Hours)0===g&&-12===e&&(g=12);else if(n===Ye.FractionalSeconds)return function Hn(n,t){return ht(n,3).substring(0,t)}(g,t);const b=Ct(h,Ke.MinusSign);return ht(g,t,b,i,o)}}function Mt(n,t,e=ut.Format,i=!1){return function(o,l){return function Mi(n,t,e,i,o,l){switch(e){case Qe.Months:return function we(n,t,e){const i=(0,c.cg1)(n),l=We([i[c.wAp.MonthsFormat],i[c.wAp.MonthsStandalone]],t);return We(l,e)}(t,o,i)[n.getMonth()];case Qe.Days:return function ge(n,t,e){const i=(0,c.cg1)(n),l=We([i[c.wAp.DaysFormat],i[c.wAp.DaysStandalone]],t);return We(l,e)}(t,o,i)[n.getDay()];case Qe.DayPeriods:const h=n.getHours(),g=n.getMinutes();if(l){const w=function Sr(n){const t=(0,c.cg1)(n);return Ir(t),(t[c.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Ti(i):[Ti(i[0]),Ti(i[1])])}(t),S=function Eo(n,t,e){const i=(0,c.cg1)(n);Ir(i);const l=We([i[c.wAp.ExtraData][0],i[c.wAp.ExtraData][1]],t)||[];return We(l,e)||[]}(t,o,i),M=w.findIndex(P=>{if(Array.isArray(P)){const[V,z]=P,te=h>=V.hours&&g>=V.minutes,Pe=h<z.hours||h===z.hours&&g<z.minutes;if(V.hours<z.hours){if(te&&Pe)return!0}else if(te||Pe)return!0}else if(P.hours===h&&P.minutes===g)return!0;return!1});if(-1!==M)return S[M]}return function ue(n,t,e){const i=(0,c.cg1)(n),l=We([i[c.wAp.DayPeriodsFormat],i[c.wAp.DayPeriodsStandalone]],t);return We(l,e)}(t,o,i)[h<12?0:1];case Qe.Eras:return function le(n,t){return We((0,c.cg1)(n)[c.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,l,n,t,e,i)}}function ri(n){return function(t,e,i){const o=-1*i,l=Ct(e,Ke.MinusSign),h=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case Yt.Short:return(o>=0?"+":"")+ht(h,2,l)+ht(Math.abs(o%60),2,l);case Yt.ShortGMT:return"GMT"+(o>=0?"+":"")+ht(h,1,l);case Yt.Long:return"GMT"+(o>=0?"+":"")+ht(h,2,l)+":"+ht(Math.abs(o%60),2,l);case Yt.Extended:return 0===i?"Z":(o>=0?"+":"")+ht(h,2,l)+":"+ht(Math.abs(o%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ar=0,En=4;function rs(n){return ar(n.getFullYear(),n.getMonth(),n.getDate()+(En-n.getDay()))}function wn(n,t=!1){return function(e,i){let o;if(t){const l=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,h=e.getDate();o=1+Math.floor((h+l)/7)}else{const l=rs(e),h=function si(n){const t=ar(n,Ar,1).getDay();return ar(n,0,1+(t<=En?En:En+7)-t)}(l.getFullYear()),g=l.getTime()-h.getTime();o=1+Math.round(g/6048e5)}return ht(o,n,Ct(i,Ke.MinusSign))}}function Tr(n,t=!1){return function(e,i){return ht(rs(e).getFullYear(),n,Ct(i,Ke.MinusSign),t)}}const ki={};function O(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function rt(n){return n instanceof Date&&!isNaN(n.valueOf())}function uu(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}let Ft=(()=>{class n{constructor(e,i,o,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class du{constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lt=(()=>{class n{constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,h)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new du(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===l?void 0:l);else if(null!==l){const g=i.get(l);i.move(g,h),Io(g,o)}});for(let o=0,l=i.length;o<l;o++){const g=i.get(o).context;g.index=o,g.count=l,g.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Io(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Io(n,t){n.context.$implicit=t.item}let Dn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new fh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$n("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$n("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class fh{constructor(){this.$implicit=null,this.ngIf=null}}function $n(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class vi{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let os=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),So=(()=>{class n{constructor(e,i,o){this.ngSwitch=o,o._addCase(),this._view=new vi(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(os,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();const eb=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let pu=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",o,l){if(null==e||""===e||e!=e)return null;try{return zt(e,i,l||this.locale,o??this.defaultTimezone??void 0)}catch(h){throw function Ri(n,t){return new c.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16),c.Y36(eb,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),xr=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=lr}transform(e,i=lr){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const o=this.differ.diff(e),l=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(h=>{this.keyValues.push(function Ml(n,t){return{key:n,value:t}}(h.key,h.currentValue))})),(o||l)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.aQg,16))},n.\u0275pipe=c.Yjl({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function lr(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const o=String(e),l=String(i);return o==l?0:o<l?-1:1}let Ao=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const xl="browser";class ma{}class qm extends pe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Lh extends qm{static makeCurrent(){!function me(n){Q||(Q=n)}(new Lh)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ul(){return Hl=Hl||document.querySelector("base"),Hl?Hl.getAttribute("href"):null}();return null==e?null:function Zm(n){jl=jl||document.createElement("a"),jl.setAttribute("href",n);const t=jl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return uu(document.cookie,t)}}let jl,Hl=null;const Ea=new c.OlP("TRANSITION_ID"),Qm=[{provide:c.ip1,useFactory:function Vh(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=L(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)i.remove(o[l])})}},deps:[Ea,oe,c.zs3],multi:!0}];let ub=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const cs=new c.OlP("EventManagerPlugins");let Da=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(cs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Vs{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const o=L().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let Bs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),us=(()=>{class n extends Bs{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(i.appendChild(h))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(xu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(xu))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function xu(n){L().remove(n)}const Ru={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pi=/%COMP%/g;function Hs(n,t,e){for(let i=0;i<t.length;i++){let o=t[i];Array.isArray(o)?Hs(n,o,e):(o=o.replace(Pi,n),e.push(o))}return e}function zl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Sa=(()=>{class n{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Gl(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new hs(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case c.ifc.ShadowDom:return new Bh(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=Hs(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Da),c.LFG(us),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Gl{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ru[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Aa(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Aa(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const l=Ru[o];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=Ru[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,o&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,zl(i)):this.eventManager.addEventListener(t,e,zl(i))}}function Aa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hs extends Gl{constructor(t,e,i,o){super(t),this.component=i;const l=Hs(o+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function xo(n){return"_ngcontent-%COMP%".replace(Pi,n)}(o+"-"+i.id),this.hostAttr=function $l(n){return"_nghost-%COMP%".replace(Pi,n)}(o+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Bh extends Gl{constructor(t,e,i,o){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Hs(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const g=document.createElement("style");g.textContent=l[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Hh=(()=>{class n extends Vs{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Zi=["alt","control","meta","shift"],eg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Pu=(()=>{class n extends Vs{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let h="",g=i.indexOf("code");if(g>-1&&(i.splice(g,1),h="code."),Zi.forEach(w=>{const S=i.indexOf(w);S>-1&&(i.splice(S,1),h+=w+".")}),h+=l,0!=i.length||0===l.length)return null;const b={};return b.domEventName=o,b.fullKey=h,b}static matchEventFullKeyCode(e,i){let o=eg[e.key]||e.key,l="";return i.indexOf("code.")>-1&&(o=e.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Zi.forEach(h=>{h!==o&&(0,pn[h])(e)&&(l+=h+".")}),l+=o,l===i)}static eventCallback(e,i,o){return l=>{n.matchEventFullKeyCode(l,e)&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Yl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:xl},{provide:c.g9A,useValue:function js(){Lh.makeCurrent()},multi:!0},{provide:oe,useFactory:function Ro(){return(0,c.RDi)(document),document},deps:[]}]),ka=new c.OlP(""),jt=[{provide:c.rWj,useClass:class wa{addToWindow(t){c.dqk.getAngularTestability=(i,o=!0)=>{const l=t.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const o=c.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const g=function(b){h=h||b,l--,0==l&&i(h)};o.forEach(function(b){b.whenStable(g)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Nu=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Uh(){return new c.qLn},deps:[]},{provide:cs,useClass:Hh,multi:!0,deps:[oe,c.R0b,c.Lbi]},{provide:cs,useClass:Pu,multi:!0,deps:[oe]},{provide:Sa,useClass:Sa,deps:[Da,us,c.AFp]},{provide:c.FYo,useExisting:Sa},{provide:Bs,useExisting:us},{provide:us,useClass:us,deps:[oe]},{provide:Da,useClass:Da,deps:[cs,c.R0b]},{provide:ma,useClass:ub,deps:[]},[]];let jh=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Ea,useExisting:c.AFp},Qm]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ka,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Nu,...jt],imports:[Ao,c.hGG]}),n})();typeof window<"u"&&window;let Oa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):c.LFG(Zl),i},providedIn:"root"}),n})(),Zl=(()=>{class n extends Oa{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function lg(n){return new Zl(n.get(oe))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Be=R(5861),It=R(2951),Qn=R(4859),k=R(2090),Jn=R(1877);const $s="@firebase/database";let Vu="";function Kh(n){Vu=n}class Ql{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,k.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,k.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Po{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,k.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const zs=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ql(t)}}catch{}return new Po},Gs=zs("localStorage"),Xt=zs("sessionStorage"),Ws=new Jn.Yd("@firebase/database"),Pa=function(){let n=1;return function(){return n++}}(),Jl=function(n){const t=(0,k.dS)(n),e=new k.gQ;e.update(t);const i=e.digest();return k.US.encodeByteArray(i)},Qi=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Qi.apply(null,i):t+="object"==typeof i?(0,k.Wl)(i):i,t+=" "}return t};let Lr=null,qh=!0;const No=function(n,t){(0,k.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ws.logLevel=Jn.in.VERBOSE,Lr=Ws.log.bind(Ws),t&&Xt.set("logging_enabled",!0)):"function"==typeof n?Lr=n:(Lr=null,Xt.remove("logging_enabled"))},vn=function(...n){if(!0===qh&&(qh=!1,null===Lr&&!0===Xt.get("logging_enabled")&&No(!0)),Lr){const t=Qi.apply(null,n);Lr(t)}},Vr=function(n){return function(...t){vn(n,...t)}},Fo=function(...n){const t="FIREBASE INTERNAL ERROR: "+Qi(...n);Ws.error(t)},Gn=function(...n){const t=`FIREBASE FATAL ERROR: ${Qi(...n)}`;throw Ws.error(t),new Error(t)},kn=function(...n){const t="FIREBASE WARNING: "+Qi(...n);Ws.warn(t)},dr=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},hr="[MIN_NAME]",Br="[MAX_NAME]",Ys=function(n,t){if(n===t)return 0;if(n===hr||t===Br)return-1;if(t===hr||n===Br)return 1;{const e=ec(n),i=ec(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},ps=function(n,t){return n===t?0:n<t?-1:1},Hr=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.Wl)(t))},Bu=function(n){if("object"!=typeof n||null===n)return(0,k.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,k.Wl)(t[i]),e+=":",e+=Bu(n[t[i]]);return e+="}",e},Hu=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let o=0;o<e;o+=t)i.push(n.substring(o,o+t>e?e:o+t));return i};function In(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Qh=function(n){(0,k.hu)(!dr(n),"Invalid JSON number");const i=1023;let o,l,h,g,b;0===n?(l=0,h=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(g=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=g+i,h=Math.round(n*Math.pow(2,52-g)-Math.pow(2,52))):(l=0,h=Math.round(n/Math.pow(2,-1074))));const w=[];for(b=52;b;b-=1)w.push(h%2?1:0),h=Math.floor(h/2);for(b=11;b;b-=1)w.push(l%2?1:0),l=Math.floor(l/2);w.push(o?1:0),w.reverse();const S=w.join("");let M="";for(b=0;b<64;b+=8){let P=parseInt(S.substr(b,8),2).toString(16);1===P.length&&(P="0"+P),M+=P}return M.toLowerCase()},Xl=new RegExp("^-?(0*)\\d{1,10}$"),ec=function(n){if(Xl.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Ks=function(n){try{n()}catch(t){setTimeout(()=>{throw kn("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},ug=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qs=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class dg{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){kn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class hg{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(vn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kn(t)}}let Vo=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const mg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fa="websocket",zu="long_polling";class La{constructor(t,e,i,o,l=!1,h="",g=!1,b=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=h,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=b,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gs.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Gu(n,t,e){let i;if((0,k.hu)("string"==typeof t,"typeof type must == string"),(0,k.hu)("object"==typeof e,"typeof params must == object"),t===Fa)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==zu)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function tf(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return In(e,(l,h)=>{o.push(l+"="+h)}),i+o.join("&")}class nf{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,k.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,k.p$)(this.counters_)}}const Fi={},Wu={};function Yu(n){const t=n.toString();return Fi[t]||(Fi[t]=new nf),Fi[t]}class rf{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&Ks(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class fr{constructor(t,e,i,o,l,h,g){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=h,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vr(t),this.stats_=Yu(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),Gu(e,zu,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new rf(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rc((...l)=>{const[h,g,b,w,S]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=g,this.password=b;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[h,g]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(h,g)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&mg.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fr.forceAllow_=!0}static forceDisallow(){fr.forceDisallow_=!0}static isAvailable(){return!((0,k.Yr)()||!fr.forceAllow_&&(fr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,k.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,k.h$)(e),o=Hu(i,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,k.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,k.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class rc{constructor(t,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Pa(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=rc.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(g){vn("frame writing exception"),g.stack&&vn(g.stack),vn(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||vn("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),i()})}addTag(t,e){(0,k.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{vn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Ha=null;typeof MozWebSocket<"u"?Ha=MozWebSocket:typeof WebSocket<"u"&&(Ha=WebSocket);let Ur=(()=>{class n{constructor(e,i,o,l,h,g,b){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vr(this.connId),this.stats_=Yu(i),this.connURL=n.connectionURL_(i,g,b,l,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,l,h){const g={v:"5"};return!(0,k.Yr)()&&typeof location<"u"&&location.hostname&&mg.test(location.hostname)&&(g.r="f"),i&&(g.s=i),o&&(g.ls=o),l&&(g.ac=l),h&&(g.p=h),Gu(e,Fa,g)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gs.set("previous_websocket_failure",!0);try{let o;if((0,k.Yr)()){o={headers:{"User-Agent":`Firebase/5/${Vu}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,g=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;g&&(o.proxy={origin:g})}this.mySock=new Ha(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Ha&&!n.forceDisallow_}static previouslyFailed(){return Gs.isInMemoryStorage||!0===Gs.get("previous_websocket_failure")}markConnectionHealthy(){Gs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,k.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,k.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Hu(i,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Ua=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[fr,Ur]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Ur&&Ur.isAvailable();let o=i&&!Ur.previouslyFailed();if(e.webSocketOnly&&(i||kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ur];else{const l=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class lc{constructor(t,e,i,o,l,h,g,b,w,S){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=h,this.onReady_=g,this.onDisconnect_=b,this.onKill_=w,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vr("c:"+this.id+":"),this.transportManager_=new Ua(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=qs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Hr("t",t),i=Hr("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Hr("t",t),i=Hr("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Hr("t",t);if("d"in t){const i=t.d;if("h"===e){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Fo("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fo("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&kn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),qs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class cc{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class gf{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,k.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!i||i===o[l].context))return void o.splice(l,1)}validateEventType_(t){(0,k.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Uo extends gf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,k.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Uo}getInitialEvent(t){return(0,k.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const _f=32,yf=768;class kt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function xt(){return new kt("")}function yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function pr(n){return n.pieces_.length-n.pieceNum_}function $t(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new kt(n.pieces_,t)}function ja(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Js(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Zu(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new kt(t,0)}function Qt(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof kt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new kt(e,0)}function dt(n){return n.pieceNum_>=n.pieces_.length}function Rn(n,t){const e=yt(n),i=yt(t);if(null===e)return t;if(e===i)return Rn($t(n),$t(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function bf(n,t){const e=Js(n,0),i=Js(t,0);for(let o=0;o<e.length&&o<i.length;o++){const l=Ys(e[o],i[o]);if(0!==l)return l}return e.length===i.length?0:e.length<i.length?-1:1}function Qu(n,t){if(pr(n)!==pr(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function ui(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(pr(n)>pr(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class uc{constructor(t,e){this.errorPrefix_=e,this.parts_=Js(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,k.ug)(this.parts_[i]);dc(this)}}function dc(n){if(n.byteLength_>yf)throw new Error(n.errorPrefix_+"has a key path longer than "+yf+" bytes ("+n.byteLength_+").");if(n.parts_.length>_f)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_f+") or object contains a cycle "+gs(n))}function gs(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $a extends gf{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new $a}getInitialEvent(t){return(0,k.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const jo=1e3;let zo,Ji=(()=>{class n extends cc{constructor(e,i,o,l,h,g,b,w){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=g,this.appCheckTokenProvider_=b,this.authOverride_=w,this.id=n.nextPersistentConnectionId_++,this.log_=Vr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$a.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Uo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const l=++this.requestNumber_,h={r:l,a:e,b:i};this.log_((0,k.Wl)(h)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const i=new k.BH,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:g=>{const b=g.d;"ok"===g.s?i.resolve(b):i.reject(b)}};return this.outstandingGets_.push(l),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,o,l){this.initConnection_();const h=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+h),this.listens.has(g)||this.listens.set(g,new Map),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(g).has(h),"listen() called twice for same path/queryId.");const b={onComplete:l,hashFn:i,query:e,tag:o};this.listens.get(g).set(h,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,b=>{const w=b.d,S=b.s;n.warnOnListenWarnings_(w,i),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",b),"ok"!==S&&this.removeListen_(o,l),e.onComplete&&e.onComplete(S,w))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,k.r3)(e,"w")){const o=(0,k.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();kn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,k.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,k.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,l=>{const h=l.s,g=l.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,i)}sendUnlisten_(e,i,o,l){this.log_("Unlisten on "+e+" for "+i);const h={p:e};l&&(h.q=o,h.t=l),this.sendRequest("n",h)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,l){const h={p:i,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,g=>{l&&setTimeout(()=>{l(g.s,g.d)},Math.floor(0))})}put(e,i,o,l){this.putInternal("p",e,i,o,l)}merge(e,i,o,l){this.putInternal("m",e,i,o,l)}putInternal(e,i,o,l,h){this.initConnection_();const g={p:i,d:o};void 0!==h&&(g.h=h),this.outstandingPuts_.push({action:e,request:g,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,k.Wl)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Fo("Unrecognized action received from server: "+(0,k.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=jo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=jo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Be.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,g=e.lastSessionId;let b=!1,w=null;const S=function(){w?w.close():(b=!0,l())};e.realtime_={close:S,sendRequest:function(V){(0,k.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(V)}};const P=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[V,z]=yield Promise.all([e.authTokenProvider_.getToken(P),e.appCheckTokenProvider_.getToken(P)]);b?vn("getToken() completed but was canceled"):(vn("getToken() completed. Creating connection."),e.authToken_=V&&V.accessToken,e.appCheckToken_=z&&z.token,w=new lc(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,l,te=>{kn(te+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(V){e.log_("Failed to get token: "+V),b||(e.repoInfo_.nodeAdmin&&kn(V),S())}}})()}interrupt(e){vn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=jo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(h=>Bu(h)).join("$"):"default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const o=new kt(e).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(i),h.delete(i),0===h.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,i){vn("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){vn("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,k.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Vu.replace(/\./g,"-")]=1,(0,k.uI)()?e["framework.cordova"]=1:(0,k.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Uo.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class bt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new bt(t,e)}}class $o{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new bt(hr,t),o=new bt(hr,e);return 0!==this.compare(i,o)}minPost(){return bt.MIN}}class mc extends $o{static get __EMPTY_NODE(){return zo}static set __EMPTY_NODE(t){zo=t}compare(t,e){return Ys(t.name,e.name)}isDefinedOn(t){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return bt.MIN}maxPost(){return new bt(Br,zo)}makePost(t,e){return(0,k.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new bt(t,zo)}toString(){return".key"}}const Li=new mc;class Go{constructor(t,e,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(h=e?i(t.key,e):1,o&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let wf,Wn=(()=>{class n{constructor(e,i,o,l,h){this.key=e,this.value=i,this.color=o??n.RED,this.left=l??Rt.EMPTY_NODE,this.right=h??Rt.EMPTY_NODE}copy(e,i,o,l,h){return new n(e??this.key,i??this.value,o??this.color,l??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,i,o),null):0===h?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,l;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Rt.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Rt{constructor(t,e=Rt.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Rt(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Wn.BLACK,null,null))}remove(t){return new Rt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wn.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Go(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Go(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Go(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Go(this.root_,null,this.comparator_,!0,t)}}function za(n,t){return Ys(n.name,t.name)}function gc(n,t){return Ys(n,t)}Rt.EMPTY_NODE=new class Xu{copy(t,e,i,o,l){return this}insert(t,e,i){return new Wn(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Wo=function(n){return"number"==typeof n?"number:"+Qh(n):"string:"+n},Df=function(n){if(n.isLeafNode()){const t=n.val();(0,k.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,k.r3)(t,".sv"),"Priority must be a string or number.")}else(0,k.hu)(n===wf||n.isEmpty(),"priority of unexpected type.");(0,k.hu)(n===wf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let _c,Xi,yc,zr=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Df(this.priorityNode_)}static set __childrenNodeConstructor(e){_c=e}static get __childrenNodeConstructor(){return _c}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return dt(e)?this:".priority"===yt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=yt(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,k.hu)(".priority"!==o||1===pr(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild($t(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Wo(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Qh(this.value_):this.value_,this.lazyHash_=Jl(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,k.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),h=n.VALUE_TYPE_ORDER.indexOf(o);return(0,k.hu)(l>=0,"Unknown leaf type: "+i),(0,k.hu)(h>=0,"Unknown leaf type: "+o),l===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Gt=new class Xs extends $o{compare(t,e){const i=t.node.getPriority(),o=e.node.getPriority(),l=i.compareTo(o);return 0===l?Ys(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return bt.MIN}maxPost(){return new bt(Br,new zr("[PRIORITY-POST]",yc))}makePost(t,e){const i=Xi(t);return new bt(e,new zr("[PRIORITY-POST]",i))}toString(){return".priority"}},di=Math.log(2);class td{constructor(t){this.count=parseInt(Math.log(t+1)/di,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Yo=function(n,t,e,i){n.sort(t);const o=function(b,w){const S=w-b;let M,P;if(0===S)return null;if(1===S)return M=n[b],P=e?e(M):M,new Wn(P,M.node,Wn.BLACK,null,null);{const V=parseInt(S/2,10)+b,z=o(b,V),te=o(V+1,w);return M=n[V],P=e?e(M):M,new Wn(P,M.node,Wn.BLACK,z,te)}},g=function(b){let w=null,S=null,M=n.length;const P=function(z,te){const Pe=M-z,Ne=M;M-=z;const Xe=o(Pe+1,Ne),Ot=n[Pe],vt=e?e(Ot):Ot;V(new Wn(vt,Ot.node,te,null,Xe))},V=function(z){w?(w.left=z,w=z):(S=z,w=z)};for(let z=0;z<b.count;++z){const te=b.nextBitIsOne(),Pe=Math.pow(2,b.count-(z+1));te?P(Pe,Wn.BLACK):(P(Pe,Wn.BLACK),P(Pe,Wn.RED))}return S}(new td(n.length));return new Rt(i||t,g)};let nd;const un={};class On{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,k.hu)(un&&Gt,"ChildrenNode.ts has not been loaded"),nd=nd||new On({".priority":un},{".priority":Gt}),nd}get(t){const e=(0,k.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Rt?e:null}hasIndex(t){return(0,k.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,k.hu)(t!==Li,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=e.getIterator(bt.Wrap);let g,h=l.getNext();for(;h;)o=o||t.isDefinedOn(h.node),i.push(h),h=l.getNext();g=o?Yo(i,t.getCompare()):un;const b=t.toString(),w=Object.assign({},this.indexSet_);w[b]=t;const S=Object.assign({},this.indexes_);return S[b]=g,new On(S,w)}addToIndexes(t,e){const i=(0,k.UI)(this.indexes_,(o,l)=>{const h=(0,k.DV)(this.indexSet_,l);if((0,k.hu)(h,"Missing index implementation for "+l),o===un){if(h.isDefinedOn(t.node)){const g=[],b=e.getIterator(bt.Wrap);let w=b.getNext();for(;w;)w.name!==t.name&&g.push(w),w=b.getNext();return g.push(t),Yo(g,h.getCompare())}return un}{const g=e.get(t.name);let b=o;return g&&(b=b.remove(new bt(t.name,g))),b.insert(t,t.node)}});return new On(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,k.UI)(this.indexes_,o=>{if(o===un)return o;{const l=e.get(t.name);return l?o.remove(new bt(t.name,l)):o}});return new On(i,this.indexSet_)}}let Ko,mt=(()=>{class n{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Df(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ko||(Ko=new n(new Rt(gc),null,On.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ko}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Ko:i}}getChild(e){const i=yt(e);return null===i?this:this.getImmediateChild(i).getChild($t(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,k.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new bt(e,i);let l,h;i.isEmpty()?(l=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(o,this.children_));const g=l.isEmpty()?Ko:this.priorityNode_;return new n(l,g,h)}}updateChild(e,i){const o=yt(e);if(null===o)return i;{(0,k.hu)(".priority"!==yt(e)||1===pr(e),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild($t(e),i);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,l=0,h=!0;if(this.forEachChild(Gt,(g,b)=>{i[g]=b.val(e),o++,h&&n.INTEGER_REGEXP_.test(g)?l=Math.max(l,Number(g)):h=!1}),!e&&h&&l<2*o){const g=[];for(const b in i)g[b]=i[b];return g}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Wo(this.getPriority().val())+":"),this.forEachChild(Gt,(i,o)=>{const l=o.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":Jl(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new bt(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new bt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new bt(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,bt.Wrap);let h=l.peek();for(;null!=h&&i.compare(h,e)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,bt.Wrap);let h=l.peek();for(;null!=h&&i.compare(h,e)>0;)l.getNext(),h=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===eo?-1:0}withIndex(e){if(e===Li||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Li||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(Gt),l=i.getIterator(Gt);let h=o.getNext(),g=l.getNext();for(;h&&g;){if(h.name!==g.name||!h.node.equals(g.node))return!1;h=o.getNext(),g=l.getNext()}return null===h&&null===g}return!1}return!1}}resolveIndex_(e){return e===Li?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const eo=new class Ig extends mt{constructor(){super(new Rt(gc),mt.EMPTY_NODE,On.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return mt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(bt,{MIN:{value:new bt(hr,mt.EMPTY_NODE)},MAX:{value:new bt(Br,eo)}}),mc.__EMPTY_NODE=mt.EMPTY_NODE,zr.__childrenNodeConstructor=mt,function ed(n){wf=n}(eo),function Sf(n){yc=n}(eo);const Sg=!0;function rn(n,t=null){if(null===n)return mt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,k.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new zr(n,rn(t));if(n instanceof Array||!Sg){let e=mt.EMPTY_NODE;return In(n,(i,o)=>{if((0,k.r3)(n,i)&&"."!==i.substring(0,1)){const l=rn(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(rn(t))}{const e=[];let i=!1;if(In(n,(h,g)=>{if("."!==h.substring(0,1)){const b=rn(g);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new bt(h,b)))}}),0===e.length)return mt.EMPTY_NODE;const l=Yo(e,za,h=>h.name,gc);if(i){const h=Yo(e,Gt.getCompare());return new mt(l,rn(t),new On({".priority":h},{".priority":Gt}))}return new mt(l,rn(t),On.Default)}}!function If(n){Xi=n}(rn);class vc extends $o{constructor(t){super(),this.indexPath_=t,(0,k.hu)(!dt(t)&&".priority"!==yt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),o=this.extractChild(e.node),l=i.compareTo(o);return 0===l?Ys(t.name,e.name):l}makePost(t,e){const i=rn(t),o=mt.EMPTY_NODE.updateChild(this.indexPath_,i);return new bt(e,o)}maxPost(){const t=mt.EMPTY_NODE.updateChild(this.indexPath_,eo);return new bt(Br,t)}toString(){return Js(this.indexPath_,0).join("/")}}const _=new class Ag extends $o{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Ys(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return bt.MIN}maxPost(){return bt.MAX}makePost(t,e){const i=rn(t);return new bt(e,i)}toString(){return".value"}};function f(n){return{type:"value",snapshotNode:n}}function p(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function v(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function D(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class N{constructor(t){this.index_=t}updateChild(t,e,i,o,l,h){(0,k.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(e);return g.getChild(o).equals(i.getChild(o))&&g.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?t.hasChild(e)?h.trackChildChange(v(e,g)):(0,k.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?h.trackChildChange(p(e,i)):h.trackChildChange(D(e,i,g))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Gt,(o,l)=>{e.hasChild(o)||i.trackChildChange(v(o,l))}),e.isLeafNode()||e.forEachChild(Gt,(o,l)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(l)||i.trackChildChange(D(o,l,h))}else i.trackChildChange(p(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?mt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ${constructor(t){this.indexedFilter_=new N(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$.getStartPost_(t),this.endPost_=$.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,o,l,h){return this.matches(new bt(e,i))||(i=mt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,l,h)}updateFullNode(t,e,i){e.isLeafNode()&&(e=mt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(mt.EMPTY_NODE);const l=this;return e.forEachChild(Gt,(h,g)=>{l.matches(new bt(h,g))||(o=o.updateImmediateChild(h,mt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class fe{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new $(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,o,l,h){return this.rangedFilter_.matches(new bt(e,i))||(i=mt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,l,h):this.fullLimitUpdateChild_(t,e,i,l,h)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=mt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;o=mt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;l.hasNext()&&h<this.limit_;){const g=l.getNext();if(this.withinDirectionalStart(g)){if(!this.withinDirectionalEnd(g))break;o=o.updateImmediateChild(g.name,g.node),h++}}}else{let l;o=e.withIndex(this.index_),o=o.updatePriority(mt.EMPTY_NODE),l=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let h=0;for(;l.hasNext();){const g=l.getNext();h<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?h++:o=o.updateImmediateChild(g.name,mt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,l){let h;if(this.reverse_){const M=this.index_.getCompare();h=(P,V)=>M(V,P)}else h=this.index_.getCompare();const g=t;(0,k.hu)(g.numChildren()===this.limit_,"");const b=new bt(e,i),w=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),S=this.rangedFilter_.matches(b);if(g.hasChild(e)){const M=g.getImmediateChild(e);let P=o.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=P&&(P.name===e||g.hasChild(P.name));)P=o.getChildAfterChild(this.index_,P,this.reverse_);const V=null==P?1:h(P,b);if(S&&!i.isEmpty()&&V>=0)return l?.trackChildChange(D(e,i,M)),g.updateImmediateChild(e,i);{l?.trackChildChange(v(e,M));const te=g.updateImmediateChild(e,mt.EMPTY_NODE);return null!=P&&this.rangedFilter_.matches(P)?(l?.trackChildChange(p(P.name,P.node)),te.updateImmediateChild(P.name,P.node)):te}}return i.isEmpty()?t:S&&h(w,b)>=0?(null!=l&&(l.trackChildChange(v(w.name,w.node)),l.trackChildChange(p(e,i))),g.updateImmediateChild(e,i).updateImmediateChild(w.name,mt.EMPTY_NODE)):t}}class Te{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gt}copy(){const t=new Te;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ei(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function rd(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Ga(n,t){const e=n.copy();return e.index_=t,e}function sd(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Gt?e="$priority":n.index_===_?e="$value":n.index_===Li?e="$key":((0,k.hu)(n.index_ instanceof vc,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,k.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,k.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,k.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,k.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,k.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Cc(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Gt&&(t.i=n.index_.toString()),t}class Wa extends cc{constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Vr("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,k.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const h=Wa.getListenId_(t,i),g={};this.listens_[h]=g;const b=sd(t._queryParams);this.restRequest_(l+".json",b,(w,S)=>{let M=S;if(404===w&&(M=null,w=null),null===w&&this.onDataUpdate_(l,M,!1,i),(0,k.DV)(this.listens_,h)===g){let P;P=w?401===w?"permission_denied":"rest_error:"+w:"ok",o(P,null)}})}unlisten(t,e){const i=Wa.getListenId_(t,e);delete this.listens_[i]}get(t){const e=sd(t._queryParams),i=t._path.toString(),o=new k.BH;return this.restRequest_(i+".json",e,(l,h)=>{let g=h;404===l&&(g=null,l=null),null===l?(this.onDataUpdate_(i,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,k.xO)(e);this.log_("Sending REST request for "+h);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(i&&4===g.readyState){this.log_("REST Response for "+h+" received. status:",g.status,"response:",g.responseText);let b=null;if(g.status>=200&&g.status<300){try{b=(0,k.cI)(g.responseText)}catch{kn("Failed to parse JSON response for "+h+": "+g.responseText)}i(null,b)}else 401!==g.status&&404!==g.status&&kn("Got unsuccessful REST response for "+h+" Status: "+g.status),i(g.status);i=null}},g.open("GET",h,!0),g.send()})}}class od{constructor(){this.rootNode_=mt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Gr(){return{value:null,children:new Map}}function _s(n,t,e){if(dt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=yt(t);n.children.has(i)||n.children.set(i,Gr()),_s(n.children.get(i),t=$t(t),e)}}function Ya(n,t){if(dt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Gt,(i,o)=>{_s(n,new kt(i),o)}),Ya(n,t)}}if(n.children.size>0){const e=yt(t);return t=$t(t),n.children.has(e)&&Ya(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Ka(n,t,e){null!==n.value?e(t,n.value):function mn(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,o)=>{Ka(o,new kt(t.toString()+"/"+i),e)})}class yD{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&In(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}}class vD{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new yD(t);const i=1e4+2e4*Math.random();qs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;In(t,(o,l)=>{l>0&&(0,k.r3)(this.statsToReport_,o)&&(e[o]=l,i=!0)}),i&&this.server_.reportStats(e),qs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var mr=(()=>{return(n=mr||(mr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",mr;var n})();function kg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class xg{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=mr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(dt(this.path)){if(null!=this.affectedTree.value)return(0,k.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new kt(t));return new xg(xt(),e,this.revert)}}return(0,k.hu)(yt(this.path)===t,"operationForChild called for unrelated child."),new xg($t(this.path),this.affectedTree,this.revert)}}class Af{constructor(t,e){this.source=t,this.path=e,this.type=mr.LISTEN_COMPLETE}operationForChild(t){return dt(this.path)?new Af(this.source,xt()):new Af(this.source,$t(this.path))}}class Wr{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=mr.OVERWRITE}operationForChild(t){return dt(this.path)?new Wr(this.source,xt(),this.snap.getImmediateChild(t)):new Wr(this.source,$t(this.path),this.snap)}}class qa{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=mr.MERGE}operationForChild(t){if(dt(this.path)){const e=this.children.subtree(new kt(t));return e.isEmpty()?null:e.value?new Wr(this.source,xt(),e.value):new qa(this.source,xt(),e)}return(0,k.hu)(yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new qa(this.source,$t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class to{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(dt(t))return this.isFullyInitialized()&&!this.filtered_;const e=yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class wb{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ad(n,t,e,i,o,l){const h=i.filter(g=>g.type===e);h.sort((g,b)=>function Sb(n,t,e){if(null==t.childName||null==e.childName)throw(0,k.g5)("Should only compare child_ events.");const i=new bt(t.childName,t.snapshotNode),o=new bt(e.childName,e.snapshotNode);return n.index_.compare(i,o)}(n,g,b)),h.forEach(g=>{const b=function Ib(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,g,l);o.forEach(w=>{w.respondsTo(g.type)&&t.push(w.createEvent(b,n.query_))})})}function Ec(n,t){return{eventCache:n,serverCache:t}}function Tf(n,t,e,i){return Ec(new to(t,e,i),n.serverCache)}function Ab(n,t,e,i){return Ec(n.eventCache,new to(t,e,i))}function wc(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function qo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Mf;class en{constructor(t,e=(()=>(Mf||(Mf=new Rt(ps)),Mf))()){this.value=t,this.children=e}static fromObject(t){let e=new en(null);return In(t,(i,o)=>{e=e.set(new kt(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:xt(),value:this.value};if(dt(t))return null;{const i=yt(t),o=this.children.get(i);if(null!==o){const l=o.findRootMostMatchingPathAndValue($t(t),e);return null!=l?{path:Qt(new kt(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(dt(t))return this;{const e=yt(t),i=this.children.get(e);return null!==i?i.subtree($t(t)):new en(null)}}set(t,e){if(dt(t))return new en(e,this.children);{const i=yt(t),l=(this.children.get(i)||new en(null)).set($t(t),e),h=this.children.insert(i,l);return new en(this.value,h)}}remove(t){if(dt(t))return this.children.isEmpty()?new en(null):new en(null,this.children);{const e=yt(t),i=this.children.get(e);if(i){const o=i.remove($t(t));let l;return l=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&l.isEmpty()?new en(null):new en(this.value,l)}return this}}get(t){if(dt(t))return this.value;{const e=yt(t),i=this.children.get(e);return i?i.get($t(t)):null}}setTree(t,e){if(dt(t))return e;{const i=yt(t),l=(this.children.get(i)||new en(null)).setTree($t(t),e);let h;return h=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new en(this.value,h)}}fold(t){return this.fold_(xt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(Qt(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,xt(),e)}findOnPath_(t,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(dt(t))return null;{const l=yt(t),h=this.children.get(l);return h?h.findOnPath_($t(t),Qt(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,xt(),e)}foreachOnPath_(t,e,i){if(dt(t))return this;{this.value&&i(e,this.value);const o=yt(t),l=this.children.get(o);return l?l.foreachOnPath_($t(t),Qt(e,o),i):new en(null)}}foreach(t){this.foreach_(xt(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(Qt(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class er{constructor(t){this.writeTree_=t}static empty(){return new er(new en(null))}}function Zo(n,t,e){if(dt(t))return new er(new en(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const o=i.path;let l=i.value;const h=Rn(o,t);return l=l.updateChild(h,e),new er(n.writeTree_.set(o,l))}{const o=new en(e),l=n.writeTree_.setTree(t,o);return new er(l)}}}function Rg(n,t,e){let i=n;return In(e,(o,l)=>{i=Zo(i,Qt(t,o),l)}),i}function kf(n,t){if(dt(t))return er.empty();{const e=n.writeTree_.setTree(t,new en(null));return new er(e)}}function Dc(n,t){return null!=gr(n,t)}function gr(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Rn(e.path,t)):null}function Og(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Gt,(i,o)=>{t.push(new bt(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&t.push(new bt(i,o.value))}),t}function ys(n,t){if(dt(t))return n;{const e=gr(n,t);return new er(null!=e?new en(e):n.writeTree_.subtree(t))}}function Pg(n){return n.writeTree_.isEmpty()}function Ic(n,t){return Ng(xt(),n.writeTree_,t)}function Ng(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,l)=>{".priority"===o?((0,k.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=Ng(Qt(n,o),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Qt(n,".priority"),i)),e}}function no(n,t){return xb(t,n)}function Fg(n,t){if(n.snap)return ui(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ui(Qt(n.path,e),t))return!0;return!1}function Tb(n){return n.visible}function Mb(n,t,e){let i=er.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const h=l.path;let g;if(l.snap)ui(e,h)?(g=Rn(e,h),i=Zo(i,g,l.snap)):ui(h,e)&&(g=Rn(h,e),i=Zo(i,xt(),l.snap.getChild(g)));else{if(!l.children)throw(0,k.g5)("WriteRecord should have .snap or .children");if(ui(e,h))g=Rn(e,h),i=Rg(i,g,l.children);else if(ui(h,e))if(g=Rn(h,e),dt(g))i=Rg(i,xt(),l.children);else{const b=(0,k.DV)(l.children,yt(g));if(b){const w=b.getChild($t(g));i=Zo(i,xt(),w)}}}}}return i}function Lg(n,t,e,i,o){if(i||o){const l=ys(n.visibleWrites,t);return!o&&Pg(l)?e:o||null!=e||Dc(l,xt())?Ic(Mb(n.allWrites,function(w){return(w.visible||o)&&(!i||!~i.indexOf(w.writeId))&&(ui(w.path,t)||ui(t,w.path))},t),e||mt.EMPTY_NODE):null}{const l=gr(n.visibleWrites,t);if(null!=l)return l;{const h=ys(n.visibleWrites,t);return Pg(h)?e:null!=e||Dc(h,xt())?Ic(h,e||mt.EMPTY_NODE):null}}}function xf(n,t,e,i){return Lg(n.writeTree,n.treePath,t,e,i)}function kb(n,t){return function qA(n,t,e){let i=mt.EMPTY_NODE;const o=gr(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Gt,(l,h)=>{i=i.updateImmediateChild(l,h)}),i;if(e){const l=ys(n.visibleWrites,t);return e.forEachChild(Gt,(h,g)=>{const b=Ic(ys(l,new kt(h)),g);i=i.updateImmediateChild(h,b)}),Og(l).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return Og(ys(n.visibleWrites,t)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(n.writeTree,n.treePath,t)}function Vg(n,t,e,i){return function ID(n,t,e,i,o){(0,k.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=Qt(t,e);if(Dc(n.visibleWrites,l))return null;{const h=ys(n.visibleWrites,l);return Pg(h)?o.getChild(e):Ic(h,o.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Rf(n,t){return function SD(n,t){return gr(n.visibleWrites,t)}(n.writeTree,Qt(n.treePath,t))}function Bg(n,t,e){return function ld(n,t,e,i){const o=Qt(t,e),l=gr(n.visibleWrites,o);return null!=l?l:i.isCompleteForChild(e)?Ic(ys(n.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Hg(n,t){return xb(Qt(n.treePath,t),n.writeTree)}function xb(n,t){return{treePath:n,writeTree:t}}class Ug{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,k.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,k.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,D(i,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,v(i,o.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,p(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,k.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(i,D(i,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Rb=new class jg{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class ud{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new to(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bg(this.writes_,t,i)}}getChildAfterChild(t,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qo(this.viewCache_),l=function AD(n,t,e,i,o,l){return function Sc(n,t,e,i,o,l,h){let g;const b=ys(n.visibleWrites,t),w=gr(b,xt());if(null!=w)g=w;else{if(null==e)return[];g=Ic(b,e)}if(g=g.withIndex(h),g.isEmpty()||g.isLeafNode())return[];{const S=[],M=h.getCompare(),P=l?g.getReverseIteratorFrom(i,h):g.getIteratorFrom(i,h);let V=P.getNext();for(;V&&S.length<o;)0!==M(V,i)&&S.push(V),V=P.getNext();return S}}(n.writeTree,n.treePath,t,e,i,o,l)}(this.writes_,o,e,1,i,t);return 0===l.length?null:l[0]}}function Ob(n,t,e,i,o,l){const h=t.eventCache;if(null!=Rf(i,e))return t;{let g,b;if(dt(e))if((0,k.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const w=qo(t),M=kb(i,w instanceof mt?w:mt.EMPTY_NODE);g=n.filter.updateFullNode(t.eventCache.getNode(),M,l)}else{const w=xf(i,qo(t));g=n.filter.updateFullNode(t.eventCache.getNode(),w,l)}else{const w=yt(e);if(".priority"===w){(0,k.hu)(1===pr(e),"Can't have a priority with additional path components");const S=h.getNode();b=t.serverCache.getNode();const M=Vg(i,e,S,b);g=null!=M?n.filter.updatePriority(S,M):h.getNode()}else{const S=$t(e);let M;if(h.isCompleteForChild(w)){b=t.serverCache.getNode();const P=Vg(i,e,h.getNode(),b);M=null!=P?h.getNode().getImmediateChild(w).updateChild(S,P):h.getNode().getImmediateChild(w)}else M=Bg(i,w,t.serverCache);g=null!=M?n.filter.updateChild(h.getNode(),w,M,S,o,l):h.getNode()}}return Tf(t,g,h.isFullyInitialized()||dt(e),n.filter.filtersNodes())}}function Of(n,t,e,i,o,l,h,g){const b=t.serverCache;let w;const S=h?n.filter:n.filter.getIndexedFilter();if(dt(e))w=S.updateFullNode(b.getNode(),i,null);else if(S.filtersNodes()&&!b.isFiltered()){const V=b.getNode().updateChild(e,i);w=S.updateFullNode(b.getNode(),V,null)}else{const V=yt(e);if(!b.isCompleteForPath(e)&&pr(e)>1)return t;const z=$t(e),Pe=b.getNode().getImmediateChild(V).updateChild(z,i);w=".priority"===V?S.updatePriority(b.getNode(),Pe):S.updateChild(b.getNode(),V,Pe,z,Rb,null)}const M=Ab(t,w,b.isFullyInitialized()||dt(e),S.filtersNodes());return Ob(n,M,e,o,new ud(o,M,l),g)}function $g(n,t,e,i,o,l,h){const g=t.eventCache;let b,w;const S=new ud(o,t,l);if(dt(e))w=n.filter.updateFullNode(t.eventCache.getNode(),i,h),b=Tf(t,w,!0,n.filter.filtersNodes());else{const M=yt(e);if(".priority"===M)w=n.filter.updatePriority(t.eventCache.getNode(),i),b=Tf(t,w,g.isFullyInitialized(),g.isFiltered());else{const P=$t(e),V=g.getNode().getImmediateChild(M);let z;if(dt(P))z=i;else{const te=S.getCompleteChild(M);z=null!=te?".priority"===ja(P)&&te.getChild(Zu(P)).isEmpty()?te:te.updateChild(P,i):mt.EMPTY_NODE}b=V.equals(z)?t:Tf(t,n.filter.updateChild(g.getNode(),M,z,P,S,h),g.isFullyInitialized(),n.filter.filtersNodes())}}return b}function Pb(n,t){return n.eventCache.isCompleteForChild(t)}function vs(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function zg(n,t,e,i,o,l,h,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let w,b=t;w=dt(e)?i:new en(null).setTree(e,i);const S=t.serverCache.getNode();return w.children.inorderTraversal((M,P)=>{if(S.hasChild(M)){const z=vs(0,t.serverCache.getNode().getImmediateChild(M),P);b=Of(n,b,new kt(M),z,o,l,h,g)}}),w.children.inorderTraversal((M,P)=>{const V=!t.serverCache.isCompleteForChild(M)&&null===P.value;if(!S.hasChild(M)&&!V){const te=vs(0,t.serverCache.getNode().getImmediateChild(M),P);b=Of(n,b,new kt(M),te,o,l,h,g)}}),b}class Nb{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new N(i.getIndex()),l=function He(n){return n.loadsAllData()?new N(n.getIndex()):n.hasLimit()?new fe(n):new $(n)}(i);this.processor_=function dd(n){return{filter:n}}(l);const h=e.serverCache,g=e.eventCache,b=o.updateFullNode(mt.EMPTY_NODE,h.getNode(),null),w=l.updateFullNode(mt.EMPTY_NODE,g.getNode(),null),S=new to(b,h.isFullyInitialized(),o.filtersNodes()),M=new to(w,g.isFullyInitialized(),l.filtersNodes());this.viewCache_=Ec(M,S),this.eventGenerator_=new wb(this.query_)}get query(){return this.query_}}function XA(n,t){const e=qo(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!dt(t)&&!e.getImmediateChild(yt(t)).isEmpty())?e.getChild(t):null}function Gg(n){return 0===n.eventRegistrations_.length}function Wg(n,t,e){const i=[];if(e){(0,k.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const h=l.createCancelEvent(e,o);h&&i.push(h)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const h=n.eventRegistrations_[l];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(h)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function Lb(n,t,e,i){t.type===mr.MERGE&&null!==t.source.queryId&&((0,k.hu)(qo(n.viewCache_),"We should always have a full cache before handling merges"),(0,k.hu)(wc(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function MD(n,t,e,i,o){const l=new Ug;let h,g;if(e.type===mr.OVERWRITE){const w=e;w.source.fromUser?h=$g(n,t,w.path,w.snap,i,o,l):((0,k.hu)(w.source.fromServer,"Unknown source."),g=w.source.tagged||t.serverCache.isFiltered()&&!dt(w.path),h=Of(n,t,w.path,w.snap,i,o,g,l))}else if(e.type===mr.MERGE){const w=e;w.source.fromUser?h=function Ac(n,t,e,i,o,l,h){let g=t;return i.foreach((b,w)=>{const S=Qt(e,b);Pb(t,yt(S))&&(g=$g(n,g,S,w,o,l,h))}),i.foreach((b,w)=>{const S=Qt(e,b);Pb(t,yt(S))||(g=$g(n,g,S,w,o,l,h))}),g}(n,t,w.path,w.children,i,o,l):((0,k.hu)(w.source.fromServer,"Unknown source."),g=w.source.tagged||t.serverCache.isFiltered(),h=zg(n,t,w.path,w.children,i,o,g,l))}else if(e.type===mr.ACK_USER_WRITE){const w=e;h=w.revert?function QA(n,t,e,i,o,l){let h;if(null!=Rf(i,e))return t;{const g=new ud(i,t,o),b=t.eventCache.getNode();let w;if(dt(e)||".priority"===yt(e)){let S;if(t.serverCache.isFullyInitialized())S=xf(i,qo(t));else{const M=t.serverCache.getNode();(0,k.hu)(M instanceof mt,"serverChildren would be complete if leaf node"),S=kb(i,M)}w=n.filter.updateFullNode(b,S,l)}else{const S=yt(e);let M=Bg(i,S,t.serverCache);null==M&&t.serverCache.isCompleteForChild(S)&&(M=b.getImmediateChild(S)),w=null!=M?n.filter.updateChild(b,S,M,$t(e),g,l):t.eventCache.getNode().hasChild(S)?n.filter.updateChild(b,S,mt.EMPTY_NODE,$t(e),g,l):b,w.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=xf(i,qo(t)),h.isLeafNode()&&(w=n.filter.updateFullNode(w,h,l)))}return h=t.serverCache.isFullyInitialized()||null!=Rf(i,xt()),Tf(t,w,h,n.filter.filtersNodes())}}(n,t,w.path,i,o,l):function xD(n,t,e,i,o,l,h){if(null!=Rf(o,e))return t;const g=t.serverCache.isFiltered(),b=t.serverCache;if(null!=i.value){if(dt(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return Of(n,t,e,b.getNode().getChild(e),o,l,g,h);if(dt(e)){let w=new en(null);return b.getNode().forEachChild(Li,(S,M)=>{w=w.set(new kt(S),M)}),zg(n,t,e,w,o,l,g,h)}return t}{let w=new en(null);return i.foreach((S,M)=>{const P=Qt(e,S);b.isCompleteForPath(P)&&(w=w.set(S,b.getNode().getChild(P)))}),zg(n,t,e,w,o,l,g,h)}}(n,t,w.path,w.affectedTree,i,o,l)}else{if(e.type!==mr.LISTEN_COMPLETE)throw(0,k.g5)("Unknown operation type: "+e.type);h=function ZA(n,t,e,i,o){const l=t.serverCache;return Ob(n,Ab(t,l.getNode(),l.isFullyInitialized()||dt(e),l.isFiltered()),e,i,Rb,o)}(n,t,e.path,i,l)}const b=l.getChanges();return function kD(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=wc(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(f(wc(t)))}}(t,h,b),{viewCache:h,changes:b}}(n.processor_,o,t,e,i);return function TD(n,t){(0,k.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,k.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,k.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,_r(n,l.changes,l.viewCache.eventCache.getNode(),null)}function _r(n,t,e,i){return function Db(n,t,e,i){const o=[],l=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&l.push(function A(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),ad(n,o,"child_removed",t,i,e),ad(n,o,"child_added",t,i,e),ad(n,o,"child_moved",l,i,e),ad(n,o,"child_changed",t,i,e),ad(n,o,"value",t,i,e),o}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Pf,Ff;class Yg{constructor(){this.views=new Map}}function Kg(n,t,e,i){const o=t.source.queryId;if(null!==o){const l=n.views.get(o);return(0,k.hu)(null!=l,"SyncTree gave us an op for an invalid query."),Lb(l,t,e,i)}{let l=[];for(const h of n.views.values())l=l.concat(Lb(h,t,e,i));return l}}function qg(n,t,e,i,o){const h=n.views.get(t._queryIdentifier);if(!h){let g=xf(e,o?i:null),b=!1;g?b=!0:i instanceof mt?(g=kb(e,i),b=!1):(g=mt.EMPTY_NODE,b=!1);const w=Ec(new to(g,b,!1),new to(i,o,!1));return new Nb(t,w)}return h}function Vb(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ot(n,t){let e=null;for(const i of n.views.values())e=e||XA(i,t);return e}function Zg(n,t){return t._queryParams.loadsAllData()?Nf(n):n.views.get(t._queryIdentifier)}function Qg(n,t){return null!=Zg(n,t)}function io(n){return null!=Nf(n)}function Nf(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Hb=1;class Ub{constructor(t){this.listenProvider_=t,this.syncPointTree_=new en(null),this.pendingWriteTree_=function cd(){return{visibleWrites:er.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jg(n,t,e,i,o){return function bD(n,t,e,i,o){(0,k.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=Zo(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,o),o?Ja(n,new Wr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ro(n,t,e=!1){const i=function ED(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function wD(n,t){const e=n.allWrites.findIndex(g=>g.writeId===t);(0,k.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,l=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const g=n.allWrites[h];g.visible&&(h>=e&&Fg(g,i.path)?o=!1:ui(i.path,g.path)&&(l=!0)),h--}return!!o&&(l?(function DD(n){n.visibleWrites=Mb(n.allWrites,Tb,xt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=kf(n.visibleWrites,i.path):In(i.children,b=>{n.visibleWrites=kf(n.visibleWrites,Qt(i.path,b))}),!0))}(n.pendingWriteTree_,t)){let l=new en(null);return null!=i.snap?l=l.set(xt(),!0):In(i.children,h=>{l=l.set(new kt(h),!0)}),Ja(n,new xg(i.path,l,e))}return[]}function Tc(n,t,e){return Ja(n,new Wr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Mc(n,t,e,i,o=!1){const l=t._path,h=n.syncPointTree_.get(l);let g=[];if(h&&("default"===t._queryIdentifier||Qg(h,t))){const b=function VD(n,t,e,i){const o=t._queryIdentifier,l=[];let h=[];const g=io(n);if("default"===o)for(const[b,w]of n.views.entries())h=h.concat(Wg(w,e,i)),Gg(w)&&(n.views.delete(b),w.query._queryParams.loadsAllData()||l.push(w.query));else{const b=n.views.get(o);b&&(h=h.concat(Wg(b,e,i)),Gg(b)&&(n.views.delete(o),b.query._queryParams.loadsAllData()||l.push(b.query)))}return g&&!io(n)&&l.push(new(function ND(){return(0,k.hu)(Pf,"Reference.ts has not been loaded"),Pf}())(t._repo,t._path)),{removed:l,events:h}}(h,t,e,i);(function FD(n){return 0===n.views.size})(h)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const w=b.removed;if(g=b.events,!o){const S=-1!==w.findIndex(P=>P._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(l,(P,V)=>io(V));if(S&&!M){const P=n.syncPointTree_.subtree(l);if(!P.isEmpty()){const V=function $D(n){return n.fold((t,e,i)=>{if(e&&io(e))return[Nf(e)];{let o=[];return e&&(o=Vb(e)),In(i,(l,h)=>{o=o.concat(h)}),o}})}(P);for(let z=0;z<V.length;++z){const te=V[z],Pe=te.query,Ne=Xa(n,te);n.listenProvider_.startListening(pd(Pe),hd(n,Pe),Ne.hashFn,Ne.onComplete)}}}!M&&w.length>0&&!i&&(S?n.listenProvider_.stopListening(pd(t),null):w.forEach(P=>{const V=n.queryToTagMap.get(fd(P));n.listenProvider_.stopListening(pd(P),V)}))}!function zD(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const o=fd(i),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,w)}return g}function jb(n,t,e,i){const o=kc(n,i);if(null!=o){const l=t_(o),h=l.path,g=l.queryId,b=Rn(h,t);return Lf(n,h,new Wr(kg(g),b,e))}return[]}function $b(n,t,e,i=!1){const o=t._path;let l=null,h=!1;n.syncPointTree_.foreachOnPath(o,(P,V)=>{const z=Rn(P,o);l=l||ot(V,z),h=h||io(V)});let b,g=n.syncPointTree_.get(o);g?(h=h||io(g),l=l||ot(g,xt())):(g=new Yg,n.syncPointTree_=n.syncPointTree_.set(o,g)),null!=l?b=!0:(b=!1,l=mt.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((V,z)=>{const te=ot(z,xt());te&&(l=l.updateImmediateChild(V,te))}));const w=Qg(g,t);if(!w&&!t._queryParams.loadsAllData()){const P=fd(t);(0,k.hu)(!n.queryToTagMap.has(P),"View does not exist, but we have a tag");const V=function GD(){return Hb++}();n.queryToTagMap.set(P,V),n.tagToQueryMap.set(V,P)}let M=function LD(n,t,e,i,o,l){const h=qg(n,t,i,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function RD(n,t){n.eventRegistrations_.push(t)}(h,e),function OD(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Gt,(l,h)=>{i.push(p(l,h))}),e.isFullyInitialized()&&i.push(f(e.getNode())),_r(n,i,e.getNode(),t)}(h,e)}(g,t,e,no(n.pendingWriteTree_,o),l,b);if(!w&&!h&&!i){const P=Zg(g,t);M=M.concat(function WD(n,t,e){const i=t._path,o=hd(n,t),l=Xa(n,e),h=n.listenProvider_.startListening(pd(t),o,l.hashFn,l.onComplete),g=n.syncPointTree_.subtree(i);if(o)(0,k.hu)(!io(g.value),"If we're adding a query, it shouldn't be shadowed");else{const b=g.fold((w,S,M)=>{if(!dt(w)&&S&&io(S))return[Nf(S).query];{let P=[];return S&&(P=P.concat(Vb(S).map(V=>V.query))),In(M,(V,z)=>{P=P.concat(z)}),P}});for(let w=0;w<b.length;++w){const S=b[w];n.listenProvider_.stopListening(pd(S),hd(n,S))}}return h}(n,t,P))}return M}function e_(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(h,g)=>{const w=ot(g,Rn(h,t));if(w)return w});return Lg(o,t,l,e,!0)}function Ja(n,t){return jD(t,n.syncPointTree_,null,no(n.pendingWriteTree_,xt()))}function jD(n,t,e,i){if(dt(n.path))return zb(n,t,e,i);{const o=t.get(xt());null==e&&null!=o&&(e=ot(o,xt()));let l=[];const h=yt(n.path),g=n.operationForChild(h),b=t.children.get(h);if(b&&g){const w=e?e.getImmediateChild(h):null,S=Hg(i,h);l=l.concat(jD(g,b,w,S))}return o&&(l=l.concat(Kg(o,n,i,e))),l}}function zb(n,t,e,i){const o=t.get(xt());null==e&&null!=o&&(e=ot(o,xt()));let l=[];return t.children.inorderTraversal((h,g)=>{const b=e?e.getImmediateChild(h):null,w=Hg(i,h),S=n.operationForChild(h);S&&(l=l.concat(zb(S,g,b,w)))}),o&&(l=l.concat(Kg(o,n,i,e))),l}function Xa(n,t){const e=t.query,i=hd(n,e);return{hashFn:()=>(function JA(n){return n.viewCache_.serverCache.getNode()}(t)||mt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function Xg(n,t,e){const i=kc(n,e);if(i){const o=t_(i),l=o.path,h=o.queryId,g=Rn(l,t);return Lf(n,l,new Af(kg(h),g))}return[]}(n,e._path,i):function HD(n,t){return Ja(n,new Af({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function Uu(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(o,e);return Mc(n,e,null,l)}}}}function hd(n,t){const e=fd(t);return n.queryToTagMap.get(e)}function fd(n){return n._path.toString()+"$"+n._queryIdentifier}function kc(n,t){return n.tagToQueryMap.get(t)}function t_(n){const t=n.indexOf("$");return(0,k.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new kt(n.substr(0,t))}}function Lf(n,t,e){const i=n.syncPointTree_.get(t);return(0,k.hu)(i,"Missing sync point for query tag that we're tracking"),Kg(i,e,no(n.pendingWriteTree_,t),null)}function pd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function BD(){return(0,k.hu)(Ff,"Reference.ts has not been loaded"),Ff}())(n._repo,n._path):n}class Vf{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Vf(e)}node(){return this.node_}}class n_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Qt(this.path_,t);return new n_(this.syncTree_,e)}node(){return e_(this.syncTree_,this.path_)}}const Gb=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},i_=function(n,t,e){return n&&"object"==typeof n?((0,k.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?r_(n[".sv"],t,e):"object"==typeof n[".sv"]?nT(n[".sv"],t):void(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},r_=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,k.hu)(!1,"Unexpected server value: "+n)},nT=function(n,t,e){n.hasOwnProperty("increment")||(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,k.hu)(!1,"Unexpected increment value: "+i);const o=t.node();if((0,k.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const h=o.getValue();return"number"!=typeof h?i:h+i},Bf=function(n,t,e,i){return Wb(t,new n_(e,n),i)},s_=function(n,t,e){return Wb(n,new Vf(t),e)};function Wb(n,t,e){const i=n.getPriority().val(),o=i_(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const h=n,g=i_(h.getValue(),t,e);return g!==h.getValue()||o!==h.getPriority().val()?new zr(g,rn(o)):n}{const h=n;return l=h,o!==h.getPriority().val()&&(l=l.updatePriority(new zr(o))),h.forEachChild(Gt,(g,b)=>{const w=Wb(b,t.getImmediateChild(g),e);w!==b&&(l=l.updateImmediateChild(g,w))}),l}}class Qo{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function md(n,t){let e=t instanceof kt?t:new kt(t),i=n,o=yt(e);for(;null!==o;){const l=(0,k.DV)(i.node.children,o)||{children:{},childCount:0};i=new Qo(o,i,l),e=$t(e),o=yt(e)}return i}function Jo(n){return n.node.value}function xc(n,t){n.node.value=t,jf(n)}function yr(n){return n.node.childCount>0}function Hf(n,t){In(n.node.children,(e,i)=>{t(new Qo(e,n,i))})}function Uf(n,t,e,i){e&&!i&&t(n),Hf(n,o=>{Uf(o,t,!0,i)}),e&&i&&t(n)}function el(n){return new kt(null===n.parent?n.name:el(n.parent)+"/"+n.name)}function jf(n){null!==n.parent&&function o_(n,t,e){const i=function Yb(n){return void 0===Jo(n)&&!yr(n)}(e),o=(0,k.r3)(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,jf(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,jf(n))}(n.parent,n.name,n)}const iT=/[\[\].#$\/\u0000-\u001F\u007F]/,Kb=/[\[\].#$\u0000-\u001F\u007F]/,qb=10485760,tl=function(n){return"string"==typeof n&&0!==n.length&&!iT.test(n)},gd=function(n){return"string"==typeof n&&0!==n.length&&!Kb.test(n)},nl=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!dr(n)||n&&"object"==typeof n&&(0,k.r3)(n,".sv")},vr=function(n,t,e,i){i&&void 0===t||$f((0,k.gK)(n,"value"),t,e)},$f=function(n,t,e){const i=e instanceof kt?new uc(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+gs(i));if("function"==typeof t)throw new Error(n+"contains a function "+gs(i)+" with contents = "+t.toString());if(dr(t))throw new Error(n+"contains "+t.toString()+" "+gs(i));if("string"==typeof t&&t.length>qb/3&&(0,k.ug)(t)>qb)throw new Error(n+"contains a string greater than "+qb+" utf8 bytes "+gs(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,l=!1;if(In(t,(h,g)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(l=!0,!tl(h)))throw new Error(n+" contains an invalid key ("+h+") "+gs(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Dg(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,k.ug)(t),dc(n)})(i,h),$f(n,g,i),function Cf(n){const t=n.parts_.pop();n.byteLength_-=(0,k.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),o&&l)throw new Error(n+' contains ".value" child '+gs(i)+" in addition to actual children.")}},Zb=function(n,t,e,i){if(i&&void 0===t)return;const o=(0,k.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const l=[];In(t,(h,g)=>{const b=new kt(h);if($f(o,g,Qt(e,b)),".priority"===ja(b)&&!nl(g))throw new Error(o+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(b)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=Js(i);for(let h=0;h<l.length;h++)if((".priority"!==l[h]||h!==l.length-1)&&!tl(l[h]))throw new Error(n+"contains an invalid key ("+l[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(bf);let o=null;for(e=0;e<t.length;e++){if(i=t[e],null!==o&&ui(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,l)},l_=function(n,t,e){if(!e||void 0!==t){if(dr(t))throw new Error((0,k.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nl(t))throw new Error((0,k.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_d=function(n,t,e,i){if(!(i&&void 0===e||tl(e)))throw new Error((0,k.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Rc=function(n,t,e,i){if(!(i&&void 0===e||gd(e)))throw new Error((0,k.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rT=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Rc(n,t,e,i)},br=function(n,t){if(".info"===yt(t))throw new Error(n+" failed = Can't modify data under /.info/")},KD=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!tl(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gd(n)}(e))throw new Error((0,k.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Qb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yd(n,t){let e=null;for(let i=0;i<t.length;i++){const o=t[i],l=o.getPath();null!==e&&!Qu(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function Jb(n,t,e){yd(n,e),qD(n,i=>Qu(i,t))}function Ei(n,t,e){yd(n,e),qD(n,i=>ui(i,t)||ui(t,i))}function qD(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];o&&(t(o.path)?(sT(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function sT(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Lr&&vn("event: "+e.toString()),Ks(i)}}}const ZD="repo_interrupt",oT=25;class aT{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gr(),this.transactionQueueTree_=new Qo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QD(n){const e=n.infoData_.getNode(new kt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function zf(n){return Gb({timestamp:QD(n)})}function JD(n,t,e,i,o){n.dataUpdateCount++;const l=new kt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(o)if(i){const b=(0,k.UI)(e,w=>rn(w));h=function tT(n,t,e,i){const o=kc(n,i);if(o){const l=t_(o),h=l.path,g=l.queryId,b=Rn(h,t),w=en.fromObject(e);return Lf(n,h,new qa(kg(g),b,w))}return[]}(n.serverSyncTree_,l,b,o)}else{const b=rn(e);h=jb(n.serverSyncTree_,l,b,o)}else if(i){const b=(0,k.UI)(e,w=>rn(w));h=function Qa(n,t,e){const i=en.fromObject(e);return Ja(n,new qa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,b)}else{const b=rn(e);h=Tc(n.serverSyncTree_,l,b)}let g=l;h.length>0&&(g=il(n,l)),Ei(n.eventQueue_,g,h)}function XD(n,t){vd(n,"connected",t),!1===t&&function c_(n){ao(n,"onDisconnectEvents");const t=zf(n),e=Gr();Ka(n.onDisconnect_,xt(),(o,l)=>{const h=Bf(o,l,n.serverSyncTree_,t);_s(e,o,h)});let i=[];Ka(e,xt(),(o,l)=>{i=i.concat(Tc(n.serverSyncTree_,o,l));const h=h_(n,o);il(n,h)}),n.onDisconnect_=Gr(),Ei(n.eventQueue_,xt(),i)}(n)}function vd(n,t,e){const i=new kt("/.info/"+t),o=rn(e);n.infoData_.updateSnapshot(i,o);const l=Tc(n.infoSyncTree_,i,o);Ei(n.eventQueue_,i,l)}function Gf(n){return n.nextWriteId_++}function bd(n,t,e,i,o){ao(n,"set",{path:t.toString(),value:e,priority:i});const l=zf(n),h=rn(e,i),g=e_(n.serverSyncTree_,t),b=s_(h,g,l),w=Gf(n),S=Jg(n.serverSyncTree_,t,b,w,!0);yd(n.eventQueue_,S),n.server_.put(t.toString(),h.val(!0),(P,V)=>{const z="ok"===P;z||kn("set at "+t+" failed: "+P);const te=ro(n.serverSyncTree_,w,!z);Ei(n.eventQueue_,t,te),tr(0,o,P,V)});const M=h_(n,t);il(n,M),Ei(n.eventQueue_,M,[])}function e0(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,o)=>{"ok"===i&&Ya(n.onDisconnect_,t),tr(0,e,i,o)})}function oo(n,t,e,i){const o=rn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,h)=>{"ok"===l&&_s(n.onDisconnect_,t,o),tr(0,i,l,h)})}function Wf(n,t,e){let i;i=".info"===yt(t._path)?Mc(n.infoSyncTree_,t,e):Mc(n.serverSyncTree_,t,e),Jb(n.eventQueue_,t._path,i)}function nC(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ZD)}function ao(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),vn(e,...t)}function tr(n,t,e,i){t&&Ks(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let l=o;i&&(l+=": "+i);const h=new Error(l);h.code=o,t(h)}})}function ea(n,t,e){return e_(n.serverSyncTree_,t,e)||mt.EMPTY_NODE}function Oc(n,t=n.transactionQueueTree_){if(t||Pc(n,t),Jo(t)){const e=qf(n,t);(0,k.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function Yf(n,t,e){const i=e.map(w=>w.currentWriteId),o=ea(n,t,i);let l=o;const h=o.hash();for(let w=0;w<e.length;w++){const S=e[w];(0,k.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const M=Rn(t,S.path);l=l.updateChild(M,S.currentOutputSnapshotRaw)}const g=l.val(!0),b=t;n.server_.put(b.toString(),g,w=>{ao(n,"transaction put response",{path:b.toString(),status:w});let S=[];if("ok"===w){const M=[];for(let P=0;P<e.length;P++)e[P].status=2,S=S.concat(ro(n.serverSyncTree_,e[P].currentWriteId)),e[P].onComplete&&M.push(()=>e[P].onComplete(null,!0,e[P].currentOutputSnapshotResolved)),e[P].unwatcher();Pc(n,md(n.transactionQueueTree_,t)),Oc(n,n.transactionQueueTree_),Ei(n.eventQueue_,t,S);for(let P=0;P<M.length;P++)Ks(M[P])}else{if("datastale"===w)for(let M=0;M<e.length;M++)e[M].status=3===e[M].status?4:0;else{kn("transaction at "+b.toString()+" failed: "+w);for(let M=0;M<e.length;M++)e[M].status=4,e[M].abortReason=w}il(n,t)}},h)}(n,el(t),e)}else yr(t)&&Hf(t,e=>{Oc(n,e)})}function il(n,t){const e=Kf(n,t),i=el(e);return function iC(n,t,e){if(0===t.length)return;const i=[];let o=[];const h=t.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const b=t[g],w=Rn(e,b.path);let M,S=!1;if((0,k.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)S=!0,M=b.abortReason,o=o.concat(ro(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=oT)S=!0,M="maxretry",o=o.concat(ro(n.serverSyncTree_,b.currentWriteId,!0));else{const P=ea(n,b.path,h);b.currentInputSnapshot=P;const V=t[g].update(P.val());if(void 0!==V){$f("transaction failed: Data returned ",V,b.path);let z=rn(V);"object"==typeof V&&null!=V&&(0,k.r3)(V,".priority")||(z=z.updatePriority(P.getPriority()));const Pe=b.currentWriteId,Ne=zf(n),Xe=s_(z,P,Ne);b.currentOutputSnapshotRaw=z,b.currentOutputSnapshotResolved=Xe,b.currentWriteId=Gf(n),h.splice(h.indexOf(Pe),1),o=o.concat(Jg(n.serverSyncTree_,b.path,Xe,b.currentWriteId,b.applyLocally)),o=o.concat(ro(n.serverSyncTree_,Pe,!0))}else S=!0,M="nodata",o=o.concat(ro(n.serverSyncTree_,b.currentWriteId,!0))}Ei(n.eventQueue_,e,o),o=[],S&&(t[g].status=2,setTimeout(t[g].unwatcher,Math.floor(0)),t[g].onComplete&&i.push("nodata"===M?()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot):()=>t[g].onComplete(new Error(M),!1,null)))}Pc(n,n.transactionQueueTree_);for(let g=0;g<i.length;g++)Ks(i[g]);Oc(n,n.transactionQueueTree_)}(n,qf(n,e),i),i}function Kf(n,t){let e,i=n.transactionQueueTree_;for(e=yt(t);null!==e&&void 0===Jo(i);)i=md(i,e),e=yt(t=$t(t));return i}function qf(n,t){const e=[];return d_(n,t,e),e.sort((i,o)=>i.order-o.order),e}function d_(n,t,e){const i=Jo(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);Hf(t,o=>{d_(n,o,e)})}function Pc(n,t){const e=Jo(t);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,xc(t,e.length>0?e:void 0)}Hf(t,i=>{Pc(n,i)})}function h_(n,t){const e=el(Kf(n,t)),i=md(n.transactionQueueTree_,t);return function so(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,o=>{rC(n,o)}),rC(n,i),Uf(i,o=>{rC(n,o)}),e}function rC(n,t){const e=Jo(t);if(e){const i=[];let o=[],l=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,k.hu)(l===h-1,"All SENT items should be at beginning of queue."),l=h,e[h].status=3,e[h].abortReason="set"):((0,k.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(ro(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===l?xc(t,void 0):e.length=l+1,Ei(n.eventQueue_,el(t),o);for(let h=0;h<i.length;h++)Ks(i[h])}}const f_=function(n,t){const e=oC(n),i=e.namespace;return"firebase.com"===e.domain&&Gn(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new La(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new kt(e.pathString)}},oC=function(n){let t="",e="",i="",o="",l="",h=!0,g="https",b=443;if("string"==typeof n){let w=n.indexOf("//");w>=0&&(g=n.substring(0,w-1),n=n.substring(w+2));let S=n.indexOf("/");-1===S&&(S=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),t=n.substring(0,Math.min(S,M)),S<M&&(o=function s0(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}(n.substring(S,M)));const P=function sC(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):kn(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,M)));w=t.indexOf(":"),w>=0?(h="https"===g||"wss"===g,b=parseInt(t.substring(w+1),10)):w=t.length;const V=t.slice(0,w);if("localhost"===V.toLowerCase())e="localhost";else if(V.split(".").length<=2)e=V;else{const z=t.indexOf(".");i=t.substring(0,z).toLowerCase(),e=t.substring(z+1),l=i}"ns"in P&&(l=P.ns)}return{host:t,port:b,domain:e,subdomain:i,secure:h,scheme:g,pathString:o,namespace:l}},p_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",o0=function(){let n=0;const t=[];return function(e){const i=e===n;let o;n=e;const l=new Array(8);for(o=7;o>=0;o--)l[o]=p_.charAt(e%64),e=Math.floor(e/64);(0,k.hu)(0===e,"Cannot push at time == 0");let h=l.join("");if(i){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=p_.charAt(t[o]);return(0,k.hu)(20===h.length,"nextPushId: Length should be 20."),h}}();class Vi{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.Wl)(this.snapshot.exportVal())}}class m_{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class g_{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,k.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class a0{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new k.BH;return e0(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){br("OnDisconnect.remove",this._path);const t=new k.BH;return oo(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){br("OnDisconnect.set",this._path),vr("OnDisconnect.set",t,this._path,!1);const e=new k.BH;return oo(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){br("OnDisconnect.setWithPriority",this._path),vr("OnDisconnect.setWithPriority",t,this._path,!1),l_("OnDisconnect.setWithPriority",e,!1);const i=new k.BH;return function tC(n,t,e,i,o){const l=rn(e,i);n.server_.onDisconnectPut(t.toString(),l.val(!0),(h,g)=>{"ok"===h&&_s(n.onDisconnect_,t,l),tr(0,o,h,g)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){br("OnDisconnect.update",this._path),Zb("OnDisconnect.update",t,this._path,!1);const e=new k.BH;return function t0(n,t,e,i){if((0,k.xb)(e))return vn("onDisconnect().update() called with empty data.  Don't do anything."),void tr(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,l)=>{"ok"===o&&In(e,(h,g)=>{const b=rn(g);_s(n.onDisconnect_,Qt(t,h),b)}),tr(0,i,o,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Bi{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return dt(this._path)?null:ja(this._path)}get ref(){return new Cr(this._repo,this._path)}get _queryIdentifier(){const t=Cc(this._queryParams),e=Bu(t);return"{}"===e?"default":e}get _queryObject(){return Cc(this._queryParams)}isEqual(t){if(!((t=(0,k.m9)(t))instanceof Bi))return!1;const e=this._repo===t._repo,i=Qu(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function vf(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Nc(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function lo(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Li){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==hr)throw new Error(i);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==Br)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===Gt){if(null!=t&&!nl(t)||null!=e&&!nl(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.hu)(n.getIndex()instanceof vc||n.getIndex()===_,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Zf(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Cr extends Bi{constructor(t,e){super(t,e,new Te,!1)}get parent(){const t=Zu(this._path);return null===t?null:new Cr(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class rl{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new kt(t),i=na(this.ref,t);return new rl(this._node.getChild(e),i,Gt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>t(new rl(o,na(this.ref,i),Gt)))}hasChild(t){const e=new kt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ta(n,t){return(n=(0,k.m9)(n))._checkNotDeleted("ref"),void 0!==t?na(n._root,t):n._root}function aC(n,t){(n=(0,k.m9)(n))._checkNotDeleted("refFromURL");const e=f_(t,n._repo.repoInfo_.nodeAdmin);KD("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Gn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),ta(n,e.path.toString())}function na(n,t){return null===yt((n=(0,k.m9)(n))._path)?rT("child","path",t,!1):Rc("child","path",t,!1),new Cr(n._repo,Qt(n._path,t))}function lC(n,t){n=(0,k.m9)(n),br("push",n._path),vr("push",t,n._path,!0);const e=QD(n._repo),i=o0(e),o=na(n,i),l=na(n,i);let h;return h=null!=t?Cd(l,t).then(()=>l):Promise.resolve(l),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function __(n){return br("remove",n._path),Cd(n,null)}function Cd(n,t){n=(0,k.m9)(n),br("set",n._path),vr("set",t,n._path,!1);const e=new k.BH;return bd(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Qf(n,t){Zb("update",t,n._path,!1);const e=new k.BH;return function eC(n,t,e,i){ao(n,"update",{path:t.toString(),value:e});let o=!0;const l=zf(n),h={};if(In(e,(g,b)=>{o=!1,h[g]=Bf(Qt(t,g),rn(b),n.serverSyncTree_,l)}),o)vn("update() called with empty data.  Don't do anything."),tr(0,i,"ok",void 0);else{const g=Gf(n),b=function eT(n,t,e,i){!function CD(n,t,e,i){(0,k.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Rg(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const o=en.fromObject(e);return Ja(n,new qa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,h,g);yd(n.eventQueue_,b),n.server_.merge(t.toString(),e,(w,S)=>{const M="ok"===w;M||kn("update at "+t+" failed: "+w);const P=ro(n.serverSyncTree_,g,!M),V=P.length>0?il(n,t):t;Ei(n.eventQueue_,V,P),tr(0,i,w,S)}),In(e,w=>{const S=h_(n,Qt(t,w));il(n,S)}),Ei(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function c0(n){n=(0,k.m9)(n);const t=new g_(()=>{}),e=new Ed(t);return function Xb(n,t,e){const i=function UD(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(w,S)=>{const M=Rn(w,e);i=i||ot(S,M)});let o=n.syncPointTree_.get(e);o?i=i||ot(o,xt()):(o=new Yg,n.syncPointTree_=n.syncPointTree_.set(e,o));const l=null!=i,h=l?new to(i,!0,!1):null;return function Fb(n){return wc(n.viewCache_)}(qg(o,t,no(n.pendingWriteTree_,t._path),l?h.getNode():mt.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(o=>{const l=rn(o).withIndex(t._queryParams.getIndex());let h;if($b(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())h=Tc(n.serverSyncTree_,t._path,l);else{const g=hd(n.serverSyncTree_,t);h=jb(n.serverSyncTree_,t._path,l,g)}return Ei(n.eventQueue_,t._path,h),Mc(n.serverSyncTree_,t,e,null,!0),l},o=>(ao(n,"get for query "+(0,k.Wl)(t)+" failed: "+o),Promise.reject(new Error(o))))}(n._repo,n,e).then(i=>new rl(i,new Cr(n._repo,n._path),n._queryParams.getIndex()))}class Ed{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Vi("value",this,new rl(t.snapshotNode,new Cr(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new m_(this,t,e):null}matches(t){return t instanceof Ed&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class y_{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new m_(this,t,e):null}createEvent(t,e){(0,k.hu)(null!=t.childName,"Child events should have a childName.");const i=na(new Cr(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new Vi(t.type,this,new rl(t.snapshotNode,i,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof y_&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Fc(n,t,e,i,o){let l;if("object"==typeof i&&(l=void 0,o=i),"function"==typeof i&&(l=i),o&&o.onlyOnce){const b=e,w=(S,M)=>{Wf(n._repo,n,g),b(S,M)};w.userCallback=e.userCallback,w.context=e.context,e=w}const h=new g_(e,l||void 0),g="value"===t?new Ed(h):new y_(t,h);return function n0(n,t,e){let i;i=".info"===yt(t._path)?$b(n.infoSyncTree_,t,e):$b(n.serverSyncTree_,t,e),Jb(n.eventQueue_,t._path,i)}(n._repo,n,g),()=>Wf(n._repo,n,g)}function Jf(n,t,e,i){return Fc(n,"value",t,e,i)}function cC(n,t,e,i){return Fc(n,"child_added",t,e,i)}function uC(n,t,e,i){return Fc(n,"child_changed",t,e,i)}function Xf(n,t,e,i){return Fc(n,"child_moved",t,e,i)}function dC(n,t,e,i){return Fc(n,"child_removed",t,e,i)}function hC(n,t,e){let i=null;const o=e?new g_(e):null;"value"===t?i=new Ed(o):t&&(i=new y_(t,o)),Wf(n._repo,n,i)}class Hi{}class ep extends Hi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){vr("endAt",this._value,t._path,!0);const e=rd(t._queryParams,this._value,this._key);if(Zf(e),lo(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bi(t._repo,t._path,e,t._orderByCalled)}}class uT extends Hi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){vr("endBefore",this._value,t._path,!1);const e=function bc(n,t,e){let i;return i=rd(n,t,n.index_===Li||e?e:hr),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(Zf(e),lo(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bi(t._repo,t._path,e,t._orderByCalled)}}class u0 extends Hi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){vr("startAt",this._value,t._path,!0);const e=ei(t._queryParams,this._value,this._key);if(Zf(e),lo(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Bi(t._repo,t._path,e,t._orderByCalled)}}class pC extends Hi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){vr("startAfter",this._value,t._path,!1);const e=function id(n,t,e){let i;return i=ei(n,t,n.index_===Li||e?e:Br),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Zf(e),lo(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Bi(t._repo,t._path,e,t._orderByCalled)}}class gC extends Hi{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bi(t._repo,t._path,function Ue(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class co extends Hi{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bi(t._repo,t._path,function Jt(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class ip extends Hi{constructor(t){super(),this._path=t}_apply(t){Nc(t,"orderByChild");const e=new kt(this._path);if(dt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new vc(e),o=Ga(t._queryParams,i);return lo(o),new Bi(t._repo,t._path,o,!0)}}class d0 extends Hi{_apply(t){Nc(t,"orderByKey");const e=Ga(t._queryParams,Li);return lo(e),new Bi(t._repo,t._path,e,!0)}}class _C extends Hi{_apply(t){Nc(t,"orderByPriority");const e=Ga(t._queryParams,Gt);return lo(e),new Bi(t._repo,t._path,e,!0)}}class f0 extends Hi{_apply(t){Nc(t,"orderByValue");const e=Ga(t._queryParams,_);return lo(e),new Bi(t._repo,t._path,e,!0)}}class p0 extends Hi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(vr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ep(this._value,this._key)._apply(new u0(this._value,this._key)._apply(t))}}function Yr(n,...t){let e=(0,k.m9)(n);for(const i of t)e=i._apply(e);return e}(function PD(n){(0,k.hu)(!Pf,"__referenceConstructor has already been defined"),Pf=n})(Cr),function Bb(n){(0,k.hu)(!Ff,"__referenceConstructor has already been defined"),Ff=n}(Cr);const hT="FIREBASE_DATABASE_EMULATOR_HOST",E_={};let yC=!1;function w_(n,t,e,i,o){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||Gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vn("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,w,h=f_(l,o),g=h.repoInfo;typeof process<"u"&&process.env&&(w=process.env[hT]),w?(b=!0,l=`http://${w}?ns=${g.namespace}`,h=f_(l,o),g=h.repoInfo):b=!h.repoInfo.secure;const S=o&&b?new Vo(Vo.OWNER):new hg(n.name,n.options,t);KD("Invalid Firebase Database URL",h),dt(h.path)||Gn("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function g0(n,t,e,i){let o=E_[t.name];o||(o={},E_[t.name]=o);let l=o[n.toURLString()];return l&&Gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new aT(n,yC,e,i),o[n.toURLString()]=l,l}(g,n,S,new dg(n.name,e));return new _0(M,n)}class _0{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function lT(n,t,e){if(n.stats_=Yu(n.repoInfo_),n.forceRestClient_||ug())n.server_=new Wa(n.repoInfo_,(i,o,l,h)=>{JD(n,i,o,l,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>XD(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ji(n.repoInfo_,t,(i,o,l,h)=>{JD(n,i,o,l,h)},i=>{XD(n,i)},i=>{!function Xo(n,t){In(t,(e,i)=>{vd(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Ku(n,t){const e=n.toString();return Wu[e]||(Wu[e]=t()),Wu[e]}(n.repoInfo_,()=>new vD(n.stats_,n.server_)),n.infoData_=new od,n.infoSyncTree_=new Ub({startListening:(i,o,l,h)=>{let g=[];const b=n.infoData_.getNode(i._path);return b.isEmpty()||(g=Tc(n.infoSyncTree_,i._path,b),setTimeout(()=>{h("ok")},0)),g},stopListening:()=>{}}),vd(n,"connected",!1),n.serverSyncTree_=new Ub({startListening:(i,o,l,h)=>(n.server_.listen(i,l,o,(g,b)=>{const w=h(g,b);Ei(n.eventQueue_,i._path,w)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cr(this._repo,xt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function D_(n,t){const e=E_[t];(!e||e[n.key]!==n)&&Gn(`Database ${t}(${n.repoInfo_}) has already been deleted.`),nC(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Gn("Cannot call "+t+" on a deleted database.")}}function vC(){Ua.IS_TRANSPORT_INITIALIZED&&kn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function y0(){vC(),fr.forceDisallow()}function v0(){vC(),Ur.forceDisallow(),fr.forceAllow()}function bC(n,t,e,i={}){(n=(0,k.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Gn("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Vo(Vo.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,k.Sg)(i.mockUserToken,n.app.options.projectId);l=new Vo(h)}!function m0(n,t,e,i){n.repoInfo_=new La(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(o,t,e,l)}function fT(n,t){No(n,t)}const C0={".sv":"timestamp"};class w0{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ji.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ji.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Id(n){Kh(It.SDK_VERSION),(0,It._registerComponent)(new Qn.wA("database",(t,{instanceIdentifier:e})=>w_(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,It.registerVersion)($s,"0.14.4",n),(0,It.registerVersion)($s,"0.14.4","esm2017")}();var Pn=R(727);class op extends Pn.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const Di={setInterval(n,t,...e){const{delegate:i}=Di;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Di;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var A_=R(8737);class uo extends op{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const o=this.id,l=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(l,o,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(l,this.id,e),this}requestAsyncId(t,e,i=0){return Di.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Di.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let o,i=!1;try{this.work(t)}catch(l){i=!0,o=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A_.P)(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ia={now:()=>(ia.delegate||Date).now(),delegate:void 0};class Es{constructor(t,e=Es.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Es.now=ia.now;class ho extends Es{constructor(t,e=Es.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const ws=new ho(uo),Lc=ws;var Yn=R(8306),Er=R(3269),nr=R(8996);function Ui(...n){const t=(0,Er.yG)(n);return(0,nr.D)(n,t)}var Kr=R(6451),sn=R(4004),ap=R(3099),ra=R(8421),ti=R(4482),Nn=R(5403);function Ds(n,t){return(0,ti.e)((e,i)=>{let o=null,l=0,h=!1;const g=()=>h&&!o&&i.complete();e.subscribe((0,Nn.x)(i,b=>{o?.unsubscribe();let w=0;const S=l++;(0,ra.Xf)(n(b,S)).subscribe(o=(0,Nn.x)(i,M=>i.next(t?t(b,M,S,w++):M),()=>{o=null,g()}))},()=>{h=!0,g()}))})}function EC(n,t){return(0,ti.e)(function CC(n,t,e,i,o){return(l,h)=>{let g=e,b=t,w=0;l.subscribe((0,Nn.x)(h,S=>{const M=w++;b=g?n(b,S,M):(g=!0,S),i&&h.next(b)},o&&(()=>{g&&h.next(b),h.complete()})))}}(n,t,arguments.length>=2,!0))}var Vc=R(4671);function T_(n,t=Vc.y){return n=n??D0,(0,ti.e)((e,i)=>{let o,l=!0;e.subscribe((0,Nn.x)(i,h=>{const g=t(h);(l||!n(o,g))&&(l=!1,o=g,i.next(h))}))})}function D0(n,t){return n===t}var M_=R(5032);(0,It.registerVersion)("firebase","9.21.0","app");const cp=(n,t)=>t.some(e=>n instanceof e);let up,wC;const R_=new WeakMap,fp=new WeakMap,pp=new WeakMap,mp=new WeakMap,gp=new WeakMap;let N_={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return fp.get(n);if("objectStoreNames"===t)return n.objectStoreNames||pp.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Is(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function SC(n){return"function"==typeof n?function IC(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hp(){return wC||(wC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(F_(this),t),Is(R_.get(this))}:function(...t){return Is(n.apply(F_(this),t))}:function(t,...e){const i=n.call(F_(this),t,...e);return pp.set(i,t.sort?t.sort():[t]),Is(i)}}(n):(n instanceof IDBTransaction&&function P_(n){if(fp.has(n))return;const t=new Promise((e,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{e(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});fp.set(n,t)}(n),cp(n,function dp(){return up||(up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,N_):n)}function Is(n){if(n instanceof IDBRequest)return function O_(n){const t=new Promise((e,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{e(Is(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&R_.set(e,n)}).catch(()=>{}),gp.set(t,n),t}(n);if(mp.has(n))return mp.get(n);const t=SC(n);return t!==n&&(mp.set(n,t),gp.set(t,n)),t}const F_=n=>gp.get(n);function _p(n,t,{blocked:e,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,t),g=Is(h);return i&&h.addEventListener("upgradeneeded",b=>{i(Is(h.result),b.oldVersion,b.newVersion,Is(h.transaction))}),e&&h.addEventListener("blocked",()=>e()),g.then(b=>{l&&b.addEventListener("close",()=>l()),o&&b.addEventListener("versionchange",()=>o())}).catch(()=>{}),g}function yp(n,{blocked:t}={}){const e=indexedDB.deleteDatabase(n);return t&&e.addEventListener("blocked",()=>t()),Is(e).then(()=>{})}const AC=["get","getKey","getAll","getAllKeys","count"],L_=["put","add","delete","clear"],vp=new Map;function V_(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(vp.get(t))return vp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,o=L_.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!o&&!AC.includes(e))return;const l=function(){var h=(0,Be.Z)(function*(g,...b){const w=this.transaction(g,o?"readwrite":"readonly");let S=w.store;return i&&(S=S.index(b.shift())),(yield Promise.all([S[e](...b),o&&w.done]))[0]});return function(b){return h.apply(this,arguments)}}();return vp.set(t,l),l}!function DC(n){N_=n(N_)}(n=>({...n,get:(t,e,i)=>V_(t,e)||n.get(t,e,i),has:(t,e)=>!!V_(t,e)||n.has(t,e)}));const B_="@firebase/installations",bp="0.6.4",H_=1e4,U_=`w:${bp}`,j_="FIS_v2",TC="https://firebaseinstallations.googleapis.com/v1",pT=36e5,fo=new k.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fn(n){return n instanceof k.ZR&&n.code.includes("request-failed")}function Cp({projectId:n}){return`${TC}/projects/${n}/installations`}function kC(n){return{token:n.token,requestStatus:2,expiresIn:T0(n.expiresIn),creationTime:Date.now()}}function $_(n,t){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,Be.Z)(function*(n,t){const i=(yield t.json()).error;return fo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function xC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function wp(n){return sa.apply(this,arguments)}function sa(){return(sa=(0,Be.Z)(function*(n){const t=yield n();return t.status>=500&&t.status<600?n():t})).apply(this,arguments)}function T0(n){return Number(n.replace("s","000"))}function G_(){return(G_=(0,Be.Z)(function*({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=Cp(n),o=xC(n),l=t.getImmediate({optional:!0});if(l){const w=yield l.getHeartbeatsHeader();w&&o.append("x-firebase-client",w)}const g={method:"POST",headers:o,body:JSON.stringify({fid:e,authVersion:j_,appId:n.appId,sdkVersion:U_})},b=yield wp(()=>fetch(i,g));if(b.ok){const w=yield b.json();return{fid:w.fid||e,registrationStatus:2,refreshToken:w.refreshToken,authToken:kC(w.authToken)}}throw yield $_("Create Installation",b)})).apply(this,arguments)}function W_(n){return new Promise(t=>{setTimeout(t,n)})}const Y_=/^[cdef][\w-]{21}$/,Sd="";function Ss(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=function k0(n){return function mT(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Y_.test(e)?e:Sd}catch{return Sd}}function Bc(n){return`${n.appName}!${n.appId}`}const Ii=new Map;function wr(n,t){const e=Bc(n);K_(e,t),function x0(n,t){const e=function PC(){return!ol&&"BroadcastChannel"in self&&(ol=new BroadcastChannel("[Firebase] FID Change"),ol.onmessage=n=>{K_(n.data.key,n.data.fid)}),ol}();e&&e.postMessage({key:n,fid:t}),function NC(){0===Ii.size&&ol&&(ol.close(),ol=null)}()}(e,t)}function K_(n,t){const e=Ii.get(n);if(e)for(const i of e)i(t)}let ol=null;const q_="firebase-installations-database",Ad=1,al="firebase-installations-store";let Dp=null;function Z_(){return Dp||(Dp=_p(q_,Ad,{upgrade:(n,t)=>{0===t&&n.createObjectStore(al)}})),Dp}function Td(n,t){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,Be.Z)(function*(n,t){const e=Bc(n),o=(yield Z_()).transaction(al,"readwrite"),l=o.objectStore(al),h=yield l.get(e);return yield l.put(t,e),yield o.done,(!h||h.fid!==t.fid)&&wr(n,t.fid),t})).apply(this,arguments)}function Hc(n){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,Be.Z)(function*(n){const t=Bc(n),i=(yield Z_()).transaction(al,"readwrite");yield i.objectStore(al).delete(t),yield i.done})).apply(this,arguments)}function Uc(n,t){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,Be.Z)(function*(n,t){const e=Bc(n),o=(yield Z_()).transaction(al,"readwrite"),l=o.objectStore(al),h=yield l.get(e),g=t(h);return void 0===g?yield l.delete(e):yield l.put(g,e),yield o.done,g&&(!h||h.fid!==g.fid)&&wr(n,g.fid),g})).apply(this,arguments)}function Md(n){return jc.apply(this,arguments)}function jc(){return jc=(0,Be.Z)(function*(n){let t;const e=yield Uc(n.appConfig,i=>{const o=function FC(n){return X_(n||{fid:Ss(),registrationStatus:0})}(i),l=function LC(n,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(fo.create("app-offline"))};const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function VC(n,t){return Ap.apply(this,arguments)}(n,e);return{installationEntry:e,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:BC(n)}:{installationEntry:t}}(n,o);return t=l.registrationPromise,l.installationEntry});return e.fid===Sd?{installationEntry:yield t}:{installationEntry:e,registrationPromise:t}}),jc.apply(this,arguments)}function Ap(){return Ap=(0,Be.Z)(function*(n,t){try{const e=yield function RC(n,t){return G_.apply(this,arguments)}(n,t);return Td(n.appConfig,e)}catch(e){throw Fn(e)&&409===e.customData.serverCode?yield Hc(n.appConfig):yield Td(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}),Ap.apply(this,arguments)}function BC(n){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,Be.Z)(function*(n){let t=yield J_(n.appConfig);for(;1===t.registrationStatus;)yield W_(100),t=yield J_(n.appConfig);if(0===t.registrationStatus){const{installationEntry:e,registrationPromise:i}=yield Md(n);return i||e}return t})).apply(this,arguments)}function J_(n){return Uc(n,t=>{if(!t)throw fo.create("installation-not-found");return X_(t)})}function X_(n){return function R0(n){return 1===n.registrationStatus&&n.registrationTime+H_<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function ey(){return(ey=(0,Be.Z)(function*({appConfig:n,heartbeatServiceProvider:t},e){const i=function P0(n,{fid:t}){return`${Cp(n)}/${t}/authTokens:generate`}(n,e),o=function z_(n,{refreshToken:t}){const e=xC(n);return e.append("Authorization",function M0(n){return`${j_} ${n}`}(t)),e}(n,e),l=t.getImmediate({optional:!0});if(l){const w=yield l.getHeartbeatsHeader();w&&o.append("x-firebase-client",w)}const g={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:U_,appId:n.appId}})},b=yield wp(()=>fetch(i,g));if(b.ok)return kC(yield b.json());throw yield $_("Generate Auth Token",b)})).apply(this,arguments)}function ty(n){return ny.apply(this,arguments)}function ny(){return ny=(0,Be.Z)(function*(n,t=!1){let e;const i=yield Uc(n.appConfig,l=>{if(!UC(l))throw fo.create("not-registered");const h=l.authToken;if(!t&&function L0(n){return 2===n.requestStatus&&!function V0(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+pT}(n)}(h))return l;if(1===h.requestStatus)return e=function N0(n,t){return iy.apply(this,arguments)}(n,t),l;{if(!navigator.onLine)throw fo.create("app-offline");const g=function B0(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}(l);return e=function F0(n,t){return ry.apply(this,arguments)}(n,g),g}});return e?yield e:i.authToken}),ny.apply(this,arguments)}function iy(){return(iy=(0,Be.Z)(function*(n,t){let e=yield HC(n.appConfig);for(;1===e.authToken.requestStatus;)yield W_(100),e=yield HC(n.appConfig);const i=e.authToken;return 0===i.requestStatus?ty(n,t):i})).apply(this,arguments)}function HC(n){return Uc(n,t=>{if(!UC(t))throw fo.create("not-registered");return function H0(n){return 1===n.requestStatus&&n.requestTime+H_<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function ry(){return ry=(0,Be.Z)(function*(n,t){try{const e=yield function O0(n,t){return ey.apply(this,arguments)}(n,t),i=Object.assign(Object.assign({},t),{authToken:e});return yield Td(n.appConfig,i),e}catch(e){if(!Fn(e)||401!==e.customData.serverCode&&404!==e.customData.serverCode){const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield Td(n.appConfig,i)}else yield Hc(n.appConfig);throw e}}),ry.apply(this,arguments)}function UC(n){return void 0!==n&&2===n.registrationStatus}function sy(){return(sy=(0,Be.Z)(function*(n){const t=n,{installationEntry:e,registrationPromise:i}=yield Md(t);return i?i.catch(console.error):ty(t).catch(console.error),e.fid})).apply(this,arguments)}function Mp(){return Mp=(0,Be.Z)(function*(n,t=!1){const e=n;return yield function $C(n){return kp.apply(this,arguments)}(e),(yield ty(e,t)).token}),Mp.apply(this,arguments)}function kp(){return(kp=(0,Be.Z)(function*(n){const{registrationPromise:t}=yield Md(n);t&&(yield t)})).apply(this,arguments)}function oy(n){return fo.create("missing-app-config-values",{valueName:n})}const KC="installations",gT=n=>{const t=n.getProvider("app").getImmediate(),e=function ll(n){if(!n||!n.options)throw oy("App Configuration");if(!n.name)throw oy("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw oy(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(t);return{app:t,appConfig:e,heartbeatServiceProvider:(0,It._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},ay=n=>{const t=n.getProvider("app").getImmediate(),e=(0,It._getProvider)(t,KC).getImmediate();return{getId:()=>function U0(n){return sy.apply(this,arguments)}(e),getToken:o=>function jC(n){return Mp.apply(this,arguments)}(e,o)}};(function _T(){(0,It._registerComponent)(new Qn.wA(KC,gT,"PUBLIC")),(0,It._registerComponent)(new Qn.wA("installations-internal",ay,"PRIVATE"))})(),(0,It.registerVersion)(B_,bp),(0,It.registerVersion)(B_,bp,"esm2017");const Op="@firebase/remote-config",ji=new k.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Z0{constructor(t,e,i,o){this.client=t,this.storage=e,this.storageCache=i,this.logger=o}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-e,o=i<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${o}.`),o}fetch(t){var e=this;return(0,Be.Z)(function*(){const[i,o]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(o&&e.isCachedDataFresh(t.cacheMaxAgeMillis,i))return o;t.eTag=o&&o.eTag;const l=yield e.client.fetch(t),h=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===l.status&&h.push(e.storage.setLastSuccessfulFetchResponse(l)),yield Promise.all(h),l})()}}function Q0(n=navigator){return n.languages&&n.languages[0]||n.language}class Bp{constructor(t,e,i,o,l,h){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=i,this.projectId=o,this.apiKey=l,this.appId=h}fetch(t){var e=this;return(0,Be.Z)(function*(){const[i,o]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),h=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,g={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},b={sdk_version:e.sdkVersion,app_instance_id:i,app_instance_id_token:o,app_id:e.appId,language_code:Q0()},w={method:"POST",headers:g,body:JSON.stringify(b)},S=fetch(h,w),M=new Promise((Ne,Xe)=>{t.signal.addEventListener(()=>{const Ot=new Error("The operation was aborted.");Ot.name="AbortError",Xe(Ot)})});let P;try{yield Promise.race([S,M]),P=yield S}catch(Ne){let Xe="fetch-client-network";throw"AbortError"===Ne?.name&&(Xe="fetch-timeout"),ji.create(Xe,{originalErrorMessage:Ne?.message})}let V=P.status;const z=P.headers.get("ETag")||void 0;let te,Pe;if(200===P.status){let Ne;try{Ne=yield P.json()}catch(Xe){throw ji.create("fetch-client-parse",{originalErrorMessage:Xe?.message})}te=Ne.entries,Pe=Ne.state}if("INSTANCE_STATE_UNSPECIFIED"===Pe?V=500:"NO_CHANGE"===Pe?V=304:("NO_TEMPLATE"===Pe||"EMPTY_CONFIG"===Pe)&&(te={}),304!==V&&200!==V)throw ji.create("fetch-status",{httpStatus:V});return{status:V,eTag:z,config:te}})()}}class XC{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return(0,Be.Z)(function*(){const i=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,i)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:i}){var o=this;return(0,Be.Z)(function*(){yield function QC(n,t){return new Promise((e,i)=>{const o=Math.max(t-Date.now(),0),l=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(l),i(ji.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,e);try{const l=yield o.client.fetch(t);return yield o.storage.deleteThrottleMetadata(),l}catch(l){if(!function JC(n){if(!(n instanceof k.ZR&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l))throw l;const h={throttleEndTimeMillis:Date.now()+(0,k.$s)(i),backoffCount:i+1};return yield o.storage.setThrottleMetadata(h),o.attemptFetch(t,h)}})()}}class Rd{constructor(t,e,i,o,l){this.app=t,this._client=e,this._storageCache=i,this._storage=o,this._logger=l,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hp(n,t){const e=n.target.error||void 0;return ji.create(t,{originalErrorMessage:e&&e?.message})}const cl="app_namespace_store";class nE{constructor(t,e,i,o=function tE(){return new Promise((n,t)=>{try{const e=indexedDB.open("firebase_remote_config",1);e.onerror=i=>{t(Hp(i,"storage-open"))},e.onsuccess=i=>{n(i.target.result)},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(cl,{keyPath:"compositeKey"})}}catch(e){t(ji.create("storage-open",{originalErrorMessage:e?.message}))}})}()){this.appId=t,this.appName=e,this.namespace=i,this.openDbPromise=o}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return(0,Be.Z)(function*(){const i=yield e.openDbPromise;return new Promise((o,l)=>{const g=i.transaction([cl],"readonly").objectStore(cl),b=e.createCompositeKey(t);try{const w=g.get(b);w.onerror=S=>{l(Hp(S,"storage-get"))},w.onsuccess=S=>{const M=S.target.result;o(M?M.value:void 0)}}catch(w){l(ji.create("storage-get",{originalErrorMessage:w?.message}))}})})()}set(t,e){var i=this;return(0,Be.Z)(function*(){const o=yield i.openDbPromise;return new Promise((l,h)=>{const b=o.transaction([cl],"readwrite").objectStore(cl),w=i.createCompositeKey(t);try{const S=b.put({compositeKey:w,value:e});S.onerror=M=>{h(Hp(M,"storage-set"))},S.onsuccess=()=>{l()}}catch(S){h(ji.create("storage-set",{originalErrorMessage:S?.message}))}})})()}delete(t){var e=this;return(0,Be.Z)(function*(){const i=yield e.openDbPromise;return new Promise((o,l)=>{const g=i.transaction([cl],"readwrite").objectStore(cl),b=e.createCompositeKey(t);try{const w=g.delete(b);w.onerror=S=>{l(Hp(S,"storage-delete"))},w.onsuccess=()=>{o()}}catch(w){l(ji.create("storage-delete",{originalErrorMessage:w?.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class eI{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return(0,Be.Z)(function*(){const e=t.storage.getLastFetchStatus(),i=t.storage.getLastSuccessfulFetchTimestampMillis(),o=t.storage.getActiveConfig(),l=yield e;l&&(t.lastFetchStatus=l);const h=yield i;h&&(t.lastSuccessfulFetchTimestampMillis=h);const g=yield o;g&&(t.activeConfig=g)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function ET(){return rE.apply(this,arguments)}function rE(){return(rE=(0,Be.Z)(function*(){if(!(0,k.hl)())return!1;try{return yield(0,k.eu)()}catch{return!1}})).apply(this,arguments)}!function iE(){(0,It._registerComponent)(new Qn.wA("remote-config",function n(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ji.create("registration-window");if(!(0,k.hl)())throw ji.create("indexed-db-unavailable");const{projectId:l,apiKey:h,appId:g}=i.options;if(!l)throw ji.create("registration-project-id");if(!h)throw ji.create("registration-api-key");if(!g)throw ji.create("registration-app-id");const b=new nE(g,i.name,e=e||"firebase"),w=new eI(b),S=new Jn.Yd(Op);S.logLevel=Jn.in.ERROR;const M=new Bp(o,It.SDK_VERSION,e,l,h,g),P=new XC(M,b),V=new Z0(P,b,w,S),z=new Rd(i,V,w,b,S);return function W0(n){const t=(0,k.m9)(n);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(z),z},"PUBLIC").setMultipleInstances(!0)),(0,It.registerVersion)(Op,"0.4.4"),(0,It.registerVersion)(Op,"0.4.4","esm2017")}();const wT="/firebase-messaging-sw.js",DT="/firebase-cloud-messaging-push-scope",uy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Up="https://fcmregistrations.googleapis.com/v1",sE="google.c.a.c_id",tI="google.c.a.c_l",oE="google.c.a.ts",Od="google.c.a.e";var Gc=(()=>{return(n=Gc||(Gc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Gc;var n})();function po(n){const t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nI(n){const e=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),o=new Uint8Array(i.length);for(let l=0;l<i.length;++l)o[l]=i.charCodeAt(l);return o}const dy="fcm_token_details_db",aE=5,lE="fcm_token_object_Store";function ul(){return ul=(0,Be.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(l=>l.name).includes(dy))return null;let t=null;return(yield _p(dy,aE,{upgrade:(i=(0,Be.Z)(function*(o,l,h,g){var b;if(l<2||!o.objectStoreNames.contains(lE))return;const w=g.objectStore(lE),S=yield w.index("fcmSenderId").get(n);if(yield w.clear(),S)if(2===l){const M=S;if(!M.auth||!M.p256dh||!M.endpoint)return;t={token:M.fcmToken,createTime:null!==(b=M.createTime)&&void 0!==b?b:Date.now(),subscriptionOptions:{auth:M.auth,p256dh:M.p256dh,endpoint:M.endpoint,swScope:M.swScope,vapidKey:"string"==typeof M.vapidKey?M.vapidKey:po(M.vapidKey)}}}else if(3===l){const M=S;t={token:M.fcmToken,createTime:M.createTime,subscriptionOptions:{auth:po(M.auth),p256dh:po(M.p256dh),endpoint:M.endpoint,swScope:M.swScope,vapidKey:po(M.vapidKey)}}}else if(4===l){const M=S;t={token:M.fcmToken,createTime:M.createTime,subscriptionOptions:{auth:po(M.auth),p256dh:po(M.p256dh),endpoint:M.endpoint,swScope:M.swScope,vapidKey:po(M.vapidKey)}}}}),function(l,h,g,b){return i.apply(this,arguments)})})).close(),yield yp(dy),yield yp("fcm_vapid_details_db"),yield yp("undefined"),function rI(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:t}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null;var i}),ul.apply(this,arguments)}const cE="firebase-messaging-database",sI=1,oa="firebase-messaging-store";let hy=null;function jp(){return hy||(hy=_p(cE,sI,{upgrade:(n,t)=>{0===t&&n.createObjectStore(oa)}})),hy}function uE(n){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,Be.Z)(function*(n){const t=my(n),i=yield(yield jp()).transaction(oa).objectStore(oa).get(t);if(i)return i;{const o=yield function iI(n){return ul.apply(this,arguments)}(n.appConfig.senderId);if(o)return yield fy(n,o),o}}),Pd.apply(this,arguments)}function fy(n,t){return $p.apply(this,arguments)}function $p(){return($p=(0,Be.Z)(function*(n,t){const e=my(n),o=(yield jp()).transaction(oa,"readwrite");return yield o.objectStore(oa).put(t,e),yield o.done,t})).apply(this,arguments)}function py(){return(py=(0,Be.Z)(function*(n){const t=my(n),i=(yield jp()).transaction(oa,"readwrite");yield i.objectStore(oa).delete(t),yield i.done})).apply(this,arguments)}function my({appConfig:n}){return n.appId}const Ln=new k.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function aI(n,t){return zp.apply(this,arguments)}function zp(){return(zp=(0,Be.Z)(function*(n,t){const e=yield vy(n),i=fE(t),o={method:"POST",headers:e,body:JSON.stringify(i)};let l;try{l=yield(yield fetch(yy(n.appConfig),o)).json()}catch(h){throw Ln.create("token-subscribe-failed",{errorInfo:h?.toString()})}if(l.error)throw Ln.create("token-subscribe-failed",{errorInfo:l.error.message});if(!l.token)throw Ln.create("token-subscribe-no-token");return l.token})).apply(this,arguments)}function gy(){return(gy=(0,Be.Z)(function*(n,t){const e=yield vy(n),i=fE(t.subscriptionOptions),o={method:"PATCH",headers:e,body:JSON.stringify(i)};let l;try{l=yield(yield fetch(`${yy(n.appConfig)}/${t.token}`,o)).json()}catch(h){throw Ln.create("token-update-failed",{errorInfo:h?.toString()})}if(l.error)throw Ln.create("token-update-failed",{errorInfo:l.error.message});if(!l.token)throw Ln.create("token-update-no-token");return l.token})).apply(this,arguments)}function hE(n,t){return _y.apply(this,arguments)}function _y(){return(_y=(0,Be.Z)(function*(n,t){const i={method:"DELETE",headers:yield vy(n)};try{const l=yield(yield fetch(`${yy(n.appConfig)}/${t}`,i)).json();if(l.error)throw Ln.create("token-unsubscribe-failed",{errorInfo:l.error.message})}catch(o){throw Ln.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}})).apply(this,arguments)}function yy({projectId:n}){return`${Up}/projects/${n}/registrations`}function vy(n){return by.apply(this,arguments)}function by(){return(by=(0,Be.Z)(function*({appConfig:n,installations:t}){const e=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${e}`})})).apply(this,arguments)}function fE({p256dh:n,auth:t,endpoint:e,vapidKey:i}){const o={web:{endpoint:e,auth:t,p256dh:n}};return i!==uy&&(o.web.applicationPubKey=i),o}const pE=6048e5;function Cy(){return Cy=(0,Be.Z)(function*(n){const t=yield function wy(n,t){return Wp.apply(this,arguments)}(n.swRegistration,n.vapidKey),e={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:po(t.getKey("auth")),p256dh:po(t.getKey("p256dh"))},i=yield uE(n.firebaseDependencies);if(i){if(function Dy(n,t){return t.vapidKey===n.vapidKey&&t.endpoint===n.endpoint&&t.auth===n.auth&&t.p256dh===n.p256dh}(i.subscriptionOptions,e))return Date.now()>=i.createTime+pE?function cI(n,t){return Ey.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:e}):i.token;try{yield hE(n.firebaseDependencies,i.token)}catch(o){console.warn(o)}return _E(n.firebaseDependencies,e)}return _E(n.firebaseDependencies,e)}),Cy.apply(this,arguments)}function Gp(){return Gp=(0,Be.Z)(function*(n){const t=yield uE(n.firebaseDependencies);t&&(yield hE(n.firebaseDependencies,t.token),yield function dE(n){return py.apply(this,arguments)}(n.firebaseDependencies));const e=yield n.swRegistration.pushManager.getSubscription();return!e||e.unsubscribe()}),Gp.apply(this,arguments)}function Ey(){return Ey=(0,Be.Z)(function*(n,t){try{const e=yield function lI(n,t){return gy.apply(this,arguments)}(n.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:e,createTime:Date.now()});return yield fy(n.firebaseDependencies,i),e}catch(e){throw yield function gE(n){return Gp.apply(this,arguments)}(n),e}}),Ey.apply(this,arguments)}function _E(n,t){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,Be.Z)(function*(n,t){const i={token:yield aI(n,t),createTime:Date.now(),subscriptionOptions:t};return yield fy(n,i),i.token})).apply(this,arguments)}function Wp(){return(Wp=(0,Be.Z)(function*(n,t){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nI(t)})})).apply(this,arguments)}function yE(n){const t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function uI(n,t){if(!t.notification)return;n.notification={};const e=t.notification.title;e&&(n.notification.title=e);const i=t.notification.body;i&&(n.notification.body=i);const o=t.notification.image;o&&(n.notification.image=o);const l=t.notification.icon;l&&(n.notification.icon=l)}(t,n),function Iy(n,t){t.data&&(n.data=t.data)}(t,n),function dI(n,t){var e,i,o,l,h;if(!(t.fcmOptions||null!==(e=t.notification)&&void 0!==e&&e.click_action))return;n.fcmOptions={};const g=null!==(o=null===(i=t.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==o?o:null===(l=t.notification)||void 0===l?void 0:l.click_action;g&&(n.fcmOptions.link=g);const b=null===(h=t.fcmOptions)||void 0===h?void 0:h.analytics_label;b&&(n.fcmOptions.analyticsLabel=b)}(t,n),t}function dl(n,t){const e=[];for(let i=0;i<n.length;i++)e.push(n.charAt(i)),i<t.length&&e.push(t.charAt(i));return e.join("")}function Sy(n){return Ln.create("missing-app-config-values",{valueName:n})}dl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ST{constructor(t,e,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=function hI(n){if(!n||!n.options)throw Sy("App Configuration Object");if(!n.name)throw Sy("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=n;for(const i of t)if(!e[i])throw Sy(i);return{appName:n.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:o,installations:e,analyticsProvider:i}}_delete(){return Promise.resolve()}}function Ay(n){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,Be.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(wT,{scope:DT}),n.swRegistration.update().catch(()=>{})}catch(t){throw Ln.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}function Yp(){return(Yp=(0,Be.Z)(function*(n,t){if(!t&&!n.swRegistration&&(yield Ay(n)),t||!n.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");n.swRegistration=t}})).apply(this,arguments)}function Ty(){return(Ty=(0,Be.Z)(function*(n,t){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=uy)})).apply(this,arguments)}function qp(){return qp=(0,Be.Z)(function*(n,t){if(!navigator)throw Ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ln.create("permission-blocked");return yield function pI(n,t){return Ty.apply(this,arguments)}(n,t?.vapidKey),yield function fI(n,t){return Yp.apply(this,arguments)}(n,t?.serviceWorkerRegistration),function mE(n){return Cy.apply(this,arguments)}(n)}),qp.apply(this,arguments)}function Zp(){return(Zp=(0,Be.Z)(function*(n,t,e){const i=function CE(n){switch(n){case Gc.NOTIFICATION_CLICKED:return"notification_open";case Gc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:e[sE],message_name:e[tI],message_time:e[oE],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function My(){return My=(0,Be.Z)(function*(n,t){const e=t.data;if(!e.isFirebaseMessaging)return;n.onMessageHandler&&e.messageType===Gc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(yE(e)):n.onMessageHandler.next(yE(e)));const i=e.data;(function vE(n){return"object"==typeof n&&!!n&&sE in n})(i)&&"1"===i[Od]&&(yield function bE(n,t,e){return Zp.apply(this,arguments)}(n,e.messageType,i))}),My.apply(this,arguments)}const EE="@firebase/messaging",DE=n=>{const t=new ST(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function mI(n,t){return My.apply(this,arguments)}(t,e)),t},AT=n=>{const t=n.getProvider("messaging").getImmediate();return{getToken:i=>function Kp(n,t){return qp.apply(this,arguments)}(t,i)}};function SE(){return ky.apply(this,arguments)}function ky(){return(ky=(0,Be.Z)(function*(){try{yield(0,k.eu)()}catch{return!1}return typeof window<"u"&&(0,k.hl)()&&(0,k.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function IE(){(0,It._registerComponent)(new Qn.wA("messaging",DE,"PUBLIC")),(0,It._registerComponent)(new Qn.wA("messaging-internal",AT,"PRIVATE")),(0,It.registerVersion)(EE,"0.12.4"),(0,It.registerVersion)(EE,"0.12.4","esm2017")}();const Qp="analytics",_I="firebase_id",yI="origin",vI=6e4,bI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ry="https://www.googletagmanager.com/gtag/js",bn=new Jn.Yd("@firebase/analytics"),hi=new k.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ME(n){if(!n.startsWith(Ry)){const t=hi.create("invalid-gtag-resource",{gtagURL:n});return bn.warn(t.message),""}return n}function Oy(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function Jp(){return(Jp=(0,Be.Z)(function*(n,t,e,i,o,l){const h=i[o];try{if(h)yield t[h];else{const b=(yield Oy(e)).find(w=>w.measurementId===o);b&&(yield t[b.appId])}}catch(g){bn.error(g)}n("config",o,l)})).apply(this,arguments)}function Py(){return(Py=(0,Be.Z)(function*(n,t,e,i,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const g=yield Oy(e);for(const b of h){const w=g.find(M=>M.measurementId===b),S=w&&t[w.appId];if(!S){l=[];break}l.push(S)}}0===l.length&&(l=Object.values(t)),yield Promise.all(l),n("event",i,o||{})}catch(l){bn.error(l)}})).apply(this,arguments)}const DI=30,OE=new class As{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Xp(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Fy(){return(Fy=(0,Be.Z)(function*(n){var t;const{appId:e,apiKey:i}=n,o={method:"GET",headers:Xp(i)},l=bI.replace("{app-id}",e),h=yield fetch(l,o);if(200!==h.status&&304!==h.status){let g="";try{const b=yield h.json();null!==(t=b.error)&&void 0!==t&&t.message&&(g=b.error.message)}catch{}throw hi.create("config-fetch-failed",{httpStatus:h.status,responseMessage:g})}return h.json()})).apply(this,arguments)}function Ly(){return(Ly=(0,Be.Z)(function*(n,t=OE,e){const{appId:i,apiKey:o,measurementId:l}=n.options;if(!i)throw hi.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:i};throw hi.create("no-api-key")}const h=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new PE;return setTimeout((0,Be.Z)(function*(){g.abort()}),void 0!==e?e:vI),Bd({appId:i,apiKey:o,measurementId:l},h,g,t)})).apply(this,arguments)}function Bd(n,t,e){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,Be.Z)(function*(n,{throttleEndTimeMillis:t,backoffCount:e},i,o=OE){var l;const{appId:h,measurementId:g}=n;try{yield function SI(n,t){return new Promise((e,i)=>{const o=Math.max(t-Date.now(),0),l=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(l),i(hi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(i,t)}catch(b){if(g)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:h,measurementId:g};throw b}try{const b=yield function Vd(n){return Fy.apply(this,arguments)}(n);return o.deleteThrottleMetadata(h),b}catch(b){const w=b;if(!function AI(n){if(!(n instanceof k.ZR&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}(w)){if(o.deleteThrottleMetadata(h),g)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${w?.message}]`),{appId:h,measurementId:g};throw b}const S=503===Number(null===(l=w?.customData)||void 0===l?void 0:l.httpStatus)?(0,k.$s)(e,o.intervalMillis,DI):(0,k.$s)(e,o.intervalMillis),M={throttleEndTimeMillis:Date.now()+S,backoffCount:e+1};return o.setThrottleMetadata(h,M),bn.debug(`Calling attemptFetch again in ${S} millis`),Bd(n,M,i,o)}}),Wc.apply(this,arguments)}class PE{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let em,$y;function tm(){return(tm=(0,Be.Z)(function*(n,t,e,i,o){if(o&&o.global)n("event",e,i);else{const l=yield t;n("event",e,Object.assign(Object.assign({},i),{send_to:l}))}})).apply(this,arguments)}function im(){return(im=(0,Be.Z)(function*(){if(!(0,k.hl)())return bn.warn(hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,k.eu)()}catch(n){return bn.warn(hi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function rm(){return rm=(0,Be.Z)(function*(n,t,e,i,o,l,h){var g;const b=function II(n){return Ly.apply(this,arguments)}(n);b.then(V=>{e[V.measurementId]=V.appId,n.options.measurementId&&V.measurementId!==n.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>bn.error(V)),t.push(b);const w=function Gy(){return im.apply(this,arguments)}().then(V=>{if(V)return i.getId()}),[S,M]=yield Promise.all([b,w]);(function Ld(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Ry)&&e.src.includes(n))return e;return null})(l)||function xE(n,t){const e=function kE(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}("firebase-js-sdk-policy",{createScriptURL:ME}),i=document.createElement("script"),o=`${Ry}?l=${n}&id=${t}`;i.src=e?e?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}(l,S.measurementId),$y&&(o("consent","default",$y),function NE(n){$y=n}(void 0)),o("js",new Date);const P=null!==(g=h?.config)&&void 0!==g?g:{};return P[yI]="firebase",P.update=!0,null!=M&&(P[_I]=M),o("config",S.measurementId,P),em&&(o("set",em),function zy(n){em=n}(void 0)),S.measurementId}),rm.apply(this,arguments)}class LE{constructor(t){this.app=t}_delete(){return delete Ts[this.app.options.appId],Promise.resolve()}}let Ts={},Wy=[];const Yy={};let qy,hn,sm="dataLayer",Ky="gtag",aa=!1;function FT(n,t,e){!function kI(){const n=[];if((0,k.ru)()&&n.push("This is a browser extension environment."),(0,k.zI)()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),e=hi.create("invalid-analytics-context",{errorInfo:t});bn.warn(e.message)}}();const i=n.options.appId;if(!i)throw hi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw hi.create("no-api-key");bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ts[i])throw hi.create("already-exists",{id:i});if(!aa){!function CI(n){let t=[];Array.isArray(window[n])?t=window[n]:window[n]=t}(sm);const{wrappedGtag:l,gtagCore:h}=function wI(n,t,e,i,o){let l=function(...h){window[i].push(arguments)};return window[o]&&"function"==typeof window[o]&&(l=window[o]),window[o]=function EI(n,t,e,i){function l(){return l=(0,Be.Z)(function*(h,...g){try{if("event"===h){const[b,w]=g;yield function RE(n,t,e,i,o){return Py.apply(this,arguments)}(n,t,e,b,w)}else if("config"===h){const[b,w]=g;yield function OT(n,t,e,i,o,l){return Jp.apply(this,arguments)}(n,t,e,i,b,w)}else if("consent"===h){const[b]=g;n("consent","update",b)}else if("get"===h){const[b,w,S]=g;n("get",b,w,S)}else if("set"===h){const[b]=g;n("set",b)}else n(h,...g)}catch(b){bn.error(b)}}),l.apply(this,arguments)}return function o(h){return l.apply(this,arguments)}}(l,n,t,e),{gtagCore:l,wrappedGtag:window[o]}}(Ts,Wy,Yy,sm,Ky);hn=l,qy=h,aa=!0}return Ts[i]=function FE(n,t,e,i,o,l,h){return rm.apply(this,arguments)}(n,Wy,Yy,t,qy,sm,e),new LE(n)}function BE(){return hl.apply(this,arguments)}function hl(){return(hl=(0,Be.Z)(function*(){if((0,k.ru)()||!(0,k.zI)()||!(0,k.hl)())return!1;try{return yield(0,k.eu)()}catch{return!1}})).apply(this,arguments)}const Jy="@firebase/analytics";!function Xy(){(0,It._registerComponent)(new Qn.wA(Qp,(t,{options:e})=>FT(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),(0,It._registerComponent)(new Qn.wA("analytics-internal",function n(t){try{const e=t.getProvider(Qp).getImmediate();return{logEvent:(i,o,l)=>function Qy(n,t,e,i){n=(0,k.m9)(n),function Vy(n,t,e,i,o){return tm.apply(this,arguments)}(hn,Ts[n.app.options.appId],t,e,i).catch(o=>bn.error(o))}(e,i,o,l)}}catch(e){throw hi.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,It.registerVersion)(Jy,"0.10.0"),(0,It.registerVersion)(Jy,"0.10.0","esm2017")}();const OI=new class UE extends ho{}(class UT extends uo{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}});var fi=R(576);function Yc(n,t,e){const i=(0,fi.m)(n)||t||e?{next:n,error:t,complete:e}:n;return i?(0,ti.e)((o,l)=>{var h;null===(h=i.subscribe)||void 0===h||h.call(i);let g=!0;o.subscribe((0,Nn.x)(l,b=>{var w;null===(w=i.next)||void 0===w||w.call(i,b),l.next(b)},()=>{var b;g=!1,null===(b=i.complete)||void 0===b||b.call(i),l.complete()},b=>{var w;g=!1,null===(w=i.error)||void 0===w||w.call(i,b),l.error(b)},()=>{var b,w;g&&(null===(b=i.unsubscribe)||void 0===b||b.call(i)),null===(w=i.finalize)||void 0===w||w.call(i)}))}):Vc.y}var $d=R(9468),fl=R(5363);const jT=new c.GfV("7.5.0"),ev="__angularfire_symbol__analyticsIsSupportedValue",jE="__angularfire_symbol__analyticsIsSupported",tv="__angularfire_symbol__remoteConfigIsSupportedValue",nv="__angularfire_symbol__remoteConfigIsSupported",iv="__angularfire_symbol__messagingIsSupportedValue",om="__angularfire_symbol__messagingIsSupported";function pl(){}globalThis[jE]||(globalThis[jE]=BE().then(n=>globalThis[ev]=n).catch(()=>globalThis[ev]=!1)),globalThis[om]||(globalThis[om]=SE().then(n=>globalThis[iv]=n).catch(()=>globalThis[iv]=!1)),globalThis[nv]||(globalThis[nv]=ET().then(n=>globalThis[tv]=n).catch(()=>globalThis[tv]=!1));class $E{constructor(t,e=OI){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const o=this.zone;return this.delegate.schedule(function(h){o.runGuarded(()=>{t.apply(this,[h])})},e,i)}}class zE{constructor(t){this.zone=t,this.task=null}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pl,{},pl,pl)),e.pipe(Yc({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rv=(()=>{class n{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new $E(Zone.current)),this.insideAngular=e.run(()=>new $E(Zone.current,ws)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function la(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function mo(n){return la(),function GT(n){return function(e){return(e=e.lift(new zE(n.ngZone))).pipe((0,$d.R)(n.outsideAngular),(0,fl.Q)(n.insideAngular))}}(la())(n)}var go=R(2011),YT=(R(3042),R(3942));const lm=new Jn.Yd("@firebase/database-compat"),BI=function(n){lm.warn("FIREBASE WARNING: "+n)};class YE{constructor(t){this._delegate=t}cancel(t){(0,k.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,k.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,k.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,k.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,k.Dv)("OnDisconnect.set",1,2,arguments.length),(0,k.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,k.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(t,e);return i&&o.then(()=>i(null),l=>i(l)),o}update(t,e){if((0,k.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,BI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),o=>e(o)),i}}class KE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,k.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class gl{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,k.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,k.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,k.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,k.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,k.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Rc("DataSnapshot.child","path",t,!1),new gl(this._database,this._delegate.child(t))}hasChild(t){return(0,k.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Rc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,k.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,k.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,k.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new gl(this._database,e)))}hasChildren(){return(0,k.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,k.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,k.Dv)("DataSnapshot.ref",0,0,arguments.length),new $i(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vn{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,o){var l;(0,k.Dv)("Query.on",2,4,arguments.length),(0,k.Wj)("Query.on","callback",e,!1);const h=Vn.getCancelAndContextArgs_("Query.on",i,o),g=(w,S)=>{e.call(h.context,new gl(this.database,w),S)};g.userCallback=e,g.context=h.context;const b=null===(l=h.cancel)||void 0===l?void 0:l.bind(h.context);switch(t){case"value":return Jf(this._delegate,g,b),e;case"child_added":return cC(this._delegate,g,b),e;case"child_removed":return dC(this._delegate,g,b),e;case"child_changed":return uC(this._delegate,g,b),e;case"child_moved":return Xf(this._delegate,g,b),e;default:throw new Error((0,k.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,k.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,k.Wj)("Query.off","callback",e,!0),(0,k.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,hC(this._delegate,t,o)}else hC(this._delegate,t)}get(){return c0(this._delegate).then(t=>new gl(this.database,t))}once(t,e,i,o){(0,k.Dv)("Query.once",1,4,arguments.length),(0,k.Wj)("Query.once","callback",e,!0);const l=Vn.getCancelAndContextArgs_("Query.once",i,o),h=new k.BH,g=(w,S)=>{const M=new gl(this.database,w);e&&e.call(l.context,M,S),h.resolve(M)};g.userCallback=e,g.context=l.context;const b=w=>{l.cancel&&l.cancel.call(l.context,w),h.reject(w)};switch(t){case"value":Jf(this._delegate,g,b,{onlyOnce:!0});break;case"child_added":cC(this._delegate,g,b,{onlyOnce:!0});break;case"child_removed":dC(this._delegate,g,b,{onlyOnce:!0});break;case"child_changed":uC(this._delegate,g,b,{onlyOnce:!0});break;case"child_moved":Xf(this._delegate,g,b,{onlyOnce:!0});break;default:throw new Error((0,k.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,k.Dv)("Query.limitToFirst",1,1,arguments.length),new Vn(this.database,Yr(this._delegate,function b_(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new gC(n)}(t)))}limitToLast(t){return(0,k.Dv)("Query.limitToLast",1,1,arguments.length),new Vn(this.database,Yr(this._delegate,function np(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new co(n)}(t)))}orderByChild(t){return(0,k.Dv)("Query.orderByChild",1,1,arguments.length),new Vn(this.database,Yr(this._delegate,function wd(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Rc("orderByChild","path",n,!1),new ip(n)}(t)))}orderByKey(){return(0,k.Dv)("Query.orderByKey",0,0,arguments.length),new Vn(this.database,Yr(this._delegate,function C_(){return new d0}()))}orderByPriority(){return(0,k.Dv)("Query.orderByPriority",0,0,arguments.length),new Vn(this.database,Yr(this._delegate,function h0(){return new _C}()))}orderByValue(){return(0,k.Dv)("Query.orderByValue",0,0,arguments.length),new Vn(this.database,Yr(this._delegate,function Dd(){return new f0}()))}startAt(t=null,e){return(0,k.Dv)("Query.startAt",0,2,arguments.length),new Vn(this.database,Yr(this._delegate,function fC(n=null,t){return _d("startAt","key",t,!0),new u0(n,t)}(t,e)))}startAfter(t=null,e){return(0,k.Dv)("Query.startAfter",0,2,arguments.length),new Vn(this.database,Yr(this._delegate,function mC(n,t){return _d("startAfter","key",t,!0),new pC(n,t)}(t,e)))}endAt(t=null,e){return(0,k.Dv)("Query.endAt",0,2,arguments.length),new Vn(this.database,Yr(this._delegate,function tp(n,t){return _d("endAt","key",t,!0),new ep(n,t)}(t,e)))}endBefore(t=null,e){return(0,k.Dv)("Query.endBefore",0,2,arguments.length),new Vn(this.database,Yr(this._delegate,function v_(n,t){return _d("endBefore","key",t,!0),new uT(n,t)}(t,e)))}equalTo(t,e){return(0,k.Dv)("Query.equalTo",1,2,arguments.length),new Vn(this.database,Yr(this._delegate,function dT(n,t){return _d("equalTo","key",t,!0),new p0(n,t)}(t,e)))}toString(){return(0,k.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,k.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,k.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Vn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,k.Wj)(t,"cancel",o.cancel,!0),o.context=i,(0,k.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,k.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new $i(this.database,new Cr(this._delegate._repo,this._delegate._path))}}class $i extends Vn{constructor(t,e){super(t,new Bi(e._repo,e._path,new Te,!1)),this.database=t,this._delegate=e}getKey(){return(0,k.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,k.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new $i(this.database,na(this._delegate,t))}getParent(){(0,k.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new $i(this.database,t):null}getRoot(){return(0,k.Dv)("Reference.root",0,0,arguments.length),new $i(this.database,this._delegate.root)}set(t,e){(0,k.Dv)("Reference.set",1,2,arguments.length),(0,k.Wj)("Reference.set","onComplete",e,!0);const i=Cd(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}update(t,e){if((0,k.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,BI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}br("Reference.update",this._delegate._path),(0,k.Wj)("Reference.update","onComplete",e,!0);const i=Qf(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,k.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,k.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function bs(n,t,e){if(br("setWithPriority",n._path),vr("setWithPriority",t,n._path,!1),l_("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new k.BH;return bd(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&o.then(()=>i(null),l=>i(l)),o}remove(t){(0,k.Dv)("Reference.remove",0,1,arguments.length),(0,k.Wj)("Reference.remove","onComplete",t,!0);const e=__(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,k.Dv)("Reference.transaction",1,3,arguments.length),(0,k.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,k.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,k.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function Cs(n,t,e){var i;if(n=(0,k.m9)(n),br("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(i=e?.applyLocally)||void 0===i||i,l=new k.BH,g=Jf(n,()=>{});return function u_(n,t,e,i,o,l){ao(n,"transaction on "+t);const h={path:t,update:e,onComplete:i,status:null,order:Pa(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=ea(n,t,void 0);h.currentInputSnapshot=g;const b=h.update(g.val());if(void 0===b)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{$f("transaction failed: Data returned ",b,h.path),h.status=0;const w=md(n.transactionQueueTree_,t),S=Jo(w)||[];let M;S.push(h),xc(w,S),"object"==typeof b&&null!==b&&(0,k.r3)(b,".priority")?(M=(0,k.DV)(b,".priority"),(0,k.hu)(nl(M),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):M=(e_(n.serverSyncTree_,t)||mt.EMPTY_NODE).getPriority().val();const P=zf(n),V=rn(b,M),z=s_(V,g,P);h.currentOutputSnapshotRaw=V,h.currentOutputSnapshotResolved=z,h.currentWriteId=Gf(n);const te=Jg(n.serverSyncTree_,t,z,h.currentWriteId,h.applyLocally);Ei(n.eventQueue_,t,te),Oc(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,w,S)=>{let M=null;b?l.reject(b):(M=new rl(S,new Cr(n._repo,n._path),Gt),l.resolve(new w0(w,M)))},g,o),l.promise}(this._delegate,t,{applyLocally:i}).then(l=>new KE(l.committed,new gl(this.database,l.snapshot)));return e&&o.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),o}setPriority(t,e){(0,k.Dv)("Reference.setPriority",1,2,arguments.length),(0,k.Wj)("Reference.setPriority","onComplete",e,!0);const i=function l0(n,t){n=(0,k.m9)(n),br("setPriority",n._path),l_("setPriority",t,!1);const e=new k.BH;return bd(n._repo,Qt(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}push(t,e){(0,k.Dv)("Reference.push",0,2,arguments.length),(0,k.Wj)("Reference.push","onComplete",e,!0);const i=lC(this._delegate,t),o=i.then(h=>new $i(this.database,h));e&&o.then(()=>e(null),h=>e(h));const l=new $i(this.database,i);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return br("Reference.onDisconnect",this._delegate._path),new YE(new a0(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class zd{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:y0,forceLongPolling:v0}}useEmulator(t,e,i={}){bC(this._delegate,t,e,i)}ref(t){if((0,k.Dv)("database.ref",0,1,arguments.length),t instanceof $i){const e=aC(this._delegate,t.toString());return new $i(this,e)}{const e=ta(this._delegate,t);return new $i(this,e)}}refFromURL(t){(0,k.Dv)("database.refFromURL",1,1,arguments.length);const i=aC(this._delegate,t);return new $i(this,i)}goOffline(){return(0,k.Dv)("database.goOffline",0,0,arguments.length),function rp(n){(n=(0,k.m9)(n))._checkNotDeleted("goOffline"),nC(n._repo)}(this._delegate)}goOnline(){return(0,k.Dv)("database.goOnline",0,0,arguments.length),function sl(n){(n=(0,k.m9)(n))._checkNotDeleted("goOnline"),function r0(n){n.persistentConnection_&&n.persistentConnection_.resume(ZD)}(n._repo)}(this._delegate)}}zd.ServerValue={TIMESTAMP:function E0(){return C0}(),increment:n=>function S_(n){return{".sv":{increment:n}}}(n)};var ZT=Object.freeze({__proto__:null,initStandalone:function HI({app:n,url:t,version:e,customAuthImpl:i,namespace:o,nodeAdmin:l=!1}){Kh(e);const h=new Qn.zt("auth-internal",new Qn.H0("database-standalone"));return h.setComponent(new Qn.wA("auth-internal",()=>i,"PRIVATE")),{instance:new zd(w_(n,h,void 0,t,l),n),namespace:o}}});const UI=zd.ServerValue;!function QT(n){n.INTERNAL.registerComponent(new Qn.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new zd(o,i)},"PUBLIC").setServiceProps({Reference:$i,Query:Vn,Database:zd,DataSnapshot:gl,enableLogging:fT,INTERNAL:ZT,ServerValue:UI}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(YT.Z);var At=R(7579);class um extends At.x{constructor(t=1/0,e=1/0,i=ia){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;e||(i.push(t),!o&&i.push(l.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!t.closed;h+=i?1:2)t.next(l[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const h=e.now();let g=0;for(let b=1;b<i.length&&i[b]<=h;b+=2)g=b;g&&i.splice(0,g+1)}}}function qE(n,t,e){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):i=n??1/0,(0,ap.B)({connector:()=>new um(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const jI=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Kc(n,t){return(0,ti.e)((e,i)=>{let o=0;e.subscribe((0,Nn.x)(i,l=>n.call(t,l,o++)&&i.next(l)))})}var ZE=R(515);function _o(n){return n<=0?()=>ZE.E:(0,ti.e)((t,e)=>{let i=0;t.subscribe((0,Nn.x)(e,o=>{++i<=n&&(e.next(o),n<=i&&e.complete())}))})}function XT(n=zI){return(0,ti.e)((t,e)=>{let i=!1;t.subscribe((0,Nn.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function zI(){return new jI}function sv(n,t){return(0,fi.m)(t)?Ds(()=>n,t):Ds(()=>n)}const dm=new Map,XE={activated:!1,tokenObservers:[]},uv={initialized:!1,enabled:!1};function Wt(n){return dm.get(n)||Object.assign({},XE)}function qc(){return uv}const Jr="https://content-firebaseappcheck.googleapis.com/v1",QI="exchangeDebugToken",JI={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class eS{constructor(t,e,i,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Be.Z)(function*(){e.stop();try{e.pending=new k.BH,yield function tw(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new k.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Kn=new k.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Gd(n,t){return pm.apply(this,arguments)}function pm(){return(pm=(0,Be.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const M=yield o.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const l={method:"POST",body:JSON.stringify(t),headers:i};let h,g;try{h=yield fetch(n,l)}catch(M){throw Kn.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==h.status)throw Kn.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(M){throw Kn.create("fetch-parse-error",{originalErrorMessage:M?.message})}const b=g.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Kn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const w=1e3*Number(b[1]),S=Date.now();return{token:g.token,expireTimeMillis:S+w,issuedAtTimeMillis:S}})).apply(this,arguments)}const mm="firebase-app-check-database",gm=1,Qc="firebase-app-check-store";let Wd=null;function fv(n,t){return pv.apply(this,arguments)}function pv(){return(pv=(0,Be.Z)(function*(n,t){const i=(yield function hv(){return Wd||(Wd=new Promise((n,t)=>{try{const e=indexedDB.open(mm,gm);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var o;t(Kn.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Qc,{keyPath:"compositeKey"})}}catch(e){t(Kn.create("storage-open",{originalErrorMessage:e?.message}))}}),Wd)}()).transaction(Qc,"readwrite"),l=i.objectStore(Qc).put({compositeKey:n,value:t});return new Promise((h,g)=>{l.onsuccess=b=>{h()},i.onerror=b=>{var w;g(Kn.create("storage-set",{originalErrorMessage:null===(w=b.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const _m=new Jn.Yd("@firebase/app-check");function lw(n,t){return(0,k.hl)()?function aM(n,t){return fv(function nS(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{_m.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function _v(){return ym.apply(this,arguments)}function ym(){return(ym=(0,Be.Z)(function*(){const n=qc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cw={error:"UNKNOWN_ERROR"};function yv(n){return k.US.encodeString(JSON.stringify(n),!1)}function Xc(n){return vv.apply(this,arguments)}function vv(){return(vv=(0,Be.Z)(function*(n,t=!1){const e=n.app;!function fm(n){if(!Wt(n).activated)throw Kn.create("use-before-activation",{appName:n.name})}(e);const i=Wt(e);let l,o=i.token;if(o&&!yl(o)&&(i.token=void 0,o=void 0),!o){const b=yield i.cachedTokenPromise;b&&(yl(b)?o=b:yield lw(e,void 0))}if(!t&&o&&yl(o))return{token:o.token};let g,h=!1;if(function gv(){return qc().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Gd(function dv(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`${Jr}/projects/${e}/apps/${i}:${QI}?key=${o}`,body:{debug_token:t}}}(e,yield _v()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const b=yield i.exchangeTokenPromise;return yield lw(e,b),i.token=b,{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),o=yield Wt(e).exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?_m.warn(b.message):_m.error(b),l=b}return o?l?g=yl(o)?{token:o.token,internalError:l}:dw(l):(g={token:o.token},i.token=o,yield lw(e,o)):g=dw(l),h&&function sS(n,t){const e=Wt(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,g),g})).apply(this,arguments)}function uw(n,t){const e=Wt(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function rS(n){const{app:t}=n,e=Wt(t);let i=e.tokenRefresher;i||(i=function dM(n){const{app:t}=n;return new eS((0,Be.Z)(function*(){let i;if(i=Wt(t).token?yield Xc(n,!0):yield Xc(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Wt(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},JI.RETRIAL_MIN_WAIT,JI.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function yl(n){return n.expireTimeMillis-Date.now()>0}function dw(n){return{token:yv(cw),error:n}}class oS{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Wt(this.app);for(const e of t)uw(this.app,e.next);return Promise.resolve()}}const gS="app-check-internal";!function mM(){(0,It._registerComponent)(new Qn.wA("app-check",n=>function aS(n,t){return new oS(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(gS).initialize()})),(0,It._registerComponent)(new Qn.wA(gS,n=>function lS(n){return{getToken:t=>Xc(n,t),addTokenListener:t=>function eu(n,t,e,i){const{app:o}=n,l=Wt(o);if(l.tokenObservers=[...l.tokenObservers,{next:e,error:i,type:t}],l.token&&yl(l.token)){const g=l.token;Promise.resolve().then(()=>{e({token:g.token}),rS(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>rS(n))}(n,"INTERNAL",t),removeTokenListener:t=>uw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,It.registerVersion)("@firebase/app-check","0.7.0")}();class s{constructor(){return((n,t)=>{const e=(0,It.getApps)(),i=[];return e.forEach(o=>{o.container.getProvider(n).instances.forEach(h=>{i.includes(h)||i.push(h)})}),i})("app-check")}}typeof window<"u"&&window;var Ge=R(9260);const he=new c.OlP("angularfire2.auth.use-emulator"),at=new c.OlP("angularfire2.auth.settings"),Vt=new c.OlP("angularfire2.auth.tenant-id"),on=new c.OlP("angularfire2.auth.langugage-code"),ca=new c.OlP("angularfire2.auth.use-device-language"),vm=new c.OlP("angularfire.auth.persistence"),bm=(n,t,e,i,o,l,h,g)=>(0,go.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[w,S]of Object.entries(h))b.settings[w]=S;return g&&b.setPersistence(g),b},[e,i,o,l,h,g]);let Cm=(()=>{class n{constructor(e,i,o,l,h,g,b,w,S,M,P,V){const z=new At.x,te=Ui(void 0).pipe((0,fl.Q)(h.outsideAngular),Ds(()=>l.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,3042)))),(0,sn.U)(()=>(0,go.on)(e,l,i)),(0,sn.U)(Pe=>bm(Pe,l,g,w,S,M,b,P)),qE({bufferSize:1,refCount:!1}));if(function _u(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ui(null);else{te.pipe(function QE(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Kc((o,l)=>n(o,l,i)):Vc.y,_o(1),e?function $I(n){return(0,ti.e)((t,e)=>{let i=!1;t.subscribe((0,Nn.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}(t):XT(()=>new jI))}()).subscribe();const Ne=te.pipe(Ds(vt=>vt.getRedirectResult().then(ni=>ni,()=>null)),mo,qE({bufferSize:1,refCount:!1})),Xe=te.pipe(Ds(vt=>new Yn.y(ni=>({unsubscribe:l.runOutsideAngular(()=>vt.onAuthStateChanged(mi=>ni.next(mi),mi=>ni.error(mi),()=>ni.complete()))})))),Ot=te.pipe(Ds(vt=>new Yn.y(ni=>({unsubscribe:l.runOutsideAngular(()=>vt.onIdTokenChanged(mi=>ni.next(mi),mi=>ni.error(mi),()=>ni.complete()))}))));this.authState=Ne.pipe(sv(Xe),(0,$d.R)(h.outsideAngular),(0,fl.Q)(h.insideAngular)),this.user=Ne.pipe(sv(Ot),(0,$d.R)(h.outsideAngular),(0,fl.Q)(h.insideAngular)),this.idToken=this.user.pipe(Ds(vt=>vt?(0,nr.D)(vt.getIdToken()):Ui(null))),this.idTokenResult=this.user.pipe(Ds(vt=>vt?(0,nr.D)(vt.getIdTokenResult()):Ui(null))),this.credential=(0,Kr.T)(Ne,z,this.authState.pipe(Kc(vt=>!vt))).pipe((0,sn.U)(vt=>vt?.user?vt:null),(0,$d.R)(h.outsideAngular),(0,fl.Q)(h.insideAngular))}return(0,go.pX)(this,te,l,{spy:{apply:(Pe,Ne,Xe)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&Xe.then(Ot=>z.next(Ot))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(go.Dh),c.LFG(go.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(rv),c.LFG(he,8),c.LFG(at,8),c.LFG(Vt,8),c.LFG(on,8),c.LFG(ca,8),c.LFG(vm,8),c.LFG(s,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Em(n){return null==n}function wm(n){return"function"==typeof n.set}function Dm(n,t){return wm(t)?t:n.ref(t)}function gM(n,t){if(function wv(n){return"string"==typeof n}(n))return t.stringCase();if(wm(n))return t.firebaseCase();if(function Dv(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Iv(n,t,e="on",i=ws){return new Yn.y(o=>{let l=null;return l=n[e](t,(h,g)=>{i.schedule(()=>{o.next({snapshot:h,prevKey:g})}),"once"===e&&i.schedule(()=>o.complete())},h=>{i.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,sn.U)(o=>{const{snapshot:l,prevKey:h}=o;let g=null;return l.exists()&&(g=l.key),{type:t,payload:l,prevKey:h,key:g}}),(0,ap.B)())}function _M(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function xO(n,t){const{payload:e,prevKey:i,key:o}=t,l=_M(n,o),h=function kO(n,t){if(Em(t))return 0;{const e=_M(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let g=null;t.payload.forEach(b=>{const w={payload:b,type:"value",prevKey:g,key:b.key};return g=b.key,n=[...n,w],!1})}return n;case"child_added":if(l>-1){const g=n[l-1];(g&&g.key||null)!==i&&(n=n.filter(b=>b.payload.key!==e.key)).splice(h,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(g=>g.payload.key!==e.key);case"child_changed":return n.map(g=>g.payload.key===o?t:g);case"child_moved":if(l>-1){const g=n.splice(l,1)[0];return(n=n.slice()).splice(h,0,g),n}return n;default:return n}}function yM(n){return(Em(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function vM(n,t,e){return function MO(n,t,e){return Iv(n,"value","once",e).pipe(Ds(i=>{const o=[Ui(i)];return t.forEach(l=>o.push(Iv(n,l,"on",e))),(0,Kr.T)(...o).pipe(EC(xO,[]))}),T_())}(n,t=yM(t),e)}function bM(n,t,e){const i=(t=yM(t)).map(o=>Iv(n,o,"on",e));return(0,Kr.T)(...i)}function CM(n,t){return function(i,o){return gM(i,{stringCase:()=>n.child(i)[t](o),firebaseCase:()=>i[t](o),snapshotCase:()=>i.ref[t](o)})}}function NO(n){return function(e){return e?gM(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function EM(n,t){return function(){return Iv(n,"value","on",t)}}const VO=new c.OlP("angularfire2.realtimeDatabaseURL"),BO=new c.OlP("angularfire2.database.use-emulator");let wM=(()=>{class n{constructor(e,i,o,l,h,g,b,w,S,M,P,V,z,te,Pe){this.schedulers=g;const Ne=b,Xe=(0,go.on)(e,h,i);w&&bm(Xe,h,S,P,V,z,M,te),this.database=(0,go.cc)(`${Xe.name}.database.${o}`,"AngularFireDatabase",Xe.name,()=>{const Ot=h.runOutsideAngular(()=>Xe.database(o||void 0));return Ne&&Ot.useEmulator(...Ne),Ot},[Ne])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>Dm(this.database,e));let l=o;return i&&(l=i(o)),function FO(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:CM(i,"update"),set:CM(i,"set"),push:o=>i.push(o),remove:NO(i),snapshotChanges:o=>vM(n,o,e).pipe(mo),stateChanges:o=>bM(n,o,e).pipe(mo),auditTrail:o=>function RO(n,t,e){return function PO(n,t,e){return function OO(n,t){return Iv(n,"value","on",t).pipe((0,sn.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function k_(...n){const t=(0,Er.jO)(n);return(0,ti.e)((e,i)=>{const o=n.length,l=new Array(o);let h=n.map(()=>!1),g=!1;for(let b=0;b<o;b++)(0,ra.Xf)(n[b]).subscribe((0,Nn.x)(i,w=>{l[b]=w,!g&&!h[b]&&(h[b]=!0,(g=h.every(Vc.y))&&(h=null))},M_.Z));e.subscribe((0,Nn.x)(i,b=>{if(g){const w=[b,...l];i.next(t?t(...w):w)}}))})}(t),(0,sn.U)(([o,l])=>{const h=o.lastKeyToLoad,g=l.map(b=>b.key);return{actions:l,lastKeyToLoad:h,loadedKeys:g}}),function x_(n){return(0,ti.e)((t,e)=>{let i=!1,o=0;t.subscribe((0,Nn.x)(e,l=>(i||(i=!n(l,o++)))&&e.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,sn.U)(o=>o.actions))}(n,bM(n,t).pipe(EC((o,l)=>[...o,l],[])),e)}(n,o,e).pipe(mo),valueChanges:(o,l)=>vM(n,o,e).pipe((0,sn.U)(g=>g.map(b=>l&&l.idField?Object.assign(Object.assign({},b.payload.val()),{[l.idField]:b.key}):b.payload.val())),mo)}}(l,this)}object(e){return function LO(n,t){return{query:n,snapshotChanges:()=>EM(n,t.schedulers.outsideAngular)().pipe(mo),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>EM(n,t.schedulers.outsideAngular)().pipe(mo,(0,sn.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Dm(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(go.Dh),c.LFG(go.xv,8),c.LFG(VO,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(rv),c.LFG(BO,8),c.LFG(Cm,8),c.LFG(he,8),c.LFG(at,8),c.LFG(Vt,8),c.LFG(on,8),c.LFG(ca,8),c.LFG(vm,8),c.LFG(s,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HO=(()=>{class n{constructor(){Ge.Z.registerVersion("angularfire",jT.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[wM]}),n})();const{isArray:UO}=Array,{getPrototypeOf:jO,prototype:$O,keys:zO}=Object;function DM(n){if(1===n.length){const t=n[0];if(UO(t))return{args:t,keys:null};if(function GO(n){return n&&"object"==typeof n&&jO(n)===$O}(t)){const e=zO(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:WO}=Array;function yS(n){return(0,sn.U)(t=>function YO(n,t){return WO(t)?n(...t):n(t)}(n,t))}function IM(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}function SM(...n){const t=(0,Er.jO)(n),{args:e,keys:i}=DM(n),o=new Yn.y(l=>{const{length:h}=e;if(!h)return void l.complete();const g=new Array(h);let b=h,w=h;for(let S=0;S<h;S++){let M=!1;(0,ra.Xf)(e[S]).subscribe((0,Nn.x)(l,P=>{M||(M=!0,w--),g[S]=P},()=>b--,void 0,()=>{(!b||!M)&&(w||l.next(i?IM(i,g):g),l.complete())}))}});return t?o.pipe(yS(t)):o}let AM=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),qd=(()=>{class n extends AM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const yo=new c.OlP("NgValueAccessor"),qO={provide:yo,useExisting:(0,c.Gpc)(()=>bw),multi:!0},QO=new c.OlP("CompositionEventMode");let bw=(()=>{class n extends AM{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZO(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(QO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[c._Bn([qO]),c.qOj]}),n})();const JO=!1;function nu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function MM(n){return null!=n&&"number"==typeof n.length}const Si=new c.OlP("NgValidators"),iu=new c.OlP("NgAsyncValidators"),XO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zd{static min(t){return function kM(n){return t=>{if(nu(t.value)||nu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function xM(n){return t=>{if(nu(t.value)||nu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function RM(n){return nu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function OM(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function PM(n){return nu(n.value)||XO.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function NM(n){return t=>nu(t.value)||!MM(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function FM(n){return t=>MM(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function LM(n){if(!n)return Cw;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(nu(i.value))return null;const o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return $M(t)}static composeAsync(t){return zM(t)}}function Cw(n){return null}function VM(n){return null!=n}function BM(n){const t=(0,c.QGY)(n)?(0,nr.D)(n):n;if(JO&&!(0,c.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,e)}return t}function HM(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function UM(n,t){return t.map(e=>e(n))}function jM(n){return n.map(t=>function eP(n){return!n.validate}(t)?t:e=>t.validate(e))}function $M(n){if(!n)return null;const t=n.filter(VM);return 0==t.length?null:function(e){return HM(UM(e,t))}}function vS(n){return null!=n?$M(jM(n)):null}function zM(n){if(!n)return null;const t=n.filter(VM);return 0==t.length?null:function(e){return SM(UM(e,t).map(BM)).pipe((0,sn.U)(HM))}}function bS(n){return null!=n?zM(jM(n)):null}function GM(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function WM(n){return n._rawValidators}function YM(n){return n._rawAsyncValidators}function CS(n){return n?Array.isArray(n)?n:[n]:[]}function Ew(n,t){return Array.isArray(n)?n.includes(t):n===t}function KM(n,t){const e=CS(t);return CS(n).forEach(o=>{Ew(e,o)||e.push(o)}),e}function qM(n,t){return CS(t).filter(e=>!Ew(n,e))}class ZM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=bS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ir extends ZM{get formDirective(){return null}get path(){return null}}class vo extends ZM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QM{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let JM=(()=>{class n extends QM{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(vo,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),XM=(()=>{class n extends QM{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ir,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();function ek(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const DS=!1,Sv="VALID",Dw="INVALID",Im="PENDING",Av="DISABLED";function IS(n){return(Iw(n)?n.validators:n)||null}function tk(n){return Array.isArray(n)?vS(n):n||null}function SS(n,t){return(Iw(t)?t.asyncValidators:n)||null}function nk(n){return Array.isArray(n)?bS(n):n||null}function Iw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ik(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,DS?function rP(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new c.vHH(1001,DS?function sP(n,t){return`Cannot find form control ${ek(n,t)}`}(t,e):"")}function rk(n,t,e){n._forEachChild((i,o)=>{if(void 0===e[o])throw new c.vHH(1002,DS?function oP(n,t){return`Must supply a value for form control ${ek(n,t)}`}(t,o):"")})}class Sw{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=tk(this._rawValidators),this._composedAsyncValidatorFn=nk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Sv}get invalid(){return this.status===Dw}get pending(){return this.status==Im}get disabled(){return this.status===Av}get enabled(){return this.status!==Av}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=tk(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=nk(t)}addValidators(t){this.setValidators(KM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(KM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qM(t,this._rawAsyncValidators))}hasValidator(t){return Ew(this._rawValidators,t)}hasAsyncValidator(t){return Ew(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Im,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Av,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sv,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sv||this.status===Im)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Av:Sv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Im,this._hasOwnPendingAsyncValidator=!0;const e=BM(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Av:this.errors?Dw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Im)?Im:this._anyControlsHaveStatus(Dw)?Dw:Sv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Iw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Tv extends Sw{constructor(t,e,i){super(IS(e),SS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){rk(this,!0,t),Object.keys(t).forEach(i=>{ik(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,l)=>{i=e(i,o,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class sk extends Tv{}function Aw(n,t){return[...t.path,n]}function Mv(n,t){AS(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function lP(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ok(n,t)})}(n,t),function uP(n,t){const e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function cP(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ok(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function aP(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Tw(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),kw(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Mw(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function AS(n,t){const e=WM(n);null!==t.validator?n.setValidators(GM(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=YM(n);null!==t.asyncValidator?n.setAsyncValidators(GM(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();Mw(t._rawValidators,o),Mw(t._rawAsyncValidators,o)}function kw(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=WM(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=YM(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return Mw(t._rawValidators,i),Mw(t._rawAsyncValidators,i),e}function ok(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ak(n,t){AS(n,t)}function TS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function ck(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function MS(n,t){if(!t)return null;let e,i,o;return Array.isArray(t),t.forEach(l=>{l.constructor===bw?e=l:function fP(n){return Object.getPrototypeOf(n.constructor)===qd}(l)?i=l:o=l}),o||i||e||null}const mP={provide:ir,useExisting:(0,c.Gpc)(()=>Sm)},kv=(()=>Promise.resolve())();let Sm=(()=>{class n extends ir{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Tv({},vS(e),bS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){kv.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Mv(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){kv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){kv.then(()=>{const i=this._findContainer(e.path),o=new Tv({});ak(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){kv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){kv.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,ck(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Si,10),c.Y36(iu,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([mP]),c.qOj]}),n})();function uk(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function dk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const xv=class extends Sw{constructor(t=null,e,i){super(IS(e),SS(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Iw(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=dk(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){dk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},yP={provide:vo,useExisting:(0,c.Gpc)(()=>kS)},pk=(()=>Promise.resolve())();let kS=(()=>{class n extends vo{constructor(e,i,o,l,h){super(),this._changeDetectorRef=h,this.control=new xv,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=MS(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),TS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){pk.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,c.D6c)(i);pk.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Aw(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ir,9),c.Y36(Si,10),c.Y36(iu,10),c.Y36(yo,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([yP]),c.qOj,c.TTD]}),n})(),mk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),_k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const xS=new c.OlP("NgModelWithFormControlWarning"),DP={provide:ir,useExisting:(0,c.Gpc)(()=>Qd)};let Qd=(()=>{class n extends ir{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Mv(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Tw(e.control||null,e,!1),function pP(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,ck(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(Tw(i||null,e),(n=>n instanceof xv)(o)&&(Mv(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);ak(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function dP(n,t){return kw(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AS(this.form,this),this._oldForm&&kw(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Si,10),c.Y36(iu,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([DP]),c.qOj,c.TTD]}),n})();const AP={provide:vo,useExisting:(0,c.Gpc)(()=>PS)};let PS=(()=>{class n extends vo{constructor(e,i,o,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=MS(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),TS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Aw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(ir,13),c.Y36(Si,10),c.Y36(iu,10),c.Y36(yo,10),c.Y36(xS,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([AP]),c.qOj,c.TTD]}),n})(),Ok=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_k]}),n})(),jP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ok]}),n})(),VS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:xS,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ok]}),n})();class Pk extends Sw{constructor(t,e,i){super(IS(e),SS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){rk(this,!1,t),t.forEach((i,o)=>{ik(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Nk(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let $P=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const o=this._reduceControls(e);let l={};return Nk(i)?l=i:null!==i&&(l.validators=i.validator,l.asyncValidators=i.asyncValidator),new Tv(o,l)}record(e,i=null){const o=this._reduceControls(e);return new sk(o,i)}control(e,i,o){let l={};return this.useNonNullable?(Nk(i)?l=i:(l.validators=i,l.asyncValidators=o),new xv(e,{...l,nonNullable:!0})):new xv(e,i,o)}array(e,i,o){const l=e.map(h=>this._createControl(h));return new Pk(l,i,o)}_reduceControls(e){const i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){return e instanceof xv||e instanceof Sw?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:VS}),n})();function xw(n,t=ws){return(0,ti.e)((e,i)=>{let o=null,l=null,h=null;const g=()=>{if(o){o.unsubscribe(),o=null;const w=l;l=null,i.next(w)}};function b(){const w=h+n,S=t.now();if(S<w)return o=this.schedule(void 0,w-S),void i.add(o);g()}e.subscribe((0,Nn.x)(i,w=>{l=w,h=t.now(),o||(o=t.schedule(b,n),i.add(o))},()=>{g(),i.complete()},void 0,()=>{l=o=null}))})}let BS,Fk=(()=>{class n{constructor(){this.firebaseConfig={apiKey:"AIzaSyBfBSpOOBEw1Qa41AF1XIr4kzLl6HkVwRw",authDomain:"attendance-app-1fa5d.firebaseapp.com",databaseURL:"https://attendance-app-1fa5d-default-rtdb.firebaseio.com",projectId:"attendance-app-1fa5d",storageBucket:"attendance-app-1fa5d.appspot.com",messagingSenderId:"665760948794",appId:"1:665760948794:web:b0f07be638c8b7f5120b03"};const e=(0,It.initializeApp)(this.firebaseConfig);this.database=function b0(n=(0,It.getApp)(),t){const e=(0,It._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=(0,k.P0)("database");i&&bC(e,...i)}return e}(e)}getAttendance(){const e=ta(this.database,"attendance");return new Yn.y(i=>{Jf(e,o=>{const l=o.val();i.next(l)})})}addAttendance(e){return lC(ta(this.database,"attendance"),e)}updateAttendance(e,i){return Cd(ta(this.database,"attendance/"+e),i)}saveAttendanceCal(e,i){const o=ta(this.database,`attendance/${e}`),l=i[e]?.attendanceCal;return(0,nr.D)(Qf(o,{attendanceCal:l}))}deleteAttendance(e){return __(ta(this.database,"attendance/"+e))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{BS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{BS=!1}let Am,zi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function jm(n){return n===xl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!BS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Vk(){if(Am)return Am;if("object"!=typeof document||!document)return Am=new Set(Lk),Am;let n=document.createElement("input");return Am=new Set(Lk.filter(t=>(n.setAttribute("type",t),n.type===t))),Am}let Rv,Xd,HS;function Rw(n){return function zP(){if(null==Rv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rv=!0}))}finally{Rv=Rv||!1}return Rv}()?n:!!n.capture}function GP(){if(null==Xd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xd=!1,Xd;if("scrollBehavior"in document.documentElement.style)Xd=!0;else{const n=Element.prototype.scrollTo;Xd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xd}function Bk(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function eh(n){return n.composedPath?n.composedPath()[0]:n.target}function US(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class KP extends At.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function km(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function jk(n){return Kc((t,e)=>n<=e)}function bo(n){return(0,ti.e)((t,e)=>{(0,ra.Xf)(n).subscribe((0,Nn.x)(e,()=>e.complete(),M_.Z)),!e.closed&&t.subscribe(e)})}function tn(n){return null!=n&&"false"!=`${n}`}function $k(n,t=0){return function sN(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Nv(n){return Array.isArray(n)?n:[n]}function qn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function vl(n){return n instanceof c.SBq?n.nativeElement:n}let zk=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aN=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=vl(e);return new Yn.y(o=>{const h=this._observeElement(i).subscribe(o);return()=>{h.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new At.x,o=this._mutationObserverFactory.create(l=>i.next(l));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:o}=this._observedElements.get(e);i&&i.disconnect(),o.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zk))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lN=(()=>{class n{constructor(e,i,o){this._contentObserver=e,this._elementRef=i,this._ngZone=o,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=tn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=$k(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(xw(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(aN),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Gk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[zk]}),n})();var cN=R(9672);function Wk(n,t,e){n?(0,cN.f)(e,n,t):t()}var hN=R(8189);function $S(...n){return function fN(){return(0,hN.J)(1)}()((0,nr.D)(n,(0,Er.yG)(n)))}function ru(...n){const t=(0,Er.yG)(n);return(0,ti.e)((e,i)=>{(t?$S(n,e,t):$S(n,e)).subscribe(i)})}const Yk=new Set;let xm,pN=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gN}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function mN(n){if(!Yk.has(n))try{xm||(xm=document.createElement("style"),xm.setAttribute("type","text/css"),document.head.appendChild(xm)),xm.sheet&&(xm.sheet.insertRule(`@media ${n} {body{ }}`,0),Yk.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gN(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _N=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new At.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Kk(Nv(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let l=function uN(...n){const t=(0,Er.yG)(n),e=(0,Er.jO)(n),{args:i,keys:o}=DM(n);if(0===i.length)return(0,nr.D)([],t);const l=new Yn.y(function dN(n,t,e=Vc.y){return i=>{Wk(t,()=>{const{length:o}=n,l=new Array(o);let h=o,g=o;for(let b=0;b<o;b++)Wk(t,()=>{const w=(0,nr.D)(n[b],t);let S=!1;w.subscribe((0,Nn.x)(i,M=>{l[b]=M,S||(S=!0,g--),g||i.next(e(l.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,t,o?h=>IM(o,h):Vc.y));return e?l.pipe(yS(e)):l}(Kk(Nv(e)).map(h=>this._registerQuery(h).observable));return l=$S(l.pipe(_o(1)),l.pipe(jk(1),xw(0))),l.pipe((0,sn.U)(h=>{const g={matches:!1,breakpoints:{}};return h.forEach(({matches:b,query:w})=>{g.matches=g.matches||b,g.breakpoints[w]=b}),g}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new Yn.y(h=>{const g=b=>this._zone.run(()=>h.next(b));return i.addListener(g),()=>{i.removeListener(g)}}).pipe(ru(i),(0,sn.U)(({matches:h})=>({query:e,matches:h})),bo(this._destroySubject)),mql:i};return this._queries.set(e,l),l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pN),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kk(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class bN{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new At.x,this._typeaheadSubscription=Pn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new At.x,this.change=new At.x,t instanceof c.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Yc(e=>this._pressedLetters.push(e)),xw(t),Kc(()=>this._pressedLetters.length>0),(0,sn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let o=1;o<i.length+1;o++){const l=(this._activeItemIndex+o)%i.length,h=i[l];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!t[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||km(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const o=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class CN extends bN{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let EN=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function DN(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function wN(n){try{return n.frameElement}catch{return null}}(function RN(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Jk(i)||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),l=Jk(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function kN(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==l:"video"===o?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function xN(n){return!function SN(n){return function TN(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function IN(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function AN(n){return function MN(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Qk(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Jk(n){if(!Qk(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class ON{constructor(t,e,i,o,l=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(_o(1)).subscribe(t)}}let PN=(()=>{class n{constructor(e,i,o){this._checker=e,this._ngZone=i,this._document=o}create(e,i=!1){return new ON(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(EN),c.LFG(c.R0b),c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NN=(()=>{class n{constructor(e,i,o){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=tn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=tn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Bk(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(PN),c.Y36(oe))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[c.TTD]}),n})();function Xk(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function ex(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const FN=new c.OlP("cdk-input-modality-detector-options"),LN={ignoreKeys:[18,17,224,91,16]},Rm=Rw({passive:!0,capture:!0});let VN=(()=>{class n{constructor(e,i,o,l){this._platform=e,this._mostRecentTarget=null,this._modality=new KP(null),this._lastTouchMs=0,this._onKeydown=h=>{this._options?.ignoreKeys?.some(g=>g===h.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=eh(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Xk(h)?"keyboard":"mouse"),this._mostRecentTarget=eh(h))},this._onTouchstart=h=>{ex(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=eh(h))},this._options={...LN,...l},this.modalityDetected=this._modality.pipe(jk(1)),this.modalityChanged=this.modalityDetected.pipe(T_()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Rm),o.addEventListener("mousedown",this._onMousedown,Rm),o.addEventListener("touchstart",this._onTouchstart,Rm)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rm),document.removeEventListener("mousedown",this._onMousedown,Rm),document.removeEventListener("touchstart",this._onTouchstart,Rm))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zi),c.LFG(c.R0b),c.LFG(oe),c.LFG(FN,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HN=new c.OlP("cdk-focus-monitor-default-options"),Vw=Rw({passive:!0,capture:!0});let zS=(()=>{class n{constructor(e,i,o,l,h){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new At.x,this._rootNodeFocusAndBlurListener=g=>{for(let w=eh(g);w;w=w.parentElement)"focus"===g.type?this._onFocus(g,w):this._onBlur(g,w)},this._document=l,this._detectionMode=h?.detectionMode||0}monitor(e,i=!1){const o=vl(e);if(!this._platform.isBrowser||1!==o.nodeType)return Ui(null);const l=function YP(n){if(function WP(){if(null==HS){const n=typeof document<"u"?document.head:null;HS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return HS}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return i&&(h.checkChildren=!0),h.subject;const g={checkChildren:i,subject:new At.x,rootNode:l};return this._elementInfo.set(o,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(e){const i=vl(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const l=vl(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([g,b])=>this._originChanged(g,i,b)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),l=eh(e);!o||!o.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vw),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vw)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bo(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vw),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vw),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,l)=>{(l===e||o.checkChildren&&l.contains(e))&&i.push([l,o])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const l=e.labels;if(l)for(let h=0;h<l.length;h++)if(l[h].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(zi),c.LFG(VN),c.LFG(oe,8),c.LFG(HN,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UN=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new c.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(zS))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const nx="cdk-high-contrast-black-on-white",ix="cdk-high-contrast-white-on-black",GS="cdk-high-contrast-active";let rx=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,c.f3M)(_N).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(GS,nx,ix),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(GS,nx):2===i&&e.add(GS,ix)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zi),c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jN=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(rx))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Gk]}),n})();var WS=R(5577),$N=R(1144);const zN=["addListener","removeListener"],GN=["addEventListener","removeEventListener"],WN=["on","off"];function Bw(n,t,e,i){if((0,fi.m)(e)&&(i=e,e=void 0),i)return Bw(n,t,e).pipe(yS(i));const[o,l]=function qN(n){return(0,fi.m)(n.addEventListener)&&(0,fi.m)(n.removeEventListener)}(n)?GN.map(h=>g=>n[h](t,g,e)):function YN(n){return(0,fi.m)(n.addListener)&&(0,fi.m)(n.removeListener)}(n)?zN.map(sx(n,t)):function KN(n){return(0,fi.m)(n.on)&&(0,fi.m)(n.off)}(n)?WN.map(sx(n,t)):[];if(!o&&(0,$N.z)(n))return(0,WS.z)(h=>Bw(h,t,e))((0,ra.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new Yn.y(h=>{const g=(...b)=>h.next(1<b.length?b:b[0]);return o(g),()=>l(g)})}function sx(n,t){return e=>i=>n[e](t,i)}const Fv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Fv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=t(l=>{e=void 0,n(l)});return new Pn.w0(()=>e?.(o))},requestAnimationFrame(...n){const{delegate:t}=Fv;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Fv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class QN extends ho{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class ZN extends uo{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Fv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(o=l[l.length-1])||void 0===o?void 0:o.id)!==e&&(Fv.cancelAnimationFrame(e),t._scheduled=void 0)}});let YS,XN=1;const Hw={};function ox(n){return n in Hw&&(delete Hw[n],!0)}const eF={setImmediate(n){const t=XN++;return Hw[t]=!0,YS||(YS=Promise.resolve()),YS.then(()=>ox(t)&&n()),t},clearImmediate(n){ox(n)}},{setImmediate:tF,clearImmediate:nF}=eF,Uw={setImmediate(...n){const{delegate:t}=Uw;return(t?.setImmediate||tF)(...n)},clearImmediate(n){const{delegate:t}=Uw;return(t?.clearImmediate||nF)(n)},delegate:void 0};new class rF extends ho{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class iF extends uo{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Uw.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(o=l[l.length-1])||void 0===o?void 0:o.id)!==e&&(Uw.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var aF=R(3532);function ax(n,t=ws){return function oF(n){return(0,ti.e)((t,e)=>{let i=!1,o=null,l=null,h=!1;const g=()=>{if(l?.unsubscribe(),l=null,i){i=!1;const w=o;o=null,e.next(w)}h&&e.complete()},b=()=>{l=null,h&&e.complete()};t.subscribe((0,Nn.x)(e,w=>{i=!0,o=w,l||(0,ra.Xf)(n(w)).subscribe(l=(0,Nn.x)(e,g,b))},()=>{h=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>function cF(n=0,t,e=Lc){let i=-1;return null!=t&&((0,aF.K)(t)?e=t:i=t),new Yn.y(o=>{let l=function lF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=i?this.schedule(void 0,i):o.complete())},l)})}(n,t))}const uF=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function dF(){return(0,c.f3M)(oe)}}),hF=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ih=(()=>{class n{constructor(e){this.value="ltr",this.change=new c.vpe,e&&(this.value=function fF(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?hF.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(uF,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),mF=(()=>{class n{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new At.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Yn.y(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(ax(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ui()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Kc(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=vl(i),l=e.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(zi),c.LFG(oe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lx=(()=>{class n{constructor(e,i,o){this._platform=e,this._change=new At.x,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ax(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zi),c.LFG(c.R0b),c.LFG(oe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Lv,KS,Lv,KS]}),n})();class qS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ZS extends qS{constructor(t,e,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o}}class _F extends qS{constructor(t,e,i,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class yF extends qS{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class ux{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ZS?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof _F?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof yF?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vF extends ux{constructor(t,e,i,o,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=h=>{const g=h.element,b=this._document.createComment("dom-portal");g.parentNode.insertBefore(b,g),this.outletElement.appendChild(g),this._attachedPortal=h,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(g,b)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=i.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let dx=(()=>{class n extends ux{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=l=>{const h=l.element,g=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(g,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),h=i.createComponent(l,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=e,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(oe))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),hx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const fx=GP();class bF{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qn(-this._previousScrollPosition.left),t.style.top=qn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,o=this._document.body.style,l=i.scrollBehavior||"",h=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),fx&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fx&&(i.scrollBehavior=l,o.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class CF{constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class px{enable(){}disable(){}attach(){}}function QS(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function mx(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class EF{constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();QS(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let wF=(()=>{class n{constructor(e,i,o,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new px,this.close=h=>new CF(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new bF(this._viewportRuler,this._document),this.reposition=h=>new EF(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(mF),c.LFG(lx),c.LFG(c.R0b),c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gx{constructor(t){if(this.scrollStrategy=new px,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class DF{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let _x=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IF=(()=>{class n extends _x{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{const l=this._attachedOverlays;for(let h=l.length-1;h>-1;h--)if(l[h]._keydownEvents.observers.length>0){const g=l[h]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(o)):g.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SF=(()=>{class n extends _x{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=eh(l)},this._clickListener=l=>{const h=eh(l),g="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const b=this._attachedOverlays.slice();for(let w=b.length-1;w>-1;w--){const S=b[w];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(h)||S.overlayElement.contains(g))break;const M=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(l)):M.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe),c.LFG(zi),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yx=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||US()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const i=this._document.createElement("div");i.classList.add(e),US()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe),c.LFG(zi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AF{constructor(t,e,i,o,l,h,g,b,w,S=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=l,this._keyboardDispatcher=h,this._document=g,this._location=b,this._outsideClickDispatcher=w,this._animationsDisabled=S,this._backdropElement=null,this._backdropClick=new At.x,this._attachments=new At.x,this._detachments=new At.x,this._locationChanges=Pn.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new At.x,this._outsidePointerEvents=new At.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_o(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=qn(this._config.width),t.height=qn(this._config.height),t.minWidth=qn(this._config.minWidth),t.minHeight=qn(this._config.minHeight),t.maxWidth=qn(this._config.maxWidth),t.maxHeight=qn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const o=Nv(e||[]).filter(l=>!!l);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bo((0,Kr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const vx="cdk-overlay-connected-position-bounding-box",TF=/([A-Za-z%]+)$/;class bx{constructor(t,e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new At.x,this._resizeSubscription=Pn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(vx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,l=[];let h;for(let g of this._preferredPositions){let b=this._getOriginPoint(t,o,g),w=this._getOverlayPoint(b,e,g),S=this._getOverlayFit(w,e,i,g);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,b);this._canFitWithFlexibleDimensions(S,w,i)?l.push({position:g,origin:b,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(b,g)}):(!h||h.overlayFit.visibleArea<S.visibleArea)&&(h={overlayFit:S,overlayPoint:w,originPoint:b,position:g,overlayRect:e})}if(l.length){let g=null,b=-1;for(const w of l){const S=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);S>b&&(b=S,g=w)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(h.position,h.originPoint);this._applyPosition(h.position,h.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o,l;if("center"==i.originX)o=t.left+t.width/2;else{const h=this._isRtl()?t.right:t.left,g=this._isRtl()?t.left:t.right;o="start"==i.originX?h:g}return e.left<0&&(o-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:o,y:l}}_getOverlayPoint(t,e,i){let o,l;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+o,y:t.y+l}}_getOverlayFit(t,e,i,o){const l=Ex(e);let{x:h,y:g}=t,b=this._getOffset(o,"x"),w=this._getOffset(o,"y");b&&(h+=b),w&&(g+=w);let P=0-g,V=g+l.height-i.height,z=this._subtractOverflows(l.width,0-h,h+l.width-i.width),te=this._subtractOverflows(l.height,P,V),Pe=z*te;return{visibleArea:Pe,isCompletelyWithinViewport:l.width*l.height===Pe,fitsInViewportVertically:te===l.height,fitsInViewportHorizontally:z==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,l=i.right-e.x,h=Cx(this._overlayRef.getConfig().minHeight),g=Cx(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=h&&h<=o)&&(t.fitsInViewportHorizontally||null!=g&&g<=l)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=Ex(e),l=this._viewportRect,h=Math.max(t.x+o.width-l.width,0),g=Math.max(t.y+o.height-l.height,0),b=Math.max(l.top-i.top-t.y,0),w=Math.max(l.left-i.left-t.x,0);let S=0,M=0;return S=o.width<=l.width?w||-h:t.x<this._viewportMargin?l.left-i.left-t.x:0,M=o.height<=l.height?b||-g:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:S,y:M},{x:t.x+S,y:t.y+M}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new DF(t,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,o=this._isRtl();let l,h,g,S,M,P;if("top"===e.overlayY)h=t.y,l=i.height-h+this._viewportMargin;else if("bottom"===e.overlayY)g=i.height-t.y+2*this._viewportMargin,l=i.height-g+this._viewportMargin;else{const V=Math.min(i.bottom-t.y+i.top,t.y),z=this._lastBoundingBoxSize.height;l=2*V,h=t.y-V,l>z&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.y-z/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)P=i.width-t.x+this._viewportMargin,S=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)M=t.x,S=i.right-t.x;else{const V=Math.min(i.right-t.x+i.left,t.x),z=this._lastBoundingBoxSize.width;S=2*V,M=t.x-V,S>z&&!this._isInitialRender&&!this._growAfterOpen&&(M=t.x-z/2)}return{top:h,left:M,bottom:g,right:P,width:S,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;o.height=qn(i.height),o.top=qn(i.top),o.bottom=qn(i.bottom),o.width=qn(i.width),o.left=qn(i.left),o.right=qn(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=qn(l)),h&&(o.maxWidth=qn(h))}this._lastBoundingBoxSize=i,rh(this._boundingBox.style,o)}_resetBoundingBoxStyles(){rh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(o){const S=this._viewportRuler.getViewportScrollPosition();rh(i,this._getExactOverlayY(e,t,S)),rh(i,this._getExactOverlayX(e,t,S))}else i.position="static";let g="",b=this._getOffset(e,"x"),w=this._getOffset(e,"y");b&&(g+=`translateX(${b}px) `),w&&(g+=`translateY(${w}px)`),i.transform=g.trim(),h.maxHeight&&(o?i.maxHeight=qn(h.maxHeight):l&&(i.maxHeight="")),h.maxWidth&&(o?i.maxWidth=qn(h.maxWidth):l&&(i.maxWidth="")),rh(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=qn(l.y),o}_getExactOverlayX(t,e,i){let h,o={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),h=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===h?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=qn(l.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mx(t,i),isOriginOutsideView:QS(t,i),isOverlayClipped:mx(e,i),isOverlayOutsideView:QS(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Nv(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function rh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Cx(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(TF);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Ex(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const wx="cdk-global-overlay-wrapper";class MF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(wx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:h,maxHeight:g}=i,b=!("100%"!==o&&"100vw"!==o||h&&"100%"!==h&&"100vw"!==h),w=!("100%"!==l&&"100vh"!==l||g&&"100%"!==g&&"100vh"!==g),S=this._xPosition,M=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let V="",z="",te="";b?te="flex-start":"center"===S?(te="center",P?z=M:V=M):P?"left"===S||"end"===S?(te="flex-end",V=M):("right"===S||"start"===S)&&(te="flex-start",z=M):"left"===S||"start"===S?(te="flex-start",V=M):("right"===S||"end"===S)&&(te="flex-end",z=M),t.position=this._cssPosition,t.marginLeft=b?"0":V,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=b?"0":z,e.justifyContent=te,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(wx),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kF=(()=>{class n{constructor(e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l}global(){return new MF}flexibleConnectedTo(e){return new bx(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(lx),c.LFG(oe),c.LFG(zi),c.LFG(yx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xF=0,jw=(()=>{class n{constructor(e,i,o,l,h,g,b,w,S,M,P,V){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=g,this._ngZone=b,this._document=w,this._directionality=S,this._location=M,this._outsideClickDispatcher=P,this._animationsModuleType=V}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),l=this._createPortalOutlet(o),h=new gx(e);return h.direction=h.direction||this._directionality.value,new AF(l,i,o,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+xF++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new vF(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(wF),c.LFG(yx),c.LFG(c._Vd),c.LFG(kF),c.LFG(IF),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(oe),c.LFG(ih),c.LFG(ve),c.LFG(SF),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const PF={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[jw],useFactory:function OF(n){return()=>n.scrollStrategies.reposition()}};let NF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[jw,PF],imports:[Lv,hx,cx,cx]}),n})();const LF=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function FF(){return!0}});let Xr=(()=>{class n{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!US()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(rx),c.LFG(LF,8),c.LFG(oe))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Lv,Lv]}),n})();function Sx(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=tn(t)}}}function Vv(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Ax(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=tn(t)}}}function Tx(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?$k(e):this.defaultTabIndex}}}function JS(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}const VF=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function BF(){return(0,c.f3M)(c.soG)}});class pi{constructor(){this._localeChanges=new At.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),o=this.isValid(e);return i&&o?!this.compareDate(t,e):i==o}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const sh=new c.OlP("mat-date-formats"),HF=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function XS(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let UF=(()=>{class n extends pi{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return XS(12,o=>this._format(i,new Date(2017,o,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return XS(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return XS(7,o=>this._format(i,new Date(2017,0,o+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,o){let l=this._createDateWithOverflow(e,i,o);return l.getMonth(),l}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const o=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(o,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+i)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(HF.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,o){const l=new Date;return l.setFullYear(e,i,o),l.setHours(0,0,0,0),l}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const o=new Date;return o.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),o.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(VF,8),c.LFG(zi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jF={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let $F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:pi,useClass:UF}]}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:sh,useValue:jF}],imports:[$F]}),n})(),Bv=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GF{constructor(t,e,i,o=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Mx={enterDuration:225,exitDuration:150},eA=Rw({passive:!0}),kx=["mousedown","touchstart"],xx=["mouseup","mouseleave","touchend","touchcancel"];class Rx{constructor(t,e,i,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=vl(i))}fadeInRipple(t,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...Mx,...i.animation};i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const h=i.radius||function YF(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}(t,e,o),g=t-o.left,b=e-o.top,w=l.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=g-h+"px",S.style.top=b-h+"px",S.style.height=2*h+"px",S.style.width=2*h+"px",null!=i.color&&(S.style.backgroundColor=i.color),S.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(S);const M=window.getComputedStyle(S),V=M.transitionDuration,z="none"===M.transitionProperty||"0s"===V||"0s, 0s"===V,te=new GF(this,S,i,z);S.style.transform="scale3d(1, 1, 1)",te.state=0,i.persistent||(this._mostRecentTransientRipple=te);let Pe=null;return!z&&(w||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ne=()=>this._finishRippleTransition(te),Xe=()=>this._destroyRipple(te);S.addEventListener("transitionend",Ne),S.addEventListener("transitioncancel",Xe),Pe={onTransitionEnd:Ne,onTransitionCancel:Xe}}),this._activeRipples.set(te,Pe),(z||!w)&&this._finishRippleTransition(te),te}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Mx,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=vl(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(kx))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(xx),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Xk(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ex(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,eA)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(kx.forEach(t=>{this._triggerElement.removeEventListener(t,this,eA)}),this._pointerUpEventsRegistered&&xx.forEach(t=>{this._triggerElement.removeEventListener(t,this,eA)}))}}const Ox=new c.OlP("mat-ripple-global-options");let Px=(()=>{class n{constructor(e,i,o,l,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new Rx(this,i,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(zi),c.Y36(Ox,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Xr,Xr]}),n})();const qF=["mat-button",""],ZF=["*"],JF=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],XF=Vv(Sx(Ax(class{constructor(n){this._elementRef=n}})));let tA=(()=>{class n extends XF{constructor(e,i,o){super(e),this._focusMonitor=i,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of JF)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(zS),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&c.Gf(Px,5),2&e){let o;c.iGM(o=c.CRH())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:qF,ngContentSelectors:ZF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Px],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Nx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[KF,Xr,Xr]}),n})();class Fx{}class e1{}const bl="*";function nA(n,t){return{type:7,name:n,definitions:t,options:{}}}function Uv(n,t=null){return{type:4,styles:t,timings:n}}function Lx(n,t=null){return{type:2,steps:n,options:t}}function Co(n){return{type:6,styles:n,offset:null}}function iA(n,t,e){return{type:0,name:n,styles:t,options:e}}function Vx(n){return{type:5,steps:n}}function jv(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Bx(n){Promise.resolve().then(n)}class $v{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Bx(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Hx{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,o=0;const l=this.players.length;0==l?Bx(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==l&&this._onFinish()}),h.onDestroy(()=>{++i==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,g)=>Math.max(h,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const rA="!",t1=["connectionContainer"],n1=["inputContainer"],r1=["label"];function s1(n,t){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function o1(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){c.CHM(e);const o=c.oxw();return c.KtG(o.updateOutlineGap())}),c.Hsn(1,1),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function a1(n,t){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const e=c.oxw(2);c.xp6(3),c.Oqu(e._control.placeholder)}}function l1(n,t){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function c1(n,t){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function u1(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){c.CHM(e);const o=c.oxw();return c.KtG(o.updateOutlineGap())}),c.YNc(2,a1,4,1,"ng-container",12),c.YNc(3,l1,1,0,"ng-content",12),c.YNc(4,c1,2,0,"span",22),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),c.uIk("for",e._control.id)("aria-owns",e._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function d1(n,t){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function h1(n,t){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function f1(n,t){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function p1(n,t){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function m1(n,t){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,p1,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const g1=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],_1=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],y1=new c.OlP("MatError"),v1={transitionMessages:nA("transitionMessages",[iA("enter",Co({opacity:1,transform:"translateY(0%)"})),jv("void => enter",[Co({opacity:0,transform:"translateY(-5px)"}),Uv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})();const b1=new c.OlP("MatHint");let sA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),C1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const E1=new c.OlP("MatPrefix"),w1=new c.OlP("MatSuffix");let Ux=0;const I1=Vv(class{constructor(n){this._elementRef=n}},"primary"),S1=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),oA=new c.OlP("MatFormField");let A1=(()=>{class n extends I1{constructor(e,i,o,l,h,g,b){super(e),this._changeDetectorRef=i,this._dir=o,this._defaults=l,this._platform=h,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new At.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Ux++,this._labelId="mat-form-field-label-"+Ux++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=l?.appearance||"legacy",l&&(this._hideRequiredMarker=Boolean(l.hideRequiredMarker),l.color&&(this.color=this.defaultColor=l.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=tn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ru(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(bo(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bo(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Kr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ru(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ru(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(bo(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Bw(this._label.nativeElement,"transitionend").pipe(_o(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,o=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const S=i.querySelectorAll(`${o}, ${l}`);for(let M=0;M<S.length;M++)S[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let h=0,g=0;const b=i.querySelectorAll(o),w=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const S=i.getBoundingClientRect();if(0===S.width&&0===S.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(S),P=e.children,V=this._getStartEnd(P[0].getBoundingClientRect());let z=0;for(let te=0;te<P.length;te++)z+=P[te].offsetWidth;h=Math.abs(V-M)-5,g=z>0?.75*z+10:0}for(let S=0;S<b.length;S++)b[S].style.width=`${h}px`;for(let S=0;S<w.length;S++)w[S].style.width=`${g}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ih,8),c.Y36(S1,8),c.Y36(zi),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,o){if(1&e&&(c.Suo(o,zv,5),c.Suo(o,zv,7),c.Suo(o,sA,5),c.Suo(o,sA,7),c.Suo(o,C1,5),c.Suo(o,y1,5),c.Suo(o,b1,5),c.Suo(o,E1,5),c.Suo(o,w1,5)),2&e){let l;c.iGM(l=c.CRH())&&(i._controlNonStatic=l.first),c.iGM(l=c.CRH())&&(i._controlStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(i._placeholderChild=l.first),c.iGM(l=c.CRH())&&(i._errorChildren=l),c.iGM(l=c.CRH())&&(i._hintChildren=l),c.iGM(l=c.CRH())&&(i._prefixChildren=l),c.iGM(l=c.CRH())&&(i._suffixChildren=l)}},viewQuery:function(e,i){if(1&e&&(c.Gf(t1,7),c.Gf(n1,5),c.Gf(r1,5)),2&e){let o;c.iGM(o=c.CRH())&&(i._connectionContainerRef=o.first),c.iGM(o=c.CRH())&&(i._inputContainerRef=o.first),c.iGM(o=c.CRH())&&(i._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:oA,useExisting:n}]),c.qOj],ngContentSelectors:_1,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(c.F$t(g1),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),c.YNc(3,s1,9,0,"ng-container",3),c.YNc(4,o1,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,u1,5,16,"label",8),c.qZA()(),c.YNc(10,d1,2,0,"div",9),c.qZA(),c.YNc(11,h1,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,f1,2,1,"div",12),c.YNc(14,m1,5,2,"div",13),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[Dn,os,So,lN],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[v1.transitionMessages]},changeDetection:0}),n})(),aA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ao,Xr,Gk,Xr]}),n})();const $x=Rw({passive:!0});let T1=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ZE.E;const i=vl(e),o=this._monitoredElements.get(i);if(o)return o.subject;const l=new At.x,h="cdk-text-field-autofilled",g=b=>{"cdk-text-field-autofill-start"!==b.animationName||i.classList.contains(h)?"cdk-text-field-autofill-end"===b.animationName&&i.classList.contains(h)&&(i.classList.remove(h),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!1}))):(i.classList.add(h),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",g,$x),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",g,$x)}}),l}stopMonitoring(e){const i=vl(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zi),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Gx=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),M1=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k1=0;const x1=JS(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new At.x}});let Wx=(()=>{class n extends x1{constructor(e,i,o,l,h,g,b,w,S,M){super(g,l,h,o),this._elementRef=e,this._platform=i,this._autofillMonitor=w,this._formField=M,this._uid="mat-input-"+k1++,this.focused=!1,this.stateChanges=new At.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>Vk().has(z)),this._iOSKeyupListener=z=>{const te=z.target;!te.value&&0===te.selectionStart&&0===te.selectionEnd&&(te.setSelectionRange(1,1),te.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,V=P.nodeName.toLowerCase();this._inputValueAccessor=b||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&S.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=tn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Zd.required)??!1}set required(e){this._required=tn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Vk().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=tn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=i,i?o.setAttribute("placeholder",i):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){M1.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(zi),c.Y36(vo,10),c.Y36(Sm,8),c.Y36(Qd,8),c.Y36(Bv),c.Y36(Gx,10),c.Y36(T1),c.Y36(c.R0b),c.Y36(oA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:zv,useExisting:n}]),c.qOj,c.TTD]}),n})(),Yx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Bv],imports:[zx,aA,Xr,zx,aA]}),n})();const R1=["mat-calendar-body",""];function O1(n,t){if(1&n&&(c.TgZ(0,"tr",2)(1,"td",3),c._uU(2),c.qZA()()),2&n){const e=c.oxw();c.xp6(1),c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e.numCols),c.xp6(1),c.hij(" ",e.label," ")}}function P1(n,t){if(1&n&&(c.TgZ(0,"td",3),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e._firstRowOffset),c.xp6(1),c.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function N1(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"td",7)(1,"button",8),c.NdJ("click",function(o){const h=c.CHM(e).$implicit,g=c.oxw(2);return c.KtG(g._cellClicked(h,o))})("focus",function(o){const h=c.CHM(e).$implicit,g=c.oxw(2);return c.KtG(g._emitActiveDateChange(h,o))}),c.TgZ(2,"div",9),c._uU(3),c.qZA(),c._UZ(4,"div",10),c.qZA()()}if(2&n){const e=t.$implicit,i=t.index,o=c.oxw().index,l=c.oxw();c.Udp("width",l._cellWidth)("padding-top",l._cellPadding)("padding-bottom",l._cellPadding),c.uIk("data-mat-row",o)("data-mat-col",i),c.xp6(1),c.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",l._isActiveCell(o,i))("mat-calendar-body-range-start",l._isRangeStart(e.compareValue))("mat-calendar-body-range-end",l._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",l._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",l._isComparisonBridgeStart(e.compareValue,o,i))("mat-calendar-body-comparison-bridge-end",l._isComparisonBridgeEnd(e.compareValue,o,i))("mat-calendar-body-comparison-start",l._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",l._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",l._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",l._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",l._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",l._isInPreview(e.compareValue)),c.Q6J("ngClass",e.cssClasses)("tabindex",l._isActiveCell(o,i)?0:-1),c.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",l._isSelected(e.compareValue))("aria-current",l.todayValue===e.compareValue?"date":null),c.xp6(1),c.ekj("mat-calendar-body-selected",l._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",l._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",l.todayValue===e.compareValue),c.xp6(1),c.hij(" ",e.displayValue," ")}}function F1(n,t){if(1&n&&(c.TgZ(0,"tr",4),c.YNc(1,P1,2,6,"td",5),c.YNc(2,N1,5,47,"td",6),c.qZA()),2&n){const e=t.$implicit,i=t.index,o=c.oxw();c.xp6(1),c.Q6J("ngIf",0===i&&o._firstRowOffset),c.xp6(1),c.Q6J("ngForOf",e)}}function L1(n,t){if(1&n&&(c.TgZ(0,"th",5)(1,"span",6),c._uU(2),c.qZA(),c.TgZ(3,"span",7),c._uU(4),c.qZA()()),2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e.long),c.xp6(2),c.Oqu(e.narrow)}}const V1=["*"];function B1(n,t){}function H1(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-month-view",5),c.NdJ("activeDateChange",function(o){c.CHM(e);const l=c.oxw();return c.KtG(l.activeDate=o)})("_userSelection",function(o){c.CHM(e);const l=c.oxw();return c.KtG(l._dateSelected(o))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function U1(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-year-view",6),c.NdJ("activeDateChange",function(o){c.CHM(e);const l=c.oxw();return c.KtG(l.activeDate=o)})("monthSelected",function(o){c.CHM(e);const l=c.oxw();return c.KtG(l._monthSelectedInYearView(o))})("selectedChange",function(o){c.CHM(e);const l=c.oxw();return c.KtG(l._goToDateInView(o,"month"))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function j1(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-multi-year-view",7),c.NdJ("activeDateChange",function(o){c.CHM(e);const l=c.oxw();return c.KtG(l.activeDate=o)})("yearSelected",function(o){c.CHM(e);const l=c.oxw();return c.KtG(l._yearSelectedInMultiYearView(o))})("selectedChange",function(o){c.CHM(e);const l=c.oxw();return c.KtG(l._goToDateInView(o,"year"))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function $1(n,t){}let $w=(()=>{class n{constructor(){this.changes=new At.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lA{constructor(t,e,i,o,l={},h=t,g){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=o,this.cssClasses=l,this.compareValue=h,this.rawValue=g}}let Om=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new c.vpe,this.previewChange=new c.vpe,this.activeDateChange=new c.vpe,this._enterHandler=o=>{if(this._skipNextFocus&&"focus"===o.type)this._skipNextFocus=!1;else if(o.target&&this.isRange){const l=this._getCellFromElement(o.target);l&&this._ngZone.run(()=>this.previewChange.emit({value:l.enabled?l:null,event:o}))}},this._leaveHandler=o=>{null!==this.previewEnd&&this.isRange&&o.target&&this._getCellFromElement(o.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o}))},i.runOutsideAngular(()=>{const o=e.nativeElement;o.addEventListener("mouseenter",this._enterHandler,!0),o.addEventListener("focus",this._enterHandler,!0),o.addEventListener("mouseleave",this._leaveHandler,!0),o.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:o,numCols:l}=this;(e.rows||i)&&(this._firstRowOffset=o&&o.length&&o[0].length?l-o[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/l+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/l+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let o=e*this.numCols+i;return e&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_o(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return cA(e,this.startValue,this.endValue)}_isRangeEnd(e){return uA(e,this.startValue,this.endValue)}_isInRange(e){return dA(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return cA(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,o){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let l=this.rows[i][o-1];if(!l){const h=this.rows[i-1];l=h&&h[h.length-1]}return l&&!this._isRangeEnd(l.compareValue)}_isComparisonBridgeEnd(e,i,o){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let l=this.rows[i][o+1];if(!l){const h=this.rows[i+1];l=h&&h[0]}return l&&!this._isRangeStart(l.compareValue)}_isComparisonEnd(e){return uA(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return dA(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return cA(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return uA(e,this.previewStart,this.previewEnd)}_isInPreview(e){return dA(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(Kx(e)?i=e:Kx(e.parentNode)&&(i=e.parentNode),i){const o=i.getAttribute("data-mat-row"),l=i.getAttribute("data-mat-col");if(o&&l)return this.rows[parseInt(o)][parseInt(l)]}return null}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[c.TTD],attrs:R1,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(c.YNc(0,O1,3,6,"tr",0),c.YNc(1,F1,3,2,"tr",1)),2&e&&(c.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),c.xp6(1),c.Q6J("ngForOf",i.rows))},dependencies:[Ft,Lt,Dn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function Kx(n){return"TD"===n.nodeName}function cA(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function uA(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function dA(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Dr{constructor(t,e){this.start=t,this.end=e}}let su=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new At.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const o=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),z1=(()=>{class n extends su{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const qx={provide:su,deps:[[new c.FiY,new c.tp0,su],pi],useFactory:function W1(n,t){return n||new z1(t)}},zw=new c.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Zx=(()=>{class n{constructor(e,i,o,l,h){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=o,this._dir=l,this._rangeStrategy=h,this._rerenderSubscription=Pn.w0.EMPTY,this.selectedChange=new c.vpe,this._userSelection=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Dr?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ru(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,o=this._getDateFromDayOfMonth(i);let l,h;this._selected instanceof Dr?(l=this._getDateInCurrentMonth(this._selected.start),h=this._getDateInCurrentMonth(this._selected.end)):l=h=this._getDateInCurrentMonth(this._selected),(l!==i||h!==i)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!km(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const l=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(l.start),this._previewEnd=this._getCellCompareValue(l.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let l=this._dateAdapter.getDayOfWeekNames("long").map((h,g)=>({long:h,narrow:i[g]}));this._weekdays=l.slice(e).concat(l.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,l=this._firstWeekOffset;o<e;o++,l++){7==l&&(this._weeks.push([]),l=0);const h=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),g=this._shouldEnableDate(h),b=this._dateAdapter.format(h,this._dateFormats.display.dateA11yLabel),w=this.dateClass?this.dateClass(h,"month"):void 0;this._weeks[this._weeks.length-1].push(new lA(o+1,i[o],b,g,w,this._getCellCompareValue(h),h))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),o=this._dateAdapter.getMonth(e),l=this._dateAdapter.getDate(e);return new Date(i,o,l).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Dr?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(sh,8),c.Y36(pi,8),c.Y36(ih,8),c.Y36(zw,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(Om,5),2&e){let o;c.iGM(o=c.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[c.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c.YNc(3,L1,5,2,"th",2),c.qZA(),c.TgZ(4,"tr"),c._UZ(5,"th",3),c.qZA()(),c.TgZ(6,"tbody",4),c.NdJ("selectedValueChange",function(l){return i._dateSelected(l)})("activeDateChange",function(l){return i._updateActiveDate(l)})("previewChange",function(l){return i._previewChanged(l)})("keyup",function(l){return i._handleCalendarBodyKeyup(l)})("keydown",function(l){return i._handleCalendarBodyKeydown(l)}),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngForOf",i._weekdays),c.xp6(3),c.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[Lt,Om],encapsulation:2,changeDetection:0}),n})();const es=24;let Qx=(()=>{class n{constructor(e,i,o){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=o,this._rerenderSubscription=Pn.w0.EMPTY,this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),Jx(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Dr?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ru(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Gv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,l=[];o<es;o++)l.push(i+o),4==l.length&&(this._years.push(l.map(h=>this._createCellForYear(h))),l=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,o=this._dateAdapter.createDate(i,0,1),l=this._getDateFromYear(i);this.yearSelected.emit(o),this.selectedChange.emit(l)}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Gv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,es-Gv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-es:-es);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*es:es);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Gv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),o=this._dateAdapter.getYearName(i),l=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new lA(e,o,o,this._shouldEnableYear(e),l)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Dr){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(pi,8),c.Y36(ih,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(Om,5),2&e){let o;c.iGM(o=c.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(l){return i._yearSelected(l)})("activeDateChange",function(l){return i._updateActiveDate(l)})("keyup",function(l){return i._handleCalendarBodyKeyup(l)})("keydown",function(l){return i._handleCalendarBodyKeydown(l)}),c.qZA()()),2&e&&(c.xp6(4),c.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Om],encapsulation:2,changeDetection:0}),n})();function Jx(n,t,e,i,o){const l=n.getYear(t),h=n.getYear(e),g=Xx(n,i,o);return Math.floor((l-g)/es)===Math.floor((h-g)/es)}function Gv(n,t,e,i){return function Z1(n,t){return(n%t+t)%t}(n.getYear(t)-Xx(n,e,i),es)}function Xx(n,t,e){let i=0;return e?i=n.getYear(e)-es+1:t&&(i=n.getYear(t)),i}let eR=(()=>{class n{constructor(e,i,o,l){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=o,this._dir=l,this._rerenderSubscription=Pn.w0.EMPTY,this.selectedChange=new c.vpe,this.monthSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Dr?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ru(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(o);const l=this._getDateFromMonth(i);this.selectedChange.emit(l)}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(o=>this._createCellForMonth(o,e[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(e,i){const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),l=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),h=this.dateClass?this.dateClass(o,"year"):void 0;return new lA(e,i.toLocaleUpperCase(),l,this._shouldEnableMonth(e),h)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let l=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(l)==e;l=this._dateAdapter.addCalendarDays(l,1))if(this.dateFilter(l))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const o=this._dateAdapter.getYear(this.maxDate),l=this._dateAdapter.getMonth(this.maxDate);return e>o||e===o&&i>l}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const o=this._dateAdapter.getYear(this.minDate),l=this._dateAdapter.getMonth(this.minDate);return e<o||e===o&&i<l}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Dr?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(sh,8),c.Y36(pi,8),c.Y36(ih,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(Om,5),2&e){let o;c.iGM(o=c.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(l){return i._monthSelected(l)})("activeDateChange",function(l){return i._updateActiveDate(l)})("keyup",function(l){return i._handleCalendarBodyKeyup(l)})("keydown",function(l){return i._handleCalendarBodyKeydown(l)}),c.qZA()()),2&e&&(c.xp6(4),c.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Om],encapsulation:2,changeDetection:0}),n})(),Q1=0,J1=(()=>{class n{constructor(e,i,o,l,h){this._intl=e,this.calendar=i,this._dateAdapter=o,this._dateFormats=l,this._buttonDescriptionId="mat-calendar-button-"+Q1++,this.calendar.stateChanges.subscribe(()=>h.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-Gv(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=i+es-1,l=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),h=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return this._intl.formatYearRange(l,h)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-es)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:es)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):Jx(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($w),c.Y36((0,c.Gpc)(()=>Pm)),c.Y36(pi,8),c.Y36(sh,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:V1,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return i.currentPeriodClicked()}),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.O4$(),c.TgZ(5,"svg",3),c._UZ(6,"polygon",4),c.qZA()(),c.kcU(),c._UZ(7,"div",5),c.Hsn(8),c.TgZ(9,"button",6),c.NdJ("click",function(){return i.previousClicked()}),c.qZA(),c.TgZ(10,"button",7),c.NdJ("click",function(){return i.nextClicked()}),c.qZA()()()),2&e&&(c.xp6(2),c.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),c.xp6(1),c.uIk("id",i._buttonDescriptionId),c.xp6(1),c.Oqu(i.periodButtonText),c.xp6(1),c.ekj("mat-calendar-invert","month"!==i.calendar.currentView),c.xp6(4),c.Q6J("disabled",!i.previousEnabled()),c.uIk("aria-label",i.prevButtonLabel),c.xp6(1),c.Q6J("disabled",!i.nextEnabled()),c.uIk("aria-label",i.nextButtonLabel))},dependencies:[tA],encapsulation:2,changeDetection:0}),n})(),Pm=(()=>{class n{constructor(e,i,o,l){this._dateAdapter=i,this._dateFormats=o,this._changeDetectorRef=l,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this._userSelection=new c.vpe,this.stateChanges=new At.x,this._intlChanges=e.changes.subscribe(()=>{l.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Dr?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new ZS(this.headerComponent||J1),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,o=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,l=i||o||e.dateFilter;if(l&&!l.firstChange){const h=this._getCurrentViewComponent();h&&(this._changeDetectorRef.detectChanges(),h._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Dr||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($w),c.Y36(pi,8),c.Y36(sh,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(c.Gf(Zx,5),c.Gf(eR,5),c.Gf(Qx,5)),2&e){let o;c.iGM(o=c.CRH())&&(i.monthView=o.first),c.iGM(o=c.CRH())&&(i.yearView=o.first),c.iGM(o=c.CRH())&&(i.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[c._Bn([qx]),c.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(c.YNc(0,B1,0,0,"ng-template",0),c.TgZ(1,"div",1),c.YNc(2,H1,1,8,"mat-month-view",2),c.YNc(3,U1,1,6,"mat-year-view",3),c.YNc(4,j1,1,6,"mat-multi-year-view",4),c.qZA()),2&e&&(c.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),c.xp6(1),c.Q6J("ngSwitch",i.currentView),c.xp6(1),c.Q6J("ngSwitchCase","month"),c.xp6(1),c.Q6J("ngSwitchCase","year"),c.xp6(1),c.Q6J("ngSwitchCase","multi-year"))},dependencies:[os,So,UN,dx,Zx,eR,Qx],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const tR={transformPanel:nA("transformPanel",[jv("void => enter-dropdown",Uv("120ms cubic-bezier(0, 0, 0.2, 1)",Vx([Co({opacity:0,transform:"scale(1, 0.8)"}),Co({opacity:1,transform:"scale(1, 1)"})]))),jv("void => enter-dialog",Uv("150ms cubic-bezier(0, 0, 0.2, 1)",Vx([Co({opacity:0,transform:"scale(0.7)"}),Co({transform:"none",opacity:1})]))),jv("* => void",Uv("100ms linear",Co({opacity:0})))]),fadeInCalendar:nA("fadeInCalendar",[iA("void",Co({opacity:0})),iA("enter",Co({opacity:1})),jv("void => *",Uv("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let X1=0;const nR=new c.OlP("mat-datepicker-scroll-strategy"),tL={provide:nR,deps:[jw],useFactory:function eL(n){return()=>n.scrollStrategies.reposition()}},nL=Vv(class{constructor(n){this._elementRef=n}});let iL=(()=>{class n extends nL{constructor(e,i,o,l,h,g){super(e),this._changeDetectorRef=i,this._globalModel=o,this._dateAdapter=l,this._rangeSelectionStrategy=h,this._subscriptions=new Pn.w0,this._animationDone=new At.x,this._actionsPortal=null,this._closeButtonText=g.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,o=e.value,l=i instanceof Dr;if(l&&this._rangeSelectionStrategy){const h=this._rangeSelectionStrategy.selectionFinished(o,i,e.event);this._model.updateSelection(h,this)}else o&&(l||!this._dateAdapter.sameDate(o,i))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(su),c.Y36(pi),c.Y36(zw,8),c.Y36($w))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&c.Gf(Pm,5),2&e){let o;c.iGM(o=c.CRH())&&(i._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&c.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(c.d8E("@transformPanel",i._animationState),c.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[c.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0)(1,"mat-calendar",1),c.NdJ("yearSelected",function(l){return i.datepicker._selectYear(l)})("monthSelected",function(l){return i.datepicker._selectMonth(l)})("viewChanged",function(l){return i.datepicker._viewChanged(l)})("_userSelection",function(l){return i._handleUserSelection(l)}),c.qZA(),c.YNc(2,$1,0,0,"ng-template",2),c.TgZ(3,"button",3),c.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),c._uU(4),c.qZA()()),2&e){let o;c.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),c.uIk("aria-modal",!0)("aria-labelledby",null!==(o=i._dialogLabelId)&&void 0!==o?o:void 0),c.xp6(1),c.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),c.xp6(1),c.Q6J("cdkPortalOutlet",i._actionsPortal),c.xp6(1),c.ekj("cdk-visually-hidden",!i._closeButtonFocused),c.Q6J("color",i.color||"primary"),c.xp6(1),c.Oqu(i._closeButtonText)}},dependencies:[Ft,tA,NN,dx,Pm],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[tR.transformPanel,tR.fadeInCalendar]},changeDetection:0}),n})(),iR=(()=>{class n{constructor(e,i,o,l,h,g,b){this._overlay=e,this._ngZone=i,this._viewContainerRef=o,this._dateAdapter=h,this._dir=g,this._model=b,this._inputStateChanges=Pn.w0.EMPTY,this._document=(0,c.f3M)(oe),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this.openedStream=new c.vpe,this.closedStream=new c.vpe,this._opened=!1,this.id="mat-datepicker-"+X1++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new At.x,this._scrollStrategy=l}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=tn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=tn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=tn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function oN(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const o of i){const l=`${o}`.trim();l&&e.push(l)}}return e}(e)}get opened(){return this._opened}set opened(e){tn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;o instanceof bx&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Bk(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:o,location:l}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(_o(1)).subscribe(()=>{const h=this._document.activeElement;e&&(!h||h===this._document.activeElement||l.nativeElement.contains(h))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new ZS(iL,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new gx({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(o).subscribe(l=>{l&&l.preventDefault(),this.close()}),o.keydownEvents().subscribe(l=>{const h=l.keyCode;(38===h||40===h||37===h||39===h||33===h||34===h)&&l.preventDefault()}),this._componentRef=o.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(_o(1)).subscribe(()=>o.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",o="start"===i?"end":"start",l="above"===this.yPosition?"bottom":"top",h="top"===l?"bottom":"top";return e.withPositions([{originX:i,originY:h,overlayX:i,overlayY:l},{originX:i,originY:l,overlayX:i,overlayY:h},{originX:o,originY:h,overlayX:o,overlayY:l},{originX:o,originY:l,overlayX:o,overlayY:h}])}_getCloseStream(e){return(0,Kr.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Kc(i=>27===i.keyCode&&!km(i)||this.datepickerInput&&km(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(jw),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(nR),c.Y36(pi,8),c.Y36(ih,8),c.Y36(su))},n.\u0275dir=c.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[c.TTD]}),n})(),oh=(()=>{class n extends iR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[c._Bn([qx,{provide:iR,useExisting:n}]),c.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class Gw{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let rL=(()=>{class n{constructor(e,i,o){this._elementRef=e,this._dateAdapter=i,this._dateFormats=o,this.dateChange=new c.vpe,this.dateInput=new c.vpe,this.stateChanges=new At.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Pn.w0.EMPTY,this._localeSubscription=Pn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=l=>{const h=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(l.value));return!h||this._matchesFilter(h)?null:{matDatepickerFilter:!0}},this._minValidator=l=>{const h=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(l.value)),g=this._getMinDate();return!g||!h||this._dateAdapter.compareDate(g,h)<=0?null:{matDatepickerMin:{min:g,actual:h}}},this._maxValidator=l=>{const h=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(l.value)),g=this._getMaxDate();return!g||!h||this._dateAdapter.compareDate(g,h)>=0?null:{matDatepickerMax:{max:g,actual:h}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=tn(e),o=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const o=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new Gw(this,this._elementRef.nativeElement)),this.dateChange.emit(new Gw(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function sL(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:o,currentValue:l}=n[i];if(!t.isDateInstance(o)||!t.isDateInstance(l))return!0;if(!t.sameDate(o,l))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let o=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);const l=!this._dateAdapter.sameDate(o,this.value);!o||l?this._cvaOnChange(o):(e&&!this.value&&this._cvaOnChange(o),i!==this._lastValueValid&&this._validatorOnChange()),l&&(this._assignValue(o),this.dateInput.emit(new Gw(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Gw(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(pi,8),c.Y36(sh,8))},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[c.TTD]}),n})();const oL={provide:yo,useExisting:(0,c.Gpc)(()=>pA),multi:!0},aL={provide:Si,useExisting:(0,c.Gpc)(()=>pA),multi:!0};let pA=(()=>{class n extends rL{constructor(e,i,o,l){super(e,i,o),this._formField=l,this._closedSubscription=Pn.w0.EMPTY,this._validator=Zd.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(pi,8),c.Y36(sh,8),c.Y36(oA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&c.NdJ("input",function(l){return i._onInput(l.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(l){return i._onKeydown(l)}),2&e&&(c.Ikx("disabled",i.disabled),c.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[c._Bn([oL,aL,{provide:Gx,useExisting:n}]),c.qOj]}),n})(),rR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$w,tL],imports:[Ao,Nx,NF,jN,hx,Xr,KS]}),n})();const lL=["*",[["mat-card-footer"]]],cL=["*","mat-card-footer"],uL=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],dL=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let hL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),fL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),pL=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:cL,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(lL),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),mL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:dL,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(c.F$t(uL),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Xr,Xr]}),n})();function sR(n){return(0,ti.e)((t,e)=>{let l,i=null,o=!1;i=t.subscribe((0,Nn.x)(e,void 0,void 0,h=>{l=(0,ra.Xf)(n(h,sR(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}class oR{}class aR{}class Cl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),l=o.toLowerCase(),h=e.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Cl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Cl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Cl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const l=t.value;if(l){let h=this.headers.get(e);if(!h)return;h=h.filter(g=>-1===l.indexOf(g)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class bL{encodeKey(t){return lR(t)}encodeValue(t){return lR(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const EL=/%(\d[a-f0-9])/gi,wL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lR(n){return encodeURIComponent(n).replace(EL,(t,e)=>wL[e]??t)}function Ww(n){return`${n}`}class ou{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new bL,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function CL(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,g]=-1==l?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,l)),t.decodeValue(o.slice(l+1))],b=e.get(h)||[];b.push(g),e.set(h,b)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],o=Array.isArray(i)?i.map(Ww):[Ww(i)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const o=t[i];Array.isArray(o)?o.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ou({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ww(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const o=i.indexOf(Ww(t.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class DL{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function cR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uR(n){return typeof Blob<"u"&&n instanceof Blob}function dR(n){return typeof FormData<"u"&&n instanceof FormData}class Wv{constructor(t,e,i,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function IL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Cl),this.context||(this.context=new DL),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const g=e.indexOf("?");this.urlWithParams=e+(-1===g?"?":g<e.length-1?"&":"")+h}}else this.params=new ou,this.urlWithParams=e}serializeBody(){return null===this.body?null:cR(this.body)||uR(this.body)||dR(this.body)||function SL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ou?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dR(this.body)?null:uR(this.body)?this.body.type||null:cR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ou?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,g=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,w=t.params||this.params;const S=t.context??this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((M,P)=>M.set(P,t.setHeaders[P]),b)),t.setParams&&(w=Object.keys(t.setParams).reduce((M,P)=>M.set(P,t.setParams[P]),w)),new Wv(e,i,l,{params:w,headers:b,context:S,reportProgress:g,responseType:o,withCredentials:h})}}var Zn=(()=>((Zn=Zn||{})[Zn.Sent=0]="Sent",Zn[Zn.UploadProgress=1]="UploadProgress",Zn[Zn.ResponseHeader=2]="ResponseHeader",Zn[Zn.DownloadProgress=3]="DownloadProgress",Zn[Zn.Response=4]="Response",Zn[Zn.User=5]="User",Zn))();class mA{constructor(t,e=200,i="OK"){this.headers=t.headers||new Cl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gA extends mA{constructor(t={}){super(t),this.type=Zn.ResponseHeader}clone(t={}){return new gA({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Yw extends mA{constructor(t={}){super(t),this.type=Zn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Yw({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hR extends mA{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _A(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let yA=(()=>{class n{constructor(e){this.handler=e}request(e,i,o={}){let l;if(e instanceof Wv)l=e;else{let b,w;b=o.headers instanceof Cl?o.headers:new Cl(o.headers),o.params&&(w=o.params instanceof ou?o.params:new ou({fromObject:o.params})),l=new Wv(e,i,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:w,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=Ui(l).pipe(function vL(n,t){return(0,fi.m)(t)?(0,WS.z)(n,t,1):(0,WS.z)(n,1)}(b=>this.handler.handle(b)));if(e instanceof Wv||"events"===o.observe)return h;const g=h.pipe(Kc(b=>b instanceof Yw));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return g.pipe((0,sn.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return g.pipe((0,sn.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return g.pipe((0,sn.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return g.pipe((0,sn.U)(b=>b.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ou).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,_A(o,i))}post(e,i,o={}){return this.request("POST",e,_A(o,i))}put(e,i,o={}){return this.request("PUT",e,_A(o,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class fR{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const pR=new c.OlP("HTTP_INTERCEPTORS");let AL=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const TL=/^\)\]\}',?\n/;let mR=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Yn.y(i=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((V,z)=>o.setRequestHeader(V,z.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const V=e.detectContentTypeHeader();null!==V&&o.setRequestHeader("Content-Type",V)}if(e.responseType){const V=e.responseType.toLowerCase();o.responseType="json"!==V?V:"text"}const l=e.serializeBody();let h=null;const g=()=>{if(null!==h)return h;const V=o.statusText||"OK",z=new Cl(o.getAllResponseHeaders()),te=function ML(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return h=new gA({headers:z,status:o.status,statusText:V,url:te}),h},b=()=>{let{headers:V,status:z,statusText:te,url:Pe}=g(),Ne=null;204!==z&&(Ne=typeof o.response>"u"?o.responseText:o.response),0===z&&(z=Ne?200:0);let Xe=z>=200&&z<300;if("json"===e.responseType&&"string"==typeof Ne){const Ot=Ne;Ne=Ne.replace(TL,"");try{Ne=""!==Ne?JSON.parse(Ne):null}catch(vt){Ne=Ot,Xe&&(Xe=!1,Ne={error:vt,text:Ne})}}Xe?(i.next(new Yw({body:Ne,headers:V,status:z,statusText:te,url:Pe||void 0})),i.complete()):i.error(new hR({error:Ne,headers:V,status:z,statusText:te,url:Pe||void 0}))},w=V=>{const{url:z}=g(),te=new hR({error:V,status:o.status||0,statusText:o.statusText||"Unknown Error",url:z||void 0});i.error(te)};let S=!1;const M=V=>{S||(i.next(g()),S=!0);let z={type:Zn.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(z.total=V.total),"text"===e.responseType&&o.responseText&&(z.partialText=o.responseText),i.next(z)},P=V=>{let z={type:Zn.UploadProgress,loaded:V.loaded};V.lengthComputable&&(z.total=V.total),i.next(z)};return o.addEventListener("load",b),o.addEventListener("error",w),o.addEventListener("timeout",w),o.addEventListener("abort",w),e.reportProgress&&(o.addEventListener("progress",M),null!==l&&o.upload&&o.upload.addEventListener("progress",P)),o.send(l),i.next({type:Zn.Sent}),()=>{o.removeEventListener("error",w),o.removeEventListener("abort",w),o.removeEventListener("load",b),o.removeEventListener("timeout",w),e.reportProgress&&(o.removeEventListener("progress",M),null!==l&&o.upload&&o.upload.removeEventListener("progress",P)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ma))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const vA=new c.OlP("XSRF_COOKIE_NAME"),bA=new c.OlP("XSRF_HEADER_NAME");class gR{}let kL=(()=>{class n{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=uu(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe),c.LFG(c.Lbi),c.LFG(vA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),CA=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return i.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(gR),c.LFG(bA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xL=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(pR,[]);this.chain=i.reduceRight((o,l)=>new fR(o,l),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(aR),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),RL=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:CA,useClass:AL}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:vA,useValue:e.cookieName}:[],e.headerName?{provide:bA,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[CA,{provide:pR,useExisting:CA,multi:!0},{provide:gR,useClass:kL},{provide:vA,useValue:"XSRF-TOKEN"},{provide:bA,useValue:"X-XSRF-TOKEN"}]}),n})(),OL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[yA,{provide:oR,useClass:xL},mR,{provide:aR,useExisting:mR}],imports:[RL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const PL=["*"];let Kw;function Yv(n){return function NL(){if(void 0===Kw&&(Kw=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Kw=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Kw}()?.createHTML(n)||n}function _R(n){return Error(`Unable to find icon with the name "${n}"`)}function yR(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function vR(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ah{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let qw=(()=>{class n{constructor(e,i,o,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,l){return this._addSvgIconConfig(e,i,new ah(o,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,l){const h=this._sanitizer.sanitize(c.q3G.HTML,o);if(!h)throw vR(o);const g=Yv(h);return this._addSvgIconConfig(e,i,new ah("",g,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new ah(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){const l=this._sanitizer.sanitize(c.q3G.HTML,i);if(!l)throw vR(i);const h=Yv(l);return this._addSvgIconSetConfig(e,new ah("",h,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!i)throw yR(e);const o=this._cachedIconsByUrl.get(i);return o?Ui(Zw(o)):this._loadSvgIconFromConfig(new ah(e,null)).pipe(Yc(l=>this._cachedIconsByUrl.set(i,l)),(0,sn.U)(l=>Zw(l)))}getNamedSvgIcon(e,i=""){const o=bR(i,e);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(i);return h?this._getSvgFromIconSetConfigs(e,h):function _L(n,t){const e=(0,fi.m)(n)?n:()=>n,i=o=>o.error(e());return new Yn.y(t?o=>t.schedule(i,0,o):i)}(_R(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ui(Zw(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,sn.U)(i=>Zw(i)))}_getSvgFromIconSetConfigs(e,i){const o=this._extractIconWithNameFromAnySet(e,i);return o?Ui(o):SM(i.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(sR(g=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,h.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(w)),Ui(null)})))).pipe((0,sn.U)(()=>{const h=this._extractIconWithNameFromAnySet(e,i);if(!h)throw _R(e);return h}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const h=this._svgElementFromConfig(l),g=this._extractSvgIconFromSet(h,e,l.options);if(g)return g}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Yc(i=>e.svgText=i),(0,sn.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ui(null):this._fetchIcon(e).pipe(Yc(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const g=this._svgElementFromString(Yv("<svg></svg>"));return g.appendChild(h),this._setSvgAttributes(g,o)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const i=this._svgElementFromString(Yv("<svg></svg>")),o=e.attributes;for(let l=0;l<o.length;l++){const{name:h,value:g}=o[l];"id"!==h&&i.setAttribute(h,g)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:o}=e,l=o?.withCredentials??!1;if(!this._httpClient)throw function FL(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const h=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!h)throw yR(i);const g=this._inProgressUrlFetches.get(h);if(g)return g;const b=this._httpClient.get(h,{responseType:"text",withCredentials:l}).pipe((0,sn.U)(w=>Yv(w)),function yL(n){return(0,ti.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>this._inProgressUrlFetches.delete(h)),(0,ap.B)());return this._inProgressUrlFetches.set(h,b),b}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(bR(e,i),o),this}_addSvgIconSetConfig(e,i){const o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,e);if(l)return VL(l)?new ah(l.url,null,l.options):new ah(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(yA,8),c.LFG(Oa),c.LFG(oe,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zw(n){return n.cloneNode(!0)}function bR(n,t){return n+":"+t}function VL(n){return!(!n.url||!n.options)}const BL=Vv(class{constructor(n){this._elementRef=n}}),HL=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),UL=new c.OlP("mat-icon-location",{providedIn:"root",factory:function jL(){const n=(0,c.f3M)(oe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),CR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$L=CR.map(n=>`[${n}]`).join(", "),zL=/^url\(['"]?#(.*?)['"]?\)$/;let ER=(()=>{class n extends BL{constructor(e,i,o,l,h,g){super(e),this._iconRegistry=i,this._location=l,this._errorHandler=h,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Pn.w0.EMPTY,g&&(g.color&&(this.color=this.defaultColor=g.color),g.fontSet&&(this.fontSet=g.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=tn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=e.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),i.forEach(o=>e.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(h=>{l.setAttribute(h.name,`url('${e}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll($L),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)CR.forEach(h=>{const g=i[l],b=g.getAttribute(h),w=b?b.match(zL):null;if(w){let S=o.get(g);S||(S=[],o.set(g,S)),S.push({name:h,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(_o(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(qw),c.$8M("aria-hidden"),c.Y36(UL),c.Y36(c.qLn),c.Y36(HL,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:PL,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),wR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Xr,Xr]}),n})();class GL{constructor(t=!1,e,i=!0,o){this._multiple=t,this._emitChanges=i,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new At.x,e&&e.length&&(t?e.forEach(l=>this._markSelected(l)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(l=>this._markSelected(l)),e.filter(l=>!i.has(l)).forEach(l=>this._unmarkSelected(l));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const WL=["*"],DR=new c.OlP("MatChipRemove"),IR=new c.OlP("MatChipAvatar"),SR=new c.OlP("MatChipTrailingIcon");class YL{constructor(t){this._elementRef=t}}const KL=Tx(Vv(Ax(YL),"primary"),-1);let Qw=(()=>{class n extends KL{constructor(e,i,o,l,h,g,b,w){super(e),this._ngZone=i,this._changeDetectorRef=h,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new At.x,this._onBlur=new At.x,this.selectionChange=new c.vpe,this.destroyed=new c.vpe,this.removed=new c.vpe,this._addHostClassName(),this._chipRippleTarget=g.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new Rx(this,i,this._chipRippleTarget,o),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=l||{},this._animationsDisabled="NoopAnimations"===b,this.tabIndex=null!=w&&parseInt(w)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const i=tn(e);i!==this._selected&&(this._selected=i,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=tn(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=tn(e)}get removable(){return this._removable}set removable(e){this._removable=tn(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",i=this._elementRef.nativeElement;i.hasAttribute(e)||i.tagName.toLowerCase()===e?i.classList.add(e):i.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe(_o(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(zi),c.Y36(Ox,8),c.Y36(c.sBO),c.Y36(oe),c.Y36(c.QbO,8),c.$8M("tabindex"))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,i,o){if(1&e&&(c.Suo(o,IR,5),c.Suo(o,SR,5),c.Suo(o,DR,5)),2&e){let l;c.iGM(l=c.CRH())&&(i.avatar=l.first),c.iGM(l=c.CRH())&&(i.trailingIcon=l.first),c.iGM(l=c.CRH())&&(i.removeIcon=l.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&c.NdJ("click",function(l){return i._handleClick(l)})("keydown",function(l){return i._handleKeydown(l)})("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&e&&(c.uIk("tabindex",i.disabled?null:i.tabIndex)("role",i.role)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString())("aria-selected",i.ariaSelected),c.ekj("mat-chip-selected",i.selected)("mat-chip-with-avatar",i.avatar)("mat-chip-with-trailing-icon",i.trailingIcon||i.removeIcon)("mat-chip-disabled",i.disabled)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[c.qOj]}),n})(),AR=(()=>{class n{constructor(e,i){this._parentChip=e,"BUTTON"===i.nativeElement.nodeName&&i.nativeElement.setAttribute("type","button")}_handleClick(e){const i=this._parentChip;i.removable&&!i.disabled&&i.remove(),e.stopPropagation(),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Qw),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,i){1&e&&c.NdJ("click",function(l){return i._handleClick(l)})},features:[c._Bn([{provide:DR,useExisting:n}])]}),n})();const TR=new c.OlP("mat-chips-default-options"),QL=JS(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new At.x}});let JL=0;class XL{constructor(t,e){this.source=t,this.value=e}}let MR=(()=>{class n extends QL{constructor(e,i,o,l,h,g,b){super(g,l,h,b),this._elementRef=e,this._changeDetectorRef=i,this._dir=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new At.x,this._uid="mat-chip-list-"+JL++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(w,S)=>w===S,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(e){this._explicitRole=e}get multiple(){return this._multiple}set multiple(e){this._multiple=tn(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Zd.required)??!1}set required(e){this._required=tn(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=tn(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=tn(e),this._syncChipsState()}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,Kr.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,Kr.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,Kr.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,Kr.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new CN(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(bo(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(bo(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(ru(null),bo(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new GL(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const i=e.target;i&&i.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,i=!0){if(this._clearSelection(),this.chips.forEach(o=>o.deselect()),Array.isArray(e))e.forEach(o=>this._selectValue(o,i)),this._sortValues();else{const o=this._selectValue(e,i);o&&i&&this._keyManager.setActiveItem(o)}}_selectValue(e,i=!0){const o=this.chips.find(l=>null!=l.value&&this._compareWith(l.value,e));return o&&(i?o.selectViaInteraction():o.select(),this._selectionModel.select(o)),o}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(i=>{i!==e&&i.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let i=null;i=Array.isArray(this.selected)?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=i,this.change.emit(new XL(this,i)),this.valueChange.emit(i),this._onChange(i),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(i=>{!this._selectionModel.isSelected(i)&&i.selected&&i.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let i=this.chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&this._keyManager.updateActiveItem(i),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const i=e.chip,o=this.chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&i._hasFocus&&(this._lastDestroyedChipIndex=o)})}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-chip"))return!0;i=i.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ih,8),c.Y36(Sm,8),c.Y36(Qd,8),c.Y36(Bv),c.Y36(vo,10))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-chip-list"]],contentQueries:function(e,i,o){if(1&e&&c.Suo(o,Qw,5),2&e){let l;c.iGM(l=c.CRH())&&(i.chips=l)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(l){return i._keydown(l)}),2&e&&(c.Ikx("id",i._uid),c.uIk("tabindex",i.disabled?null:i._tabIndex)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-multiselectable",i.multiple)("role",i.role)("aria-orientation",i.ariaOrientation),c.ekj("mat-chip-list-disabled",i.disabled)("mat-chip-list-invalid",i.errorState)("mat-chip-list-required",i.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[c._Bn([{provide:zv,useExisting:n}]),c.qOj],ngContentSelectors:WL,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),n})(),eV=0,kR=(()=>{class n{constructor(e,i){this._elementRef=e,this._defaultOptions=i,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new c.vpe,this.placeholder="",this.id="mat-chip-list-input-"+eV++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(e){e&&(this._chipList=e,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=tn(e)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(e){this._disabled=tn(e)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e){if(9===e.keyCode&&!km(e,"shiftKey")&&this._chipList._allowFocusEscape(),8===e.keyCode&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void e.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&8===e.keyCode&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(e){!this.inputElement.value&&e&&this._chipList._keydown(e),(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(e){this.inputElement.focus(e)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(e){return!km(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(TR))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(e,i){1&e&&c.NdJ("keydown",function(l){return i._keydown(l)})("keyup",function(l){return i._keyup(l)})("blur",function(){return i._blur()})("focus",function(){return i._focus()})("input",function(){return i._onInput()}),2&e&&(c.Ikx("id",i.id),c.uIk("disabled",i.disabled||null)("placeholder",i.placeholder||null)("aria-invalid",i._chipList&&i._chipList.ngControl?i._chipList.ngControl.invalid:null)("aria-required",i._chipList&&i._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[c.TTD]}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Bv,{provide:TR,useValue:{separatorKeyCodes:[13]}}],imports:[Xr]}),n})();function tV(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-chip",5),c.NdJ("removed",function(){const l=c.CHM(e).$implicit,h=c.oxw();return c.KtG(h.removeChip(l))}),c._uU(1),c.ALo(2,"date"),c.TgZ(3,"mat-icon",6),c._uU(4,"cancel"),c.qZA()()}if(2&n){const e=t.$implicit,i=c.oxw();c.Q6J("color",i.color)("ngClass",i.getClassName(e)),c.xp6(1),c.hij(" ",c.xi3(2,3,e,i.format)," ")}}function nV(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"input",7),c.NdJ("dateChange",function(o){c.CHM(e);const l=c.oxw();return c.KtG(l.dateChanged(o))}),c.qZA()}if(2&n){const e=c.oxw(),i=c.MAs(1);c.Q6J("value",e.resetModel)("matDatepicker",e.matDatepicker)("matDatepickerFilter",e.matDatepickerFilter)("min",e.min)("max",e.max)("matChipInputFor",i)}}function iV(n,t){if(1&n&&c._UZ(0,"input",8),2&n){const e=c.oxw(),i=c.MAs(1);c.Q6J("value",e.resetModel)("min",e.min)("max",e.max)("matChipInputFor",i)}}const sV=Tx(Sx(JS(class rV{constructor(t,e,i,o,l){this.$elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=i,this._parentFormGroup=o,this.ngControl=l,this.stateChanges=new At.x}})));let oV=(()=>{class n extends sV{constructor(e,i,o,l,h,g,b,w,S){super(i,w,g,b,e),this.ngControl=e,this.$elementRef=i,this._changeDetectorRef=o,this._focusMonitor=l,this._dateAdapter=h,this.id="ngx-multiple-dates-"+n.nextId++,this.describedBy="",this.errorState=!1,this.dateChange=new c.vpe,this.remove=new c.vpe,this.focused=!1,this.controlType="ngx-multiple-dates",this._destroy=new At.x,this._closeOnSelected=!1,this._required=!1,this._disabled=!1,this._value=[],this._color=null,this._classes=[],this._onChange=()=>{},this._onTouched=()=>{},this._onValidatorChange=()=>{},this._filterValidator=P=>{const V=this._getValidDateOrNull(this._dateAdapter.deserialize(P.value));return this._dateFilter&&V&&!this._dateFilter(V)?{matDatepickerFilter:!0}:null},this._minValidator=P=>{const V=this._getValidDateOrNull(this._dateAdapter.deserialize(P.value));return!this.min||!V||this._dateAdapter.compareDate(this.min,V)<=0?null:{matDatepickerMin:{min:this.min,actual:V}}},this._maxValidator=P=>{const V=this._getValidDateOrNull(this._dateAdapter.deserialize(P.value));return!this.max||!V||this._dateAdapter.compareDate(this.max,V)>=0?null:{matDatepickerMax:{max:this.max,actual:V}}},this.dateClass=P=>{let V;return this.classes.length&&(V=this.getClassName(P)),-1!==this._find(P)?["selected",...V?[V]:[]]:V?[V]:[]},this.resetModel=h.createDate(0,0,1);const M=[this._filterValidator,this._minValidator,this._maxValidator];null!=this.ngControl&&(this.ngControl.valueAccessor=this,this.ngControl.validator&&M.push(this.ngControl.validator)),this._validator=Zd.compose(M),l.monitor(i.nativeElement,!0).subscribe(P=>{this.focused=!!P,this.stateChanges.next()}),this.tabIndex=Number(S)||0}get matDatepicker(){return this._matDatepicker}set matDatepicker(e){if(!e||!(e instanceof oh||e instanceof Pm))throw new TypeError('Either "matDatepicker" or "matCalendar" attribute of "ngx-multiple-dates" is required and\n        should be an instance of Angular Material Datepicker component.');this._matDatepicker=e,this.matDatepicker instanceof oh?this.matDatepicker.closedStream.pipe(bo(this._destroy)).subscribe(()=>this.blur()):this.matDatepicker.selectedChange.pipe(bo(this._destroy)).subscribe(i=>this.dateChanged({value:i})),this.matDatepicker.startAt||this._setStartAt(),this._setDisabled(),this._setDateClass()}get closeOnSelected(){return this._closeOnSelected}set closeOnSelected(e){this._closeOnSelected=tn(e)}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=tn(e),this.stateChanges.next()}get disabled(){return this._disabled}set disabled(e){this._disabled=tn(e),this._setDisabled(),this.focused&&(this.focused=!1,this.stateChanges.next())}get value(){return this._value||(this._value=[]),this._value}set value(e){e!==this._value&&this.writeValue(e)}get color(){return this._color}set color(e){this._color=e}get matDatepickerFilter(){return this._dateFilter}set matDatepickerFilter(e){this._dateFilter=e,this._onValidatorChange()}get min(){return this._min}set min(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._onValidatorChange()}get max(){return this._max}set max(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._onValidatorChange()}get classes(){return this._classes}set classes(e){this._classes=Nv(e)}get shouldLabelFloat(){return!this.empty||this.focused&&!this.disabled}get empty(){return!this.value||!this.value.length}get isDatepicker(){return this.matDatepicker instanceof oh}ngAfterViewInit(){this.ngControl&&this.ngControl.control&&this.ngControl.control.setValidators(this.validate.bind(this)),this._setStartAt(),this._setDateClass()}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._focusMonitor.stopMonitoring(this.$elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState()}focus(){this.disabled||(this.focused=!0,this.matDatepicker&&this.matDatepicker instanceof oh&&this.matDatepicker.open(),this.stateChanges.next())}blur(){this.focused=!1,this.disabled||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}writeValue(e){Array.isArray(e)?(this._value=[...e],this._sort()):this._value=e,this._onChange(e),this.stateChanges.next()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._onValidatorChange=e}setDescribedByIds(e){this.describedBy=e.join(" ")}onContainerClick(){this.focused||this.focus()}validate(e){return this._validator?this._validator(e):null}dateChanged(e){if(e.value){const i=e.value;if(this.value){const o=this._find(i);-1===o?(this.value.push(i),this._sort()):(this.value.splice(o,1),this.remove.emit({type:"datepicker",date:i}))}if(this.resetModel=this._dateAdapter.createDate(0,0,1),this._setStartAt(),this.matDatepicker&&this.matDatepicker instanceof oh&&!this.closeOnSelected){const o=this.matDatepicker.close;this.matDatepicker.close=()=>{},this.matDatepicker._componentRef.instance._calendar.monthView._createWeekCells(),setTimeout(()=>this.matDatepicker.close=o),this._changeDetectorRef.detectChanges()}else this.matDatepicker instanceof Pm&&this.matDatepicker.monthView._createWeekCells();this.writeValue(this.value)}this.dateChange.emit(e)}removeChip(e){if(this.value&&this.value.length){this._onTouched();const i=this._find(e);this.value.splice(i,1),this.writeValue(this.value),this.matDatepicker instanceof Pm&&(this.matDatepicker.monthView._createWeekCells(),this.matDatepicker.monthView._changeDetectorRef.detectChanges()),this.remove.emit({type:"chip",date:e}),this._changeDetectorRef.detectChanges()}}trackByValue(e,i){return i}getClassName(e){for(const i of this.classes)if(0===this._dateAdapter.compareDate(i.value,e))return i.className}_setStartAt(){this.matDatepicker&&(this.matDatepicker.startAt=this.value&&this.value.length?this.value[this.value.length-1]:this._dateAdapter.today())}_setDisabled(){this.matDatepicker&&this.matDatepicker instanceof oh&&(this.matDatepicker.disabled=this.disabled)}_setDateClass(){if(this.matDatepicker){const e=this.matDatepicker.dateClass;this.matDatepicker.dateClass=i=>{const o=this.dateClass(i);if(e){const l=e(i,"month");if(o.length){if(l instanceof Set)for(const h of o)l.add(h);else{if(!(l instanceof Array))return[l,...o].join(" ");for(const h of o)l.push(h)}return l}return l}return o}}}_find(e){return this.value?this.value.map(i=>this._dateAdapter.compareDate(i,e)).indexOf(0):-1}_sort(){this.value&&this.value.sort((e,i)=>this._dateAdapter.compareDate(e,i))}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}return n.nextId=0,n.\u0275fac=function(e){return new(e||n)(c.Y36(vo,10),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(zS),c.Y36(pi),c.Y36(Sm,8),c.Y36(Qd,8),c.Y36(Bv),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngx-multiple-dates"]],hostVars:11,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i.focus()})("blur",function(){return i.blur()}),2&e&&(c.Ikx("id",i.id),c.uIk("aria-describedby",i.describedBy)("aria-invalid",i.errorState)("tabindex",i.tabIndex)("aria-label",i.placeholder)("aria-required",i.required)("disabled",i.disabled),c.ekj("mat-form-field-invalid",i.errorState)("floating",i.shouldLabelFloat))},inputs:{id:"id",errorStateMatcher:"errorStateMatcher",tabIndex:"tabIndex",format:"format",matDatepicker:"matDatepicker",closeOnSelected:"closeOnSelected",placeholder:"placeholder",required:"required",disabled:"disabled",value:"value",color:"color",matDatepickerFilter:"matDatepickerFilter",min:"min",max:"max",classes:"classes"},outputs:{dateChange:"dateChange",remove:"remove"},exportAs:["ngxMultipleDates"],features:[c._Bn([{provide:zv,useExisting:n}]),c.qOj],decls:6,vars:5,consts:[["aria-label","placeholder",3,"selectable","click"],["chipList",""],["removable","",3,"color","ngClass","removed",4,"ngFor","ngForOf","ngForTrackBy"],["matInput","","hidden","",3,"value","matDatepicker","matDatepickerFilter","min","max","matChipInputFor","dateChange",4,"ngIf","ngIfElse"],["simpleChipInput",""],["removable","",3,"color","ngClass","removed"],["matChipRemove",""],["matInput","","hidden","",3,"value","matDatepicker","matDatepickerFilter","min","max","matChipInputFor","dateChange"],["matInput","","hidden","",3,"value","min","max","matChipInputFor"]],template:function(e,i){if(1&e&&(c.TgZ(0,"mat-chip-list",0,1),c.NdJ("click",function(){return i.focus()}),c.YNc(2,tV,5,6,"mat-chip",2),c.YNc(3,nV,1,6,"input",3),c.YNc(4,iV,1,4,"ng-template",null,4,c.W1O),c.qZA()),2&e){const o=c.MAs(5);c.Q6J("selectable",!1),c.xp6(2),c.Q6J("ngForOf",i.value)("ngForTrackBy",i.trackByValue),c.xp6(1),c.Q6J("ngIf",i.isDatepicker)("ngIfElse",o)}},dependencies:[Ft,Lt,Dn,MR,Qw,kR,AR,pA,ER,Wx,pu],styles:["[_nghost-%COMP%]{display:block;outline:none!important}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.floating[_nghost-%COMP%]   span[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]     mat-chip-list{outline:none!important}[_nghost-%COMP%]     mat-chip-list .mat-chip-list-wrapper{min-height:18px}[_nghost-%COMP%]     mat-chip-list .mat-chip-remove{outline:none!important}"]}),n})(),aV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ao,VS,xR,rR,aA,wR,Yx]}),n})();function lV(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",10)(1,"mat-card")(2,"mat-card-header",11)(3,"mat-card-title"),c._uU(4),c.qZA()(),c.TgZ(5,"mat-card-content")(6,"mat-form-field",12)(7,"mat-datepicker",13,14),c.NdJ("dateChange",function(o){const h=c.CHM(e).$implicit,g=c.oxw();return c.KtG(g.onDateChange(h.key,o))}),c.qZA(),c.TgZ(9,"ngx-multiple-dates",15),c.NdJ("ngModelChange",function(o){const h=c.CHM(e).$implicit;return c.KtG(h.value.attendanceCal=o)}),c.qZA()()()(),c.TgZ(10,"button",16),c.NdJ("click",function(){const l=c.CHM(e).$implicit,h=c.oxw();return c.KtG(h.saveAttendanceCal(l.key))}),c.TgZ(11,"mat-icon"),c._uU(12,"save"),c.qZA()(),c.TgZ(13,"button",17),c.NdJ("click",function(){const l=c.CHM(e).$implicit,h=c.oxw();return c.KtG(h.deleteAttendance(l.key))}),c.TgZ(14,"mat-icon"),c._uU(15,"delete"),c.qZA()()()}if(2&n){const e=t.$implicit,i=c.MAs(8);c.xp6(4),c.hij("",e.value.name," "),c.xp6(5),c.Q6J("matDatepicker",i)("name",e.value.name)("ngModel",e.value.attendanceCal)}}let cV=(()=>{class n{constructor(e,i){this.attendanceService=e,this.formBuilder=i,this.attendanceForm=this.formBuilder.group({name:["",Zd.required],present:[!1,Zd.required],absent:[!1,Zd.required]})}ngOnInit(){this.attendanceService.getAttendance().pipe((0,sn.U)(e=>{for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];console.log("element: ",o),o.attendanceCal&&(o.attendanceCal=o.attendanceCal.map(l=>new Date(l)))}return e}),Yc(e=>{console.log("res: ",e)})).subscribe(e=>{this.attendance=e})}onDateChange(e,i){this.attendanceService.saveAttendanceCal(e,{attendanceCal:i.value}).subscribe()}updateAttendance(e,i,o){}saveAttendanceCal(e){this.attendanceService.saveAttendanceCal(e,this.attendance)}onAttnChange(e){console.count("onAttnChange"),this.attendanceService?.saveAttendanceCal(e,this.attendance).pipe(xw(500)).subscribe(()=>{console.log("Attendance data saved!")})}onSubmit(){this.attendanceService.addAttendance({name:this.attendanceForm?.controls?.name.value,attendanceCal:[]}),this.attendanceForm?.reset()}deleteAttendance(e){this.attendanceService.deleteAttendance(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Fk),c.Y36($P))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-attendance"]],decls:13,vars:4,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-md-8"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["matInput","","type","text","placeholder","Enter new name here and click enter","id","name","formControlName","name",1,"form-control"],[1,"item-container"],[1,"col-md-8",2,"overflow","auto"],["style","width:200px;float: left;",4,"ngFor","ngForOf"],[2,"width","200px","float","left"],[2,"text-align","center","display","block"],[1,"full-width",2,"text-align","center"],[3,"dateChange"],["pickerCalendar",""],["placeholder","Click, enter dates, click save",3,"matDatepicker","name","ngModel","ngModelChange"],["mat-mini-fab","","color","primary","aria-label","save icon",3,"click"],["mat-mini-fab","","color","warn","aria-label","save icon",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),c._uU(4,"Attendance App"),c.qZA(),c.TgZ(5,"form",3),c.NdJ("ngSubmit",function(){return i.onSubmit()}),c.TgZ(6,"div",4),c._UZ(7,"mat-label",5)(8,"input",6),c.qZA()()()(),c.TgZ(9,"div",7)(10,"div",8),c.YNc(11,lV,16,4,"div",9),c.ALo(12,"keyvalue"),c.qZA()()()),2&e&&(c.xp6(5),c.Q6J("formGroup",i.attendanceForm),c.xp6(6),c.Q6J("ngForOf",c.lcZ(12,2,i.attendance)))},dependencies:[Lt,mk,bw,JM,XM,kS,Qd,PS,oh,A1,sA,Wx,pL,mL,hL,fL,ER,oV,tA,xr],styles:[".demo-inline-calendar-card[_ngcontent-%COMP%]{width:300px;height:300px;overflow:auto}.form-group[_ngcontent-%COMP%]{margin:3rem auto;width:400px;border-bottom:1px}.item-container[_ngcontent-%COMP%]{max-width:75%;margin:auto}ngx-multiple-dates[_ngcontent-%COMP%]{height:20rem!important;overflow-y:scroll!important}"]}),n})(),uV=(()=>{class n{constructor(){this.title="attendance-app"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"app-attendance")},dependencies:[cV]}),n})();function RR(n){return new c.vHH(3e3,!1)}function GV(){return typeof window<"u"&&typeof window.document<"u"}function EA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function au(n){switch(n.length){case 0:return new $v;case 1:return n[0];default:return new Hx(n)}}function OR(n,t,e,i,o=new Map,l=new Map){const h=[],g=[];let b=-1,w=null;if(i.forEach(S=>{const M=S.get("offset"),P=M==b,V=P&&w||new Map;S.forEach((z,te)=>{let Pe=te,Ne=z;if("offset"!==te)switch(Pe=t.normalizePropertyName(Pe,h),Ne){case rA:Ne=o.get(te);break;case bl:Ne=l.get(te);break;default:Ne=t.normalizeStyleValue(te,Pe,Ne,h)}V.set(Pe,Ne)}),P||g.push(V),w=V,b=M}),h.length)throw function OV(n){return new c.vHH(3502,!1)}();return g}function wA(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&DA(e,"start",n)));break;case"done":n.onDone(()=>i(e&&DA(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&DA(e,"destroy",n)))}}function DA(n,t,e){const l=IA(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),h=n._data;return null!=h&&(l._data=h),l}function IA(n,t,e,i,o="",l=0,h){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:l,disabled:!!h}}function ts(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function PR(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let SA=(n,t)=>!1,NR=(n,t,e)=>[],FR=null;function AA(n){const t=n.parentNode||n.host;return t===FR?null:t}(EA()||typeof Element<"u")&&(GV()?(FR=(()=>document.documentElement)(),SA=(n,t)=>{for(;t;){if(t===n)return!0;t=AA(t)}return!1}):SA=(n,t)=>n.contains(t),NR=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let lh=null,LR=!1;const VR=SA,BR=NR;let HR=(()=>{class n{validateStyleProperty(e){return function YV(n){lh||(lh=function KV(){return typeof document<"u"?document.body:null}()||{},LR=!!lh.style&&"WebkitAppearance"in lh.style);let t=!0;return lh.style&&!function WV(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in lh.style,!t&&LR&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in lh.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return VR(e,i)}getParentElement(e){return AA(e)}query(e,i,o){return BR(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,l,h,g=[],b){return new $v(o,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),TA=(()=>{class n{}return n.NOOP=new HR,n})();const qV=1e3,MA="ng-enter",Jw="ng-leave",Xw="ng-trigger",eD=".ng-trigger",jR="ng-animating",kA=".ng-animating";function El(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:xA(parseFloat(t[1]),t[2])}function xA(n,t){return"s"===t?n*qV:n}function tD(n,t,e){return n.hasOwnProperty("duration")?n:function QV(n,t,e){let o,l=0,h="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return t.push(RR()),{duration:0,delay:0,easing:""};o=xA(parseFloat(g[1]),g[2]);const b=g[3];null!=b&&(l=xA(parseFloat(b),g[4]));const w=g[5];w&&(h=w)}else o=n;if(!e){let g=!1,b=t.length;o<0&&(t.push(function dV(){return new c.vHH(3100,!1)}()),g=!0),l<0&&(t.push(function hV(){return new c.vHH(3101,!1)}()),g=!0),g&&t.splice(b,0,RR())}return{duration:o,delay:l,easing:h}}(n,t,e)}function Kv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function $R(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function lu(n,t=new Map,e){if(e)for(let[i,o]of e)t.set(i,o);for(let[i,o]of n)t.set(i,o);return t}function GR(n,t,e){return e?t+":"+e+";":""}function WR(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=GR(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=GR(0,tB(e),n.style[e]));n.setAttribute("style",t)}function ua(n,t,e){n.style&&(t.forEach((i,o)=>{const l=OA(o);e&&!e.has(o)&&e.set(o,n.style[l]),n.style[l]=i}),EA()&&WR(n))}function ch(n,t){n.style&&(t.forEach((e,i)=>{const o=OA(i);n.style[o]=""}),EA()&&WR(n))}function qv(n){return Array.isArray(n)?1==n.length?n[0]:Lx(n):n}const RA=new RegExp("{{\\s*(.+?)\\s*}}","g");function YR(n){let t=[];if("string"==typeof n){let e;for(;e=RA.exec(n);)t.push(e[1]);RA.lastIndex=0}return t}function Zv(n,t,e){const i=n.toString(),o=i.replace(RA,(l,h)=>{let g=t[h];return null==g&&(e.push(function pV(n){return new c.vHH(3003,!1)}()),g=""),g.toString()});return o==i?n:o}function nD(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const eB=/-+([a-z0-9])/g;function OA(n){return n.replace(eB,(...t)=>t[1].toUpperCase())}function tB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ns(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function mV(n){return new c.vHH(3004,!1)}()}}function KR(n,t){return window.getComputedStyle(n)[t]}const sD="*";function aB(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function lB(n,t,e){if(":"==n[0]){const b=function cB(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function MV(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function TV(n){return new c.vHH(3015,!1)}()),t;const o=i[1],l=i[2],h=i[3];t.push(qR(o,h));"<"==l[0]&&!(o==sD&&h==sD)&&t.push(qR(h,o))}(i,e,t)):e.push(n),e}const oD=new Set(["true","1"]),aD=new Set(["false","0"]);function qR(n,t){const e=oD.has(n)||aD.has(n),i=oD.has(t)||aD.has(t);return(o,l)=>{let h=n==sD||n==o,g=t==sD||t==l;return!h&&e&&"boolean"==typeof o&&(h=o?oD.has(n):aD.has(n)),!g&&i&&"boolean"==typeof l&&(g=l?oD.has(t):aD.has(t)),h&&g}}const uB=new RegExp("s*:selfs*,?","g");function PA(n,t,e,i){return new dB(n).build(t,e,i)}class dB{constructor(t){this._driver=t}build(t,e,i){const o=new pB(e);return this._resetContextStyleTimingState(o),ns(this,qv(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0;const l=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function _V(){return new c.vHH(3006,!1)}()),t.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const b=g,w=b.name;w.toString().split(/\s*,\s*/).forEach(S=>{b.name=S,l.push(this.visitState(b,e))}),b.name=w}else if(1==g.type){const b=this.visitTransition(g,e);i+=b.queryCount,o+=b.depCount,h.push(b)}else e.errors.push(function yV(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:l,transitions:h,queryCount:i,depCount:o,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,h=o||{};i.styles.forEach(g=>{g instanceof Map&&g.forEach(b=>{YR(b).forEach(w=>{h.hasOwnProperty(w)||l.add(w)})})}),l.size&&(nD(l.values()),e.errors.push(function vV(n,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ns(this,qv(t.animation),e);return{type:1,matchers:aB(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:uh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ns(this,i,e)),options:uh(t.options)}}visitGroup(t,e){const i=e.currentTime;let o=0;const l=t.steps.map(h=>{e.currentTime=i;const g=ns(this,h,e);return o=Math.max(o,e.currentTime),g});return e.currentTime=o,{type:3,steps:l,options:uh(t.options)}}visitAnimate(t,e){const i=function gB(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return NA(tD(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=NA(0,0,"");return l.dynamic=!0,l.strValue=e,l}const o=tD(e,t);return NA(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let o,l=t.styles?t.styles:Co({});if(5==l.type)o=this.visitKeyframes(l,e);else{let h=t.styles,g=!1;if(!h){g=!0;const w={};i.easing&&(w.easing=i.easing),h=Co(w)}e.currentTime+=i.duration+i.delay;const b=this.visitStyle(h,e);b.isEmptyStep=g,o=b}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let g of o)"string"==typeof g?g===bl?i.push(g):e.errors.push(new c.vHH(3002,!1)):i.push($R(g));let l=!1,h=null;return i.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(h=g.get("easing"),g.delete("easing")),!l))for(let b of g.values())if(b.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:i,easing:h,offset:t.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(h=>{"string"!=typeof h&&h.forEach((g,b)=>{const w=e.collectedStyles.get(e.currentQuerySelector),S=w.get(b);let M=!0;S&&(l!=o&&l>=S.startTime&&o<=S.endTime&&(e.errors.push(function CV(n,t,e,i,o){return new c.vHH(3010,!1)}()),M=!1),l=S.startTime),M&&w.set(b,{startTime:l,endTime:o}),e.options&&function XV(n,t,e){const i=t.params||{},o=YR(n);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||e.push(function fV(n){return new c.vHH(3001,!1)}())})}(g,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function EV(){return new c.vHH(3011,!1)}()),i;let l=0;const h=[];let g=!1,b=!1,w=0;const S=t.steps.map(Ne=>{const Xe=this._makeStyleAst(Ne,e);let Ot=null!=Xe.offset?Xe.offset:function mB(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Xe.styles),vt=0;return null!=Ot&&(l++,vt=Xe.offset=Ot),b=b||vt<0||vt>1,g=g||vt<w,w=vt,h.push(vt),Xe});b&&e.errors.push(function wV(){return new c.vHH(3012,!1)}()),g&&e.errors.push(function DV(){return new c.vHH(3200,!1)}());const M=t.steps.length;let P=0;l>0&&l<M?e.errors.push(function IV(){return new c.vHH(3202,!1)}()):0==l&&(P=1/(M-1));const V=M-1,z=e.currentTime,te=e.currentAnimateTimings,Pe=te.duration;return S.forEach((Ne,Xe)=>{const Ot=P>0?Xe==V?1:P*Xe:h[Xe],vt=Ot*Pe;e.currentTime=z+te.delay+vt,te.duration=vt,this._validateStyleAst(Ne,e),Ne.offset=Ot,i.styles.push(Ne)}),i}visitReference(t,e){return{type:8,animation:ns(this,qv(t.animation),e),options:uh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:uh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:uh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[l,h]=function hB(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(uB,"")),n=n.replace(/@\*/g,eD).replace(/@\w+/g,e=>eD+"-"+e.slice(1)).replace(/:animating/g,kA),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,ts(e.collectedStyles,e.currentQuerySelector,new Map);const g=ns(this,qv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:g,originalSelector:t.selector,options:uh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function SV(){return new c.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:tD(t.timings,e.errors,!0);return{type:12,animation:ns(this,qv(t.animation),e),timings:i,options:null}}}class pB{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function uh(n){return n?(n=Kv(n)).params&&(n.params=function fB(n){return n?Kv(n):null}(n.params)):n={},n}function NA(n,t,e){return{duration:n,delay:t,easing:e}}function FA(n,t,e,i,o,l,h=null,g=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:g}}class lD{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const vB=new RegExp(":enter","g"),CB=new RegExp(":leave","g");function LA(n,t,e,i,o,l=new Map,h=new Map,g,b,w=[]){return(new EB).buildKeyframes(n,t,e,i,o,l,h,g,b,w)}class EB{buildKeyframes(t,e,i,o,l,h,g,b,w,S=[]){w=w||new lD;const M=new VA(t,e,w,o,l,S,[]);M.options=b;const P=b.delay?El(b.delay):0;M.currentTimeline.delayNextStep(P),M.currentTimeline.setStyles([h],null,M.errors,b),ns(this,i,M);const V=M.timelines.filter(z=>z.containsAnimation());if(V.length&&g.size){let z;for(let te=V.length-1;te>=0;te--){const Pe=V[te];if(Pe.element===e){z=Pe;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([g],null,M.errors,b)}return V.length?V.map(z=>z.buildKeyframes()):[FA(e,[],[],[],0,P,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(t.options),l=e.currentTimeline.currentTime,h=this._visitSubInstructions(i,o,o.options);l!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const o of t){const l=o?.delay;if(l){const h="number"==typeof l?l:El(Zv(l,o?.params??{},e.errors));i.delayNextStep(h)}}}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const h=null!=i.duration?El(i.duration):null,g=null!=i.delay?El(i.delay):null;return 0!==h&&t.forEach(b=>{const w=e.appendInstructionToTimeline(b,h,g);l=Math.max(l,w.duration+w.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),ns(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let o=e;const l=t.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=cD);const h=El(l.delay);o.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>ns(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let o=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?El(t.options.delay):0;t.steps.forEach(h=>{const g=e.createSubContext(t.options);l&&g.delayNextStep(l),ns(this,h,g),o=Math.max(o,g.currentTimeline.currentTime),i.push(g.currentTimeline)}),i.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return tD(e.params?Zv(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const l=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,l=i.duration,g=e.createSubContext().currentTimeline;g.easing=i.easing,t.styles.forEach(b=>{g.forwardTime((b.offset||0)*l),g.setStyles(b.styles,b.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(o+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,o=t.options||{},l=o.delay?El(o.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cD);let h=i;const g=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=g.length;let b=null;g.forEach((w,S)=>{e.currentQueryIndex=S;const M=e.createSubContext(t.options,w);l&&M.delayNextStep(l),w===e.element&&(b=M.currentTimeline),ns(this,t.animation,M),M.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,M.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,o=e.currentTimeline,l=t.timings,h=Math.abs(l.duration),g=h*(e.currentQueryTotal-1);let b=h*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=g-b;break;case"full":b=i.currentStaggerTime}const S=e.currentTimeline;b&&S.delayNextStep(b);const M=S.currentTime;ns(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-M+(o.startTime-i.currentTimeline.startTime)}}const cD={};class VA{constructor(t,e,i,o,l,h,g,b){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new uD(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let o=this.options;null!=i.duration&&(o.duration=El(i.duration)),null!=i.delay&&(o.delay=El(i.delay));const l=i.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(g=>{(!e||!h.hasOwnProperty(g))&&(h[g]=Zv(l[g],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){const o=e||this.element,l=new VA(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=cD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},l=new wB(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,l,h){let g=[];if(o&&g.push(this.element),t.length>0){t=(t=t.replace(vB,"."+this._enterClassName)).replace(CB,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),g.push(...w)}return!l&&0==g.length&&h.push(function AV(n){return new c.vHH(3014,!1)}()),g}}class uD{constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||bl),this._currentKeyframe.set(e,bl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&this._previousKeyframe.set("easing",e);const l=o&&o.params||{},h=function DB(n,t){const e=new Map;let i;return n.forEach(o=>{if("*"===o){i=i||t.keys();for(let l of i)e.set(l,bl)}else lu(o,e)}),e}(t,this._globalTimelineStyles);for(let[g,b]of h){const w=Zv(b,l,i);this._pendingStyles.set(g,w),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??bl),this._updateStyle(g,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,b)=>{const w=lu(g,new Map,this._backFill);w.forEach((S,M)=>{S===rA?t.add(M):S===bl&&e.add(M)}),i||w.set("offset",b/this.duration),o.push(w)});const l=t.size?nD(t.values()):[],h=e.size?nD(e.values()):[];if(i){const g=o[0],b=new Map(g);g.set("offset",0),b.set("offset",1),o=[g,b]}return FA(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class wB extends uD{constructor(t,e,i,o,l,h,g=!1){super(t,e,h.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],h=i+e,g=e/h,b=lu(t[0]);b.set("offset",0),l.push(b);const w=lu(t[0]);w.set("offset",JR(g)),l.push(w);const S=t.length-1;for(let M=1;M<=S;M++){let P=lu(t[M]);const V=P.get("offset");P.set("offset",JR((e+V*i)/h)),l.push(P)}i=h,e=0,o="",t=l}return FA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function JR(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class BA{}const IB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class SB extends BA{normalizePropertyName(t,e){return OA(t)}normalizeStyleValue(t,e,i,o){let l="";const h=i.toString().trim();if(IB.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const g=i.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function gV(n,t){return new c.vHH(3005,!1)}())}return h+l}}function XR(n,t,e,i,o,l,h,g,b,w,S,M,P){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:l,toState:i,toStyles:h,timelines:g,queriedElements:b,preStyleProps:w,postStyleProps:S,totalTime:M,errors:P}}const HA={};class eO{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return function AB(n,t,e,i,o){return n.some(l=>l(t,e,i,o))}(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,i):new Map}build(t,e,i,o,l,h,g,b,w,S){const M=[],P=this.ast.options&&this.ast.options.params||HA,z=this.buildStyles(i,g&&g.params||HA,M),te=b&&b.params||HA,Pe=this.buildStyles(o,te,M),Ne=new Set,Xe=new Map,Ot=new Map,vt="void"===o,ni={params:TB(te,P),delay:this.ast.options?.delay},mi=S?[]:LA(t,e,this.ast.animation,l,h,z,Pe,ni,w,M);let rr=0;if(mi.forEach(Dl=>{rr=Math.max(Dl.duration+Dl.delay,rr)}),M.length)return XR(e,this._triggerName,i,o,vt,z,Pe,[],[],Xe,Ot,rr,M);mi.forEach(Dl=>{const Il=Dl.element,mO=ts(Xe,Il,new Set);Dl.preStyleProps.forEach(dh=>mO.add(dh));const Jv=ts(Ot,Il,new Set);Dl.postStyleProps.forEach(dh=>Jv.add(dh)),Il!==e&&Ne.add(Il)});const wl=nD(Ne.values());return XR(e,this._triggerName,i,o,vt,z,Pe,mi,wl,Xe,Ot,rr)}}function TB(n,t){const e=Kv(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class MB{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,o=Kv(this.defaultParams);return Object.keys(t).forEach(l=>{const h=t[l];null!==h&&(o[l]=h)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,g)=>{h&&(h=Zv(h,o,e));const b=this.normalizer.normalizePropertyName(g,e);h=this.normalizer.normalizeStyleValue(g,b,h,e),i.set(b,h)})}),i}}class xB{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new MB(o.style,o.options&&o.options.params||{},i))}),tO(this.states,"true","1"),tO(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new eO(t,o,this.states))}),this.fallbackTransition=function RB(n,t,e){return new eO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(h=>h.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function tO(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const OB=new lD;class PB{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=[],l=PA(this._driver,e,i,o);if(i.length)throw function PV(n){return new c.vHH(3503,!1)}();this._animations.set(t,l)}_buildPlayer(t,e,i){const o=t.element,l=OR(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(o,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const o=[],l=this._animations.get(t);let h;const g=new Map;if(l?(h=LA(this._driver,e,l,MA,Jw,new Map,new Map,i,OB,o),h.forEach(S=>{const M=ts(g,S.element,new Map);S.postStyleProps.forEach(P=>M.set(P,null))})):(o.push(function NV(){return new c.vHH(3300,!1)}()),h=[]),o.length)throw function FV(n){return new c.vHH(3504,!1)}();g.forEach((S,M)=>{S.forEach((P,V)=>{S.set(V,this._driver.computeStyle(M,V,bl))})});const w=au(h.map(S=>{const M=g.get(S.element);return this._buildPlayer(S,new Map,M)}));return this._playersById.set(t,w),w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function LV(n){return new c.vHH(3301,!1)}();return e}listen(t,e,i,o){const l=IA(e,"","","");return wA(this._getPlayer(t),i,l,o),()=>{}}command(t,e,i,o){if("register"==i)return void this.register(t,o[0]);if("create"==i)return void this.create(t,e,o[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const nO="ng-animate-queued",UA="ng-animate-disabled",BB=[],iO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ms="__ng_removed";class jA{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function zB(n){return n??null}(i?t.value:t),i){const l=Kv(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const Qv="void",$A=new jA(Qv);class UB{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ks(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.has(e))throw function VV(n,t){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function BV(n){return new c.vHH(3303,!1)}();if(!function GB(n){return"start"==n||"done"==n}(i))throw function HV(n,t){return new c.vHH(3400,!1)}();const l=ts(this._elementListeners,t,[]),h={name:e,phase:i,callback:o};l.push(h);const g=ts(this._engine.statesByElement,t,new Map);return g.has(e)||(ks(t,Xw),ks(t,Xw+"-"+e),g.set(e,$A)),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(h);b>=0&&l.splice(b,1),this._triggers.has(e)||g.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function UV(n){return new c.vHH(3401,!1)}();return e}trigger(t,e,i,o=!0){const l=this._getTrigger(e),h=new zA(this.id,e,t);let g=this._engine.statesByElement.get(t);g||(ks(t,Xw),ks(t,Xw+"-"+e),this._engine.statesByElement.set(t,g=new Map));let b=g.get(e);const w=new jA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&b&&w.absorbOptions(b.options),g.set(e,w),b||(b=$A),w.value!==Qv&&b.value===w.value){if(!function KB(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(b.params,w.params)){const te=[],Pe=l.matchStyles(b.value,b.params,te),Ne=l.matchStyles(w.value,w.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{ch(t,Pe),ua(t,Ne)})}return}const P=ts(this._engine.playersByElement,t,[]);P.forEach(te=>{te.namespaceId==this.id&&te.triggerName==e&&te.queued&&te.destroy()});let V=l.matchTransition(b.value,w.value,t,w.params),z=!1;if(!V){if(!o)return;V=l.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:V,fromState:b,toState:w,player:h,isFallbackTransition:z}),z||(ks(t,nO),h.onStart(()=>{Nm(t,nO)})),h.onDone(()=>{let te=this.players.indexOf(h);te>=0&&this.players.splice(te,1);const Pe=this._engine.playersByElement.get(t);if(Pe){let Ne=Pe.indexOf(h);Ne>=0&&Pe.splice(Ne,1)}}),this.players.push(h),P.push(h),h}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,eD,!0);i.forEach(o=>{if(o[Ms])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){const l=this._engine.statesByElement.get(t),h=new Map;if(l){const g=[];if(l.forEach((b,w)=>{if(h.set(w,b.value),this._triggers.has(w)){const S=this.trigger(t,w,Qv,o);S&&g.push(S)}}),g.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),i&&au(g).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const o=new Set;e.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const b=this._triggers.get(h).fallbackTransition,w=i.get(h)||$A,S=new jA(Qv),M=new zA(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:b,fromState:w,toState:S,player:M,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)o=!0;else{let h=t;for(;h=h.parentNode;)if(i.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[Ms];(!l||l===iO)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ks(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,h=this._elementListeners.get(l);h&&h.forEach(g=>{if(g.name==i.triggerName){const b=IA(l,i.triggerName,i.fromState.value,i.toState.value);b._data=t,wA(i.player,g.phase,b,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const l=i.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class jB{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new UB(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let h=!1,g=this.driver.getParentElement(e);for(;g;){const b=o.get(g);if(b){const w=i.indexOf(b);i.splice(w+1,0,t),h=!0;break}g=this.driver.getParentElement(g)}h||i.unshift(t)}else i.push(t);return o.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let o of i.values())if(o.namespaceId){const l=this._fetchNamespace(o.namespaceId);l&&e.add(l)}return e}trigger(t,e,i,o){if(dD(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!dD(e))return;const l=e[Ms];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ks(t,UA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Nm(t,UA))}removeNode(t,e,i,o){if(dD(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),i){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,i,o,l){this.collectedLeaveElements.push(e),e[Ms]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,o,l){return dD(e)?this._fetchNamespace(t).listen(e,i,o,l):()=>{}}_buildInstruction(t,e,i,o,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,eD,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,kA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return au(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ms];if(e&&e.setForRemoval){if(t[Ms]=iO,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(UA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ks(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?au(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw function jV(n){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new lD,o=[],l=new Map,h=[],g=new Map,b=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(qe=>{S.add(qe);const lt=this.driver.query(qe,".ng-animate-queued",!0);for(let pt=0;pt<lt.length;pt++)S.add(lt[pt])});const M=this.bodyNode,P=Array.from(this.statesByElement.keys()),V=oO(P,this.collectedEnterElements),z=new Map;let te=0;V.forEach((qe,lt)=>{const pt=MA+te++;z.set(lt,pt),qe.forEach(Bt=>ks(Bt,pt))});const Pe=[],Ne=new Set,Xe=new Set;for(let qe=0;qe<this.collectedLeaveElements.length;qe++){const lt=this.collectedLeaveElements[qe],pt=lt[Ms];pt&&pt.setForRemoval&&(Pe.push(lt),Ne.add(lt),pt.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(Bt=>Ne.add(Bt)):Xe.add(lt))}const Ot=new Map,vt=oO(P,Array.from(Ne));vt.forEach((qe,lt)=>{const pt=Jw+te++;Ot.set(lt,pt),qe.forEach(Bt=>ks(Bt,pt))}),t.push(()=>{V.forEach((qe,lt)=>{const pt=z.get(lt);qe.forEach(Bt=>Nm(Bt,pt))}),vt.forEach((qe,lt)=>{const pt=Ot.get(lt);qe.forEach(Bt=>Nm(Bt,pt))}),Pe.forEach(qe=>{this.processLeaveNode(qe)})});const ni=[],mi=[];for(let qe=this._namespaceList.length-1;qe>=0;qe--)this._namespaceList[qe].drainQueuedTransitions(e).forEach(pt=>{const Bt=pt.player,gi=pt.element;if(ni.push(Bt),this.collectedEnterElements.length){const Gi=gi[Ms];if(Gi&&Gi.setForMove){if(Gi.previousTriggersValues&&Gi.previousTriggersValues.has(pt.triggerName)){const hh=Gi.previousTriggersValues.get(pt.triggerName),xs=this.statesByElement.get(pt.element);if(xs&&xs.has(pt.triggerName)){const pD=xs.get(pt.triggerName);pD.value=hh,xs.set(pt.triggerName,pD)}}return void Bt.destroy()}}const da=!M||!this.driver.containsElement(M,gi),is=Ot.get(gi),cu=z.get(gi),Sn=this._buildInstruction(pt,i,cu,is,da);if(Sn.errors&&Sn.errors.length)return void mi.push(Sn);if(da)return Bt.onStart(()=>ch(gi,Sn.fromStyles)),Bt.onDestroy(()=>ua(gi,Sn.toStyles)),void o.push(Bt);if(pt.isFallbackTransition)return Bt.onStart(()=>ch(gi,Sn.fromStyles)),Bt.onDestroy(()=>ua(gi,Sn.toStyles)),void o.push(Bt);const yO=[];Sn.timelines.forEach(Gi=>{Gi.stretchStartingKeyframe=!0,this.disabledNodes.has(Gi.element)||yO.push(Gi)}),Sn.timelines=yO,i.append(gi,Sn.timelines),h.push({instruction:Sn,player:Bt,element:gi}),Sn.queriedElements.forEach(Gi=>ts(g,Gi,[]).push(Bt)),Sn.preStyleProps.forEach((Gi,hh)=>{if(Gi.size){let xs=b.get(hh);xs||b.set(hh,xs=new Set),Gi.forEach((pD,YA)=>xs.add(YA))}}),Sn.postStyleProps.forEach((Gi,hh)=>{let xs=w.get(hh);xs||w.set(hh,xs=new Set),Gi.forEach((pD,YA)=>xs.add(YA))})});if(mi.length){const qe=[];mi.forEach(lt=>{qe.push(function $V(n,t){return new c.vHH(3505,!1)}())}),ni.forEach(lt=>lt.destroy()),this.reportError(qe)}const rr=new Map,wl=new Map;h.forEach(qe=>{const lt=qe.element;i.has(lt)&&(wl.set(lt,lt),this._beforeAnimationBuild(qe.player.namespaceId,qe.instruction,rr))}),o.forEach(qe=>{const lt=qe.element;this._getPreviousPlayers(lt,!1,qe.namespaceId,qe.triggerName,null).forEach(Bt=>{ts(rr,lt,[]).push(Bt),Bt.destroy()})});const Dl=Pe.filter(qe=>lO(qe,b,w)),Il=new Map;sO(Il,this.driver,Xe,w,bl).forEach(qe=>{lO(qe,b,w)&&Dl.push(qe)});const Jv=new Map;V.forEach((qe,lt)=>{sO(Jv,this.driver,new Set(qe),b,rA)}),Dl.forEach(qe=>{const lt=Il.get(qe),pt=Jv.get(qe);Il.set(qe,new Map([...Array.from(lt?.entries()??[]),...Array.from(pt?.entries()??[])]))});const dh=[],gO=[],_O={};h.forEach(qe=>{const{element:lt,player:pt,instruction:Bt}=qe;if(i.has(lt)){if(S.has(lt))return pt.onDestroy(()=>ua(lt,Bt.toStyles)),pt.disabled=!0,pt.overrideTotalTime(Bt.totalTime),void o.push(pt);let gi=_O;if(wl.size>1){let is=lt;const cu=[];for(;is=is.parentNode;){const Sn=wl.get(is);if(Sn){gi=Sn;break}cu.push(is)}cu.forEach(Sn=>wl.set(Sn,gi))}const da=this._buildAnimation(pt.namespaceId,Bt,rr,l,Jv,Il);if(pt.setRealPlayer(da),gi===_O)dh.push(pt);else{const is=this.playersByElement.get(gi);is&&is.length&&(pt.parentPlayer=au(is)),o.push(pt)}}else ch(lt,Bt.fromStyles),pt.onDestroy(()=>ua(lt,Bt.toStyles)),gO.push(pt),S.has(lt)&&o.push(pt)}),gO.forEach(qe=>{const lt=l.get(qe.element);if(lt&&lt.length){const pt=au(lt);qe.setRealPlayer(pt)}}),o.forEach(qe=>{qe.parentPlayer?qe.syncPlayerEvents(qe.parentPlayer):qe.destroy()});for(let qe=0;qe<Pe.length;qe++){const lt=Pe[qe],pt=lt[Ms];if(Nm(lt,Jw),pt&&pt.hasAnimation)continue;let Bt=[];if(g.size){let da=g.get(lt);da&&da.length&&Bt.push(...da);let is=this.driver.query(lt,kA,!0);for(let cu=0;cu<is.length;cu++){let Sn=g.get(is[cu]);Sn&&Sn.length&&Bt.push(...Sn)}}const gi=Bt.filter(da=>!da.destroyed);gi.length?WB(this,lt,gi):this.processLeaveNode(lt)}return Pe.length=0,dh.forEach(qe=>{this.players.push(qe),qe.onDone(()=>{qe.destroy();const lt=this.players.indexOf(qe);this.players.splice(lt,1)}),qe.play()}),dh}elementContainsData(t,e){let i=!1;const o=e[Ms];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,l){let h=[];if(e){const g=this.playersByQueriedElement.get(t);g&&(h=g)}else{const g=this.playersByElement.get(t);if(g){const b=!l||l==Qv;g.forEach(w=>{w.queued||!b&&w.triggerName!=o||h.push(w)})}}return(i||o)&&(h=h.filter(g=>!(i&&i!=g.namespaceId||o&&o!=g.triggerName))),h}_beforeAnimationBuild(t,e,i){const l=e.element,h=e.isRemovalTransition?void 0:t,g=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const w=b.element,S=w!==l,M=ts(i,w,[]);this._getPreviousPlayers(w,S,h,g,e.toState).forEach(V=>{const z=V.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),V.destroy(),M.push(V)})}ch(l,e.fromStyles)}_buildAnimation(t,e,i,o,l,h){const g=e.triggerName,b=e.element,w=[],S=new Set,M=new Set,P=e.timelines.map(z=>{const te=z.element;S.add(te);const Pe=te[Ms];if(Pe&&Pe.removedBeforeQueried)return new $v(z.duration,z.delay);const Ne=te!==b,Xe=function YB(n){const t=[];return aO(n,t),t}((i.get(te)||BB).map(rr=>rr.getRealPlayer())).filter(rr=>!!rr.element&&rr.element===te),Ot=l.get(te),vt=h.get(te),ni=OR(0,this._normalizer,0,z.keyframes,Ot,vt),mi=this._buildPlayer(z,ni,Xe);if(z.subTimeline&&o&&M.add(te),Ne){const rr=new zA(t,g,te);rr.setRealPlayer(mi),w.push(rr)}return mi});w.forEach(z=>{ts(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function $B(n,t,e){let i=n.get(t);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,z.element,z))}),S.forEach(z=>ks(z,jR));const V=au(P);return V.onDestroy(()=>{S.forEach(z=>Nm(z,jR)),ua(b,e.toStyles)}),M.forEach(z=>{ts(o,z,[]).push(V)}),V}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new $v(t.duration,t.delay)}}class zA{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new $v,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>wA(t,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ts(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dD(n){return n&&1===n.nodeType}function rO(n,t){const e=n.style.display;return n.style.display=t??"none",e}function sO(n,t,e,i,o){const l=[];e.forEach(b=>l.push(rO(b)));const h=[];i.forEach((b,w)=>{const S=new Map;b.forEach(M=>{const P=t.computeStyle(w,M,o);S.set(M,P),(!P||0==P.length)&&(w[Ms]=HB,h.push(w))}),n.set(w,S)});let g=0;return e.forEach(b=>rO(b,l[g++])),h}function oO(n,t){const e=new Map;if(n.forEach(g=>e.set(g,[])),0==t.length)return e;const i=1,o=new Set(t),l=new Map;function h(g){if(!g)return i;let b=l.get(g);if(b)return b;const w=g.parentNode;return b=e.has(w)?w:o.has(w)?i:h(w),l.set(g,b),b}return t.forEach(g=>{const b=h(g);b!==i&&e.get(b).push(g)}),e}function ks(n,t){n.classList?.add(t)}function Nm(n,t){n.classList?.remove(t)}function WB(n,t,e){au(e).onDone(()=>n.processLeaveNode(t))}function aO(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Hx?aO(i.players,t):t.push(i)}}function lO(n,t,e){const i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(l=>o.add(l)):t.set(n,i),e.delete(n),!0}class hD{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new jB(t,e,i),this._timelineEngine=new PB(t,e,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(t,e,i,o,l){const h=t+"-"+o;let g=this._triggerCache[h];if(!g){const b=[],w=[],S=PA(this._driver,l,b,w);if(b.length)throw function RV(n,t){return new c.vHH(3404,!1)}();g=function kB(n,t,e){return new xB(n,t,e)}(o,S,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(e,o,g)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i,o){this._transitionEngine.removeNode(t,e,o||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if("@"==i.charAt(0)){const[l,h]=PR(i);this._timelineEngine.command(l,e,h,o)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,l){if("@"==i.charAt(0)){const[h,g]=PR(i);return this._timelineEngine.listen(h,e,g,l)}return this._transitionEngine.listen(t,e,i,o,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ZB=(()=>{class n{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&ua(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ua(this._element,this._initialStyles),this._endStyles&&(ua(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ch(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ch(this._element,this._endStyles),this._endStyles=null),ua(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function GA(n){let t=null;return n.forEach((e,i)=>{(function QB(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class cO{constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&t.set(o,this._finished?i:KR(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class JB{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return VR(t,e)}getParentElement(t){return AA(t)}query(t,e,i){return BR(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,o,l,h=[]){const b={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(b.easing=l);const w=new Map,S=h.filter(V=>V instanceof cO);(function nB(n,t){return 0===n||0===t})(i,o)&&S.forEach(V=>{V.currentSnapshot.forEach((z,te)=>w.set(te,z))});let M=function JV(n){return n.length?n[0]instanceof Map?n:n.map(t=>$R(t)):[]}(e).map(V=>lu(V));M=function iB(n,t,e){if(e.size&&t.length){let i=t[0],o=[];if(e.forEach((l,h)=>{i.has(h)||o.push(h),i.set(h,l)}),o.length)for(let l=1;l<t.length;l++){let h=t[l];o.forEach(g=>h.set(g,KR(n,g)))}}return t}(t,M,w);const P=function qB(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=GA(t[0]),t.length>1&&(i=GA(t[t.length-1]))):t instanceof Map&&(e=GA(t)),e||i?new ZB(n,e,i):null}(t,M);return new cO(t,M,b,P)}}let XB=(()=>{class n extends Fx{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?Lx(e):e;return uO(this._renderer,null,i,"register",[o]),new e2(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class e2 extends e1{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new t2(this._id,t,e||{},this._renderer)}}class t2{constructor(t,e,i,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return uO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function uO(n,t,e,i,o){return n.setProperty(t,`@@${e}:${i}`,o)}const dO="@.disabled";let n2=(()=>{class n{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,h)=>{const g=h?.parentNode(l);g&&h.removeChild(g,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let S=this._rendererCache.get(l);return S||(S=new hO("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,S)),S}const h=i.id,g=i.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const b=S=>{Array.isArray(S)?S.forEach(b):this.engine.registerTrigger(h,g,e,S.name,S)};return i.data.animation.forEach(b),new r2(this,g,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,g]=l;h(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(hD),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class hO{constructor(t,e,i,o){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?l=>e.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==dO?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class r2 extends hO{constructor(t,e,i,o,l){super(e,i,o,l),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==dO?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const o=function s2(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.slice(1),h="";return"@"!=l.charAt(0)&&([l,h]=function o2(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,i,g)})}return this.delegate.listen(t,e,i)}}const fO=[{provide:Fx,useClass:XB},{provide:BA,useFactory:function l2(){return new SB}},{provide:hD,useClass:(()=>{class n extends hD{constructor(e,i,o,l){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe),c.LFG(TA),c.LFG(BA),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:c.FYo,useFactory:function c2(n,t,e){return new n2(n,t,e)},deps:[Sa,hD,c.R0b]}],WA=[{provide:TA,useFactory:()=>new JB},{provide:c.QbO,useValue:"BrowserAnimations"},...fO],pO=[{provide:TA,useClass:HR},{provide:c.QbO,useValue:"NoopAnimations"},...fO];let u2=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?pO:WA}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:WA,imports:[jh]}),n})(),d2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[uV]}),n.\u0275inj=c.cJS({providers:[Fk,wM],imports:[jh,u2,jP,HO,VS,rR,Yx,zF,gL,xR,OL,wR,aV,Nx]}),n})();Yl().bootstrapModule(d2).catch(n=>console.error(n))},8306:(tt,be,R)=>{R.d(be,{y:()=>U});var c=R(930),Q=R(727),L=R(8822),ae=R(4671);var oe=R(2416),Ce=R(576),Se=R(2806);let U=(()=>{class Ee{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const J=new Ee;return J.source=this,J.operator=ke,J}subscribe(ke,J,ce){const je=function Le(Ee){return Ee&&Ee instanceof c.Lv||function Y(Ee){return Ee&&(0,Ce.m)(Ee.next)&&(0,Ce.m)(Ee.error)&&(0,Ce.m)(Ee.complete)}(Ee)&&(0,Q.Nn)(Ee)}(ke)?ke:new c.Hp(ke,J,ce);return(0,Se.x)(()=>{const{operator:Je,source:ve}=this;je.add(Je?Je.call(je,ve):ve?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(ke){try{return this._subscribe(ke)}catch(J){ke.error(J)}}forEach(ke,J){return new(J=H(J))((ce,je)=>{const Je=new c.Hp({next:ve=>{try{ke(ve)}catch(ie){je(ie),Je.unsubscribe()}},error:je,complete:ce});this.subscribe(Je)})}_subscribe(ke){var J;return null===(J=this.source)||void 0===J?void 0:J.subscribe(ke)}[L.L](){return this}pipe(...ke){return function pe(Ee){return 0===Ee.length?ae.y:1===Ee.length?Ee[0]:function(ke){return Ee.reduce((J,ce)=>ce(J),ke)}}(ke)(this)}toPromise(ke){return new(ke=H(ke))((J,ce)=>{let je;this.subscribe(Je=>je=Je,Je=>ce(Je),()=>J(je))})}}return Ee.create=Ie=>new Ee(Ie),Ee})();function H(Ee){var Ie;return null!==(Ie=Ee??oe.v.Promise)&&void 0!==Ie?Ie:Promise}},7579:(tt,be,R)=>{R.d(be,{x:()=>oe});var c=R(8306),Q=R(727);const ae=(0,R(3888).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=R(8737),pe=R(2806);let oe=(()=>{class Se extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Y=new Ce(this,this);return Y.operator=H,Y}_throwIfClosed(){if(this.closed)throw new ae}next(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(H)}})}error(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Y}=this;for(;Y.length;)Y.shift().error(H)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Y,isStopped:Le,observers:Ee}=this;return Y||Le?Q.Lc:(this.currentObservers=null,Ee.push(H),new Q.w0(()=>{this.currentObservers=null,(0,me.P)(Ee,H)}))}_checkFinalizedStatuses(H){const{hasError:Y,thrownError:Le,isStopped:Ee}=this;Y?H.error(Le):Ee&&H.complete()}asObservable(){const H=new c.y;return H.source=this,H}}return Se.create=(U,H)=>new Ce(U,H),Se})();class Ce extends oe{constructor(U,H){super(),this.destination=U,this.source=H}next(U){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Y||Y.call(H,U)}error(U){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Y||Y.call(H,U)}complete(){var U,H;null===(H=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===H||H.call(U)}_subscribe(U){var H,Y;return null!==(Y=null===(H=this.source)||void 0===H?void 0:H.subscribe(U))&&void 0!==Y?Y:Q.Lc}}},930:(tt,be,R)=>{R.d(be,{Hp:()=>ke,Lv:()=>Y});var c=R(576),Q=R(727),L=R(2416),ae=R(7849),me=R(5032);const pe=Se("C",void 0,void 0);function Se(ve,ie,ne){return{kind:ve,value:ie,error:ne}}var U=R(3410),H=R(2806);class Y extends Q.w0{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,Q.Nn)(ie)&&ie.add(this)):this.destination=Je}static create(ie,ne,Oe){return new ke(ie,ne,Oe)}next(ie){this.isStopped?je(function Ce(ve){return Se("N",ve,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?je(function oe(ve){return Se("E",void 0,ve)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?je(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ee(ve,ie){return Le.call(ve,ie)}class Ie{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:ne}=this;if(ne.next)try{ne.next(ie)}catch(Oe){J(Oe)}}error(ie){const{partialObserver:ne}=this;if(ne.error)try{ne.error(ie)}catch(Oe){J(Oe)}else J(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(ne){J(ne)}}}class ke extends Y{constructor(ie,ne,Oe){let Fe;if(super(),(0,c.m)(ie)||!ie)Fe={next:ie??void 0,error:ne??void 0,complete:Oe??void 0};else{let Ve;this&&L.v.useDeprecatedNextContext?(Ve=Object.create(ie),Ve.unsubscribe=()=>this.unsubscribe(),Fe={next:ie.next&&Ee(ie.next,Ve),error:ie.error&&Ee(ie.error,Ve),complete:ie.complete&&Ee(ie.complete,Ve)}):Fe=ie}this.destination=new Ie(Fe)}}function J(ve){L.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(ve):(0,ae.h)(ve)}function je(ve,ie){const{onStoppedNotification:ne}=L.v;ne&&U.z.setTimeout(()=>ne(ve,ie))}const Je={closed:!0,next:me.Z,error:function ce(ve){throw ve},complete:me.Z}},727:(tt,be,R)=>{R.d(be,{Lc:()=>pe,w0:()=>me,Nn:()=>oe});var c=R(576);const L=(0,R(3888).d)(Se=>function(H){Se(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Y,Le)=>`${Le+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ae=R(8737);class me{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ee of H)Ee.remove(this);else H.remove(this);const{initialTeardown:Y}=this;if((0,c.m)(Y))try{Y()}catch(Ee){U=Ee instanceof L?Ee.errors:[Ee]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Ee of Le)try{Ce(Ee)}catch(Ie){U=U??[],Ie instanceof L?U=[...U,...Ie.errors]:U.push(Ie)}}if(U)throw new L(U)}}add(U){var H;if(U&&U!==this)if(this.closed)Ce(U);else{if(U instanceof me){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(U)}}_hasParent(U){const{_parentage:H}=this;return H===U||Array.isArray(H)&&H.includes(U)}_addParent(U){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(U),H):H?[H,U]:U}_removeParent(U){const{_parentage:H}=this;H===U?this._parentage=null:Array.isArray(H)&&(0,ae.P)(H,U)}remove(U){const{_finalizers:H}=this;H&&(0,ae.P)(H,U),U instanceof me&&U._removeParent(this)}}me.EMPTY=(()=>{const Se=new me;return Se.closed=!0,Se})();const pe=me.EMPTY;function oe(Se){return Se instanceof me||Se&&"closed"in Se&&(0,c.m)(Se.remove)&&(0,c.m)(Se.add)&&(0,c.m)(Se.unsubscribe)}function Ce(Se){(0,c.m)(Se)?Se():Se.unsubscribe()}},2416:(tt,be,R)=>{R.d(be,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(tt,be,R)=>{R.d(be,{E:()=>Q});const Q=new(R(8306).y)(me=>me.complete())},8996:(tt,be,R)=>{R.d(be,{D:()=>ie});var c=R(8421),Q=R(5363),L=R(9468),pe=R(8306),Ce=R(2202),Se=R(576),U=R(9672);function Y(ne,Oe){if(!ne)throw new Error("Iterable cannot be null");return new pe.y(Fe=>{(0,U.f)(Fe,Oe,()=>{const Ve=ne[Symbol.asyncIterator]();(0,U.f)(Fe,Oe,()=>{Ve.next().then(Z=>{Z.done?Fe.complete():Fe.next(Z.value)})},0,!0)})})}var Le=R(3670),Ee=R(8239),Ie=R(1144),ke=R(6495),J=R(2206),ce=R(4532),je=R(3260);function ie(ne,Oe){return Oe?function ve(ne,Oe){if(null!=ne){if((0,Le.c)(ne))return function ae(ne,Oe){return(0,c.Xf)(ne).pipe((0,L.R)(Oe),(0,Q.Q)(Oe))}(ne,Oe);if((0,Ie.z)(ne))return function oe(ne,Oe){return new pe.y(Fe=>{let Ve=0;return Oe.schedule(function(){Ve===ne.length?Fe.complete():(Fe.next(ne[Ve++]),Fe.closed||this.schedule())})})}(ne,Oe);if((0,Ee.t)(ne))return function me(ne,Oe){return(0,c.Xf)(ne).pipe((0,L.R)(Oe),(0,Q.Q)(Oe))}(ne,Oe);if((0,J.D)(ne))return Y(ne,Oe);if((0,ke.T)(ne))return function H(ne,Oe){return new pe.y(Fe=>{let Ve;return(0,U.f)(Fe,Oe,()=>{Ve=ne[Ce.h](),(0,U.f)(Fe,Oe,()=>{let Z,ut;try{({value:Z,done:ut}=Ve.next())}catch($e){return void Fe.error($e)}ut?Fe.complete():Fe.next(Z)},0,!0)}),()=>(0,Se.m)(Ve?.return)&&Ve.return()})}(ne,Oe);if((0,je.L)(ne))return function Je(ne,Oe){return Y((0,je.Q)(ne),Oe)}(ne,Oe)}throw(0,ce.z)(ne)}(ne,Oe):(0,c.Xf)(ne)}},8421:(tt,be,R)=>{R.d(be,{Xf:()=>Le});var c=R(655),Q=R(1144),L=R(8239),ae=R(8306),me=R(3670),pe=R(2206),oe=R(4532),Ce=R(6495),Se=R(3260),U=R(576),H=R(7849),Y=R(8822);function Le(ve){if(ve instanceof ae.y)return ve;if(null!=ve){if((0,me.c)(ve))return function Ee(ve){return new ae.y(ie=>{const ne=ve[Y.L]();if((0,U.m)(ne.subscribe))return ne.subscribe(ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,Q.z)(ve))return function Ie(ve){return new ae.y(ie=>{for(let ne=0;ne<ve.length&&!ie.closed;ne++)ie.next(ve[ne]);ie.complete()})}(ve);if((0,L.t)(ve))return function ke(ve){return new ae.y(ie=>{ve.then(ne=>{ie.closed||(ie.next(ne),ie.complete())},ne=>ie.error(ne)).then(null,H.h)})}(ve);if((0,pe.D)(ve))return ce(ve);if((0,Ce.T)(ve))return function J(ve){return new ae.y(ie=>{for(const ne of ve)if(ie.next(ne),ie.closed)return;ie.complete()})}(ve);if((0,Se.L)(ve))return function je(ve){return ce((0,Se.Q)(ve))}(ve)}throw(0,oe.z)(ve)}function ce(ve){return new ae.y(ie=>{(function Je(ve,ie){var ne,Oe,Fe,Ve;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ne=(0,c.KL)(ve);!(Oe=yield ne.next()).done;)if(ie.next(Oe.value),ie.closed)return}catch(Z){Fe={error:Z}}finally{try{Oe&&!Oe.done&&(Ve=ne.return)&&(yield Ve.call(ne))}finally{if(Fe)throw Fe.error}}ie.complete()})})(ve,ie).catch(ne=>ie.error(ne))})}},6451:(tt,be,R)=>{R.d(be,{T:()=>pe});var c=R(8189),Q=R(8421),L=R(515),ae=R(3269),me=R(8996);function pe(...oe){const Ce=(0,ae.yG)(oe),Se=(0,ae._6)(oe,1/0),U=oe;return U.length?1===U.length?(0,Q.Xf)(U[0]):(0,c.J)(Se)((0,me.D)(U,Ce)):L.E}},5403:(tt,be,R)=>{R.d(be,{x:()=>Q});var c=R(930);function Q(ae,me,pe,oe,Ce){return new L(ae,me,pe,oe,Ce)}class L extends c.Lv{constructor(me,pe,oe,Ce,Se,U){super(me),this.onFinalize=Se,this.shouldUnsubscribe=U,this._next=pe?function(H){try{pe(H)}catch(Y){me.error(Y)}}:super._next,this._error=Ce?function(H){try{Ce(H)}catch(Y){me.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(H){me.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},4004:(tt,be,R)=>{R.d(be,{U:()=>L});var c=R(4482),Q=R(5403);function L(ae,me){return(0,c.e)((pe,oe)=>{let Ce=0;pe.subscribe((0,Q.x)(oe,Se=>{oe.next(ae.call(me,Se,Ce++))}))})}},8189:(tt,be,R)=>{R.d(be,{J:()=>L});var c=R(5577),Q=R(4671);function L(ae=1/0){return(0,c.z)(Q.y,ae)}},5577:(tt,be,R)=>{R.d(be,{z:()=>Ce});var c=R(4004),Q=R(8421),L=R(4482),ae=R(9672),me=R(5403),oe=R(576);function Ce(Se,U,H=1/0){return(0,oe.m)(U)?Ce((Y,Le)=>(0,c.U)((Ee,Ie)=>U(Y,Ee,Le,Ie))((0,Q.Xf)(Se(Y,Le))),H):("number"==typeof U&&(H=U),(0,L.e)((Y,Le)=>function pe(Se,U,H,Y,Le,Ee,Ie,ke){const J=[];let ce=0,je=0,Je=!1;const ve=()=>{Je&&!J.length&&!ce&&U.complete()},ie=Oe=>ce<Y?ne(Oe):J.push(Oe),ne=Oe=>{Ee&&U.next(Oe),ce++;let Fe=!1;(0,Q.Xf)(H(Oe,je++)).subscribe((0,me.x)(U,Ve=>{Le?.(Ve),Ee?ie(Ve):U.next(Ve)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(ce--;J.length&&ce<Y;){const Ve=J.shift();Ie?(0,ae.f)(U,Ie,()=>ne(Ve)):ne(Ve)}ve()}catch(Ve){U.error(Ve)}}))};return Se.subscribe((0,me.x)(U,ie,()=>{Je=!0,ve()})),()=>{ke?.()}}(Y,Le,Se,H)))}},5363:(tt,be,R)=>{R.d(be,{Q:()=>ae});var c=R(9672),Q=R(4482),L=R(5403);function ae(me,pe=0){return(0,Q.e)((oe,Ce)=>{oe.subscribe((0,L.x)(Ce,Se=>(0,c.f)(Ce,me,()=>Ce.next(Se),pe),()=>(0,c.f)(Ce,me,()=>Ce.complete(),pe),Se=>(0,c.f)(Ce,me,()=>Ce.error(Se),pe)))})}},3099:(tt,be,R)=>{R.d(be,{B:()=>me});var c=R(8421),Q=R(7579),L=R(930),ae=R(4482);function me(oe={}){const{connector:Ce=(()=>new Q.x),resetOnError:Se=!0,resetOnComplete:U=!0,resetOnRefCountZero:H=!0}=oe;return Y=>{let Le,Ee,Ie,ke=0,J=!1,ce=!1;const je=()=>{Ee?.unsubscribe(),Ee=void 0},Je=()=>{je(),Le=Ie=void 0,J=ce=!1},ve=()=>{const ie=Le;Je(),ie?.unsubscribe()};return(0,ae.e)((ie,ne)=>{ke++,!ce&&!J&&je();const Oe=Ie=Ie??Ce();ne.add(()=>{ke--,0===ke&&!ce&&!J&&(Ee=pe(ve,H))}),Oe.subscribe(ne),!Le&&ke>0&&(Le=new L.Hp({next:Fe=>Oe.next(Fe),error:Fe=>{ce=!0,je(),Ee=pe(Je,Se,Fe),Oe.error(Fe)},complete:()=>{J=!0,je(),Ee=pe(Je,U),Oe.complete()}}),(0,c.Xf)(ie).subscribe(Le))})(Y)}}function pe(oe,Ce,...Se){if(!0===Ce)return void oe();if(!1===Ce)return;const U=new L.Hp({next:()=>{U.unsubscribe(),oe()}});return(0,c.Xf)(Ce(...Se)).subscribe(U)}},9468:(tt,be,R)=>{R.d(be,{R:()=>Q});var c=R(4482);function Q(L,ae=0){return(0,c.e)((me,pe)=>{pe.add(L.schedule(()=>me.subscribe(pe),ae))})}},3410:(tt,be,R)=>{R.d(be,{z:()=>c});const c={setTimeout(Q,L,...ae){const{delegate:me}=c;return me?.setTimeout?me.setTimeout(Q,L,...ae):setTimeout(Q,L,...ae)},clearTimeout(Q){const{delegate:L}=c;return(L?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(tt,be,R)=>{R.d(be,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tt,be,R)=>{R.d(be,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(tt,be,R)=>{R.d(be,{_6:()=>pe,jO:()=>ae,yG:()=>me});var c=R(576),Q=R(3532);function L(oe){return oe[oe.length-1]}function ae(oe){return(0,c.m)(L(oe))?oe.pop():void 0}function me(oe){return(0,Q.K)(L(oe))?oe.pop():void 0}function pe(oe,Ce){return"number"==typeof L(oe)?oe.pop():Ce}},8737:(tt,be,R)=>{function c(Q,L){if(Q){const ae=Q.indexOf(L);0<=ae&&Q.splice(ae,1)}}R.d(be,{P:()=>c})},3888:(tt,be,R)=>{function c(Q){const ae=Q(me=>{Error.call(me),me.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}R.d(be,{d:()=>c})},2806:(tt,be,R)=>{R.d(be,{O:()=>ae,x:()=>L});var c=R(2416);let Q=null;function L(me){if(c.v.useDeprecatedSynchronousErrorHandling){const pe=!Q;if(pe&&(Q={errorThrown:!1,error:null}),me(),pe){const{errorThrown:oe,error:Ce}=Q;if(Q=null,oe)throw Ce}}else me()}function ae(me){c.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=me)}},9672:(tt,be,R)=>{function c(Q,L,ae,me=0,pe=!1){const oe=L.schedule(function(){ae(),pe?Q.add(this.schedule(null,me)):this.unsubscribe()},me);if(Q.add(oe),!pe)return oe}R.d(be,{f:()=>c})},4671:(tt,be,R)=>{function c(Q){return Q}R.d(be,{y:()=>c})},1144:(tt,be,R)=>{R.d(be,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(tt,be,R)=>{R.d(be,{D:()=>Q});var c=R(576);function Q(L){return Symbol.asyncIterator&&(0,c.m)(L?.[Symbol.asyncIterator])}},576:(tt,be,R)=>{function c(Q){return"function"==typeof Q}R.d(be,{m:()=>c})},3670:(tt,be,R)=>{R.d(be,{c:()=>L});var c=R(8822),Q=R(576);function L(ae){return(0,Q.m)(ae[c.L])}},6495:(tt,be,R)=>{R.d(be,{T:()=>L});var c=R(2202),Q=R(576);function L(ae){return(0,Q.m)(ae?.[c.h])}},8239:(tt,be,R)=>{R.d(be,{t:()=>Q});var c=R(576);function Q(L){return(0,c.m)(L?.then)}},3260:(tt,be,R)=>{R.d(be,{L:()=>ae,Q:()=>L});var c=R(655),Q=R(576);function L(me){return(0,c.FC)(this,arguments,function*(){const oe=me.getReader();try{for(;;){const{value:Ce,done:Se}=yield(0,c.qq)(oe.read());if(Se)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ce)}}finally{oe.releaseLock()}})}function ae(me){return(0,Q.m)(me?.getReader)}},3532:(tt,be,R)=>{R.d(be,{K:()=>Q});var c=R(576);function Q(L){return L&&(0,c.m)(L.schedule)}},4482:(tt,be,R)=>{R.d(be,{e:()=>L});var c=R(576);function L(ae){return me=>{if(function Q(ae){return(0,c.m)(ae?.lift)}(me))return me.lift(function(pe){try{return ae(pe,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(tt,be,R)=>{function c(){}R.d(be,{Z:()=>c})},7849:(tt,be,R)=>{R.d(be,{h:()=>L});var c=R(2416),Q=R(3410);function L(ae){Q.z.setTimeout(()=>{const{onUnhandledError:me}=c.v;if(!me)throw ae;me(ae)})}},4532:(tt,be,R)=>{function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(be,{z:()=>c})},655:(tt,be,R)=>{function ae(ee,re){var ue={};for(var ge in ee)Object.prototype.hasOwnProperty.call(ee,ge)&&re.indexOf(ge)<0&&(ue[ge]=ee[ge]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(ge=Object.getOwnPropertySymbols(ee);we<ge.length;we++)re.indexOf(ge[we])<0&&Object.prototype.propertyIsEnumerable.call(ee,ge[we])&&(ue[ge[we]]=ee[ge[we]])}return ue}function Y(ee,re,ue,ge){return new(ue||(ue=Promise))(function(le,ct){function Tt(Pt){try{Me(ge.next(Pt))}catch(Ct){ct(Ct)}}function ft(Pt){try{Me(ge.throw(Pt))}catch(Ct){ct(Ct)}}function Me(Pt){Pt.done?le(Pt.value):function we(le){return le instanceof ue?le:new ue(function(ct){ct(le)})}(Pt.value).then(Tt,ft)}Me((ge=ge.apply(ee,re||[])).next())})}function ve(ee){return this instanceof ve?(this.v=ee,this):new ve(ee)}function ie(ee,re,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ge=ue.apply(ee,re||[]),le=[];return we={},ct("next"),ct("throw"),ct("return"),we[Symbol.asyncIterator]=function(){return this},we;function ct(St){ge[St]&&(we[St]=function(an){return new Promise(function(Cn,_i){le.push([St,an,Cn,_i])>1||Tt(St,an)})})}function Tt(St,an){try{!function ft(St){St.value instanceof ve?Promise.resolve(St.value.v).then(Me,Pt):Ct(le[0][2],St)}(ge[St](an))}catch(Cn){Ct(le[0][3],Cn)}}function Me(St){Tt("next",St)}function Pt(St){Tt("throw",St)}function Ct(St,an){St(an),le.shift(),le.length&&Tt(le[0][0],le[0][1])}}function Oe(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,re=ee[Symbol.asyncIterator];return re?re.call(ee):(ee=function ke(ee){var re="function"==typeof Symbol&&Symbol.iterator,ue=re&&ee[re],ge=0;if(ue)return ue.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ge>=ee.length&&(ee=void 0),{value:ee&&ee[ge++],done:!ee}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ue={},ge("next"),ge("throw"),ge("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function ge(le){ue[le]=ee[le]&&function(ct){return new Promise(function(Tt,ft){!function we(le,ct,Tt,ft){Promise.resolve(ft).then(function(Me){le({value:Me,done:Tt})},ct)}(Tt,ft,(ct=ee[le](ct)).done,ct.value)})}}}R.d(be,{FC:()=>ie,KL:()=>Oe,_T:()=>ae,mG:()=>Y,qq:()=>ve})},4650:(tt,be,R)=>{R.d(be,{$8M:()=>Wl,$Z:()=>md,AFp:()=>YE,ALo:()=>xE,AaK:()=>Ce,BQk:()=>hp,CHM:()=>Pl,CRH:()=>LE,CZH:()=>cm,CqO:()=>gp,D6c:()=>yw,EJc:()=>qE,EiD:()=>_s,EpF:()=>fp,F$t:()=>_p,F4k:()=>mp,FYo:()=>Vg,FiY:()=>Vr,Gf:()=>FE,GfV:()=>Hg,Gpc:()=>H,Hsn:()=>yp,Ikx:()=>WC,JOm:()=>Fi,JVY:()=>mt,KtG:()=>bu,L6k:()=>Ig,LAX:()=>Sg,LFG:()=>Xt,Lbi:()=>zd,Lck:()=>Sy,MAs:()=>M_,NdJ:()=>O_,O4$:()=>Au,OlP:()=>jt,Oqu:()=>Md,Q6J:()=>k_,QGY:()=>pp,QbO:()=>UI,Qsj:()=>Rf,R0b:()=>Qr,RDi:()=>Df,Rgc:()=>Vd,SBq:()=>cd,Suo:()=>rm,TTD:()=>Oi,TgZ:()=>lp,Udp:()=>Y_,W1O:()=>qy,WFA:()=>P_,X6Q:()=>tS,Xpm:()=>En,Y36:()=>Qo,YNc:()=>T_,Yjl:()=>j,Yz7:()=>Me,ZZ4:()=>tu,_Bn:()=>vE,_UZ:()=>up,_Vd:()=>ld,_c5:()=>gw,_uU:()=>Sp,aQg:()=>Kd,cJS:()=>Ct,cg1:()=>ay,d8E:()=>YC,dDg:()=>rM,dqk:()=>zt,eBb:()=>eo,eFA:()=>Kn,ekj:()=>Sd,eoX:()=>dm,f3M:()=>Pa,g9A:()=>$i,h0i:()=>dl,hGG:()=>_w,hij:()=>jc,iGM:()=>im,ifc:()=>Qe,ip1:()=>WE,kL8:()=>Op,kcU:()=>Tu,lG2:()=>O,lcZ:()=>Jp,lri:()=>KI,mCW:()=>v,n5z:()=>pn,n_E:()=>Xp,oAB:()=>Tr,oxw:()=>Is,pB0:()=>rn,q3G:()=>mn,qLn:()=>dd,qOj:()=>D_,qZA:()=>cp,qzn:()=>On,rWj:()=>qI,sBO:()=>pv,sIi:()=>Id,s_b:()=>Wc,soG:()=>um,tp0:()=>Gn,uIk:()=>A_,vHH:()=>Ie,vpe:()=>As,wAp:()=>it,xi3:()=>RE,xp6:()=>Zg,ynx:()=>dp,z2F:()=>mm,z3N:()=>un,zSh:()=>er,zs3:()=>Qa});var c=R(7579),Q=R(727),L=R(8306),ae=R(6451),me=R(3099);function pe(r){for(let s in r)if(r[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function oe(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function Ce(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ce).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Se(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const U=pe({__forward_ref__:pe});function H(r){return r.__forward_ref__=H,r.toString=function(){return Ce(this())},r}function Y(r){return Le(r)?r():r}function Le(r){return"function"==typeof r&&r.hasOwnProperty(U)&&r.__forward_ref__===H}class Ie extends Error{constructor(s,a){super(ke(s,a)),this.code=s}}function ke(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}function J(r){return"string"==typeof r?r:null==r?"":String(r)}function ie(r,s){throw new Ie(-201,!1)}function we(r,s){null==r&&function le(r,s,a,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,r,null,"!=")}function Me(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ct(r){return{providers:r.providers||[],imports:r.imports||[]}}function St(r){return Cn(r,Ir)||Cn(r,Eo)}function Cn(r,s){return r.hasOwnProperty(s)?r[s]:null}function Bn(r){return r&&(r.hasOwnProperty(Sr)||r.hasOwnProperty(wo))?r[Sr]:null}const Ir=pe({\u0275prov:pe}),Sr=pe({\u0275inj:pe}),Eo=pe({ngInjectableDef:pe}),wo=pe({ngInjectorDef:pe});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let Ti;function ii(r){const s=Ti;return Ti=r,s}function Do(r,s,a){const u=St(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&We.Optional?null:void 0!==s?s:void ie(Ce(r))}function An(r){return{toString:r}.toString()}var Kt=(()=>((Kt=Kt||{})[Kt.OnPush=0]="OnPush",Kt[Kt.Default=1]="Default",Kt))(),Qe=(()=>{return(r=Qe||(Qe={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Qe;var r})();const zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gn={},ht=[],Hn=pe({\u0275cmp:pe}),Ht=pe({\u0275dir:pe}),Rs=pe({\u0275pipe:pe}),Mt=pe({\u0275mod:pe}),Mi=pe({\u0275fac:pe}),ri=pe({__NG_ELEMENT_ID__:pe});let Ar=0;function En(r){return An(()=>{const a=!0===r.standalone,u={},d={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||ht,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Qe.Emulated,id:"c"+Ar++,styles:r.styles||ht,_:null,setInput:null,schemas:r.schemas||null,tView:null},m=r.dependencies,y=r.features;return d.inputs=F(r.inputs,u),d.outputs=F(r.outputs),y&&y.forEach(C=>C(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(rs).filter(wn):null,d.pipeDefs=m?()=>("function"==typeof m?m():m).map(xe).filter(wn):null,d})}function rs(r){return X(r)||G(r)}function wn(r){return null!==r}function Tr(r){return An(()=>({type:r.type,bootstrap:r.bootstrap||ht,declarations:r.declarations||ht,imports:r.imports||ht,exports:r.exports||ht,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function F(r,s){if(null==r)return gn;const a={};for(const u in r)if(r.hasOwnProperty(u)){let d=r[u],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),a[d]=u,s&&(s[d]=m)}return a}const O=En;function j(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function X(r){return r[Hn]||null}function G(r){return r[Ht]||null}function xe(r){return r[Rs]||null}const Ut=0,De=1,ze=2,Ze=3,qt=4,Un=5,Zt=6,Mr=7,q=8,K=9,_e=10,ye=11,nt=12,gt=13,Nt=14,nn=15,wt=16,jn=17,xi=18,Wi=19,ha=20,uu=21,Ft=22,fa=1,du=2,Lt=7,Io=8,Os=9,Dn=10;function $n(r){return Array.isArray(r)&&"object"==typeof r[fa]}function vi(r){return Array.isArray(r)&&!0===r[fa]}function os(r){return 0!=(8&r.flags)}function So(r){return 2==(2&r.flags)}function kr(r){return 1==(1&r.flags)}function Yi(r){return null!==r.template}function Al(r){return 0!=(256&r[ze])}function lr(r,s){return r.hasOwnProperty(Mi)?r[Mi]:null}class Bm{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Oi(){return Eh}function Eh(r){return r.type.prototype.ngOnChanges&&(r.setInput=gu),pa}function pa(){const r=Hm(this),s=r?.current;if(s){const a=r.previous;if(a===gn)r.previous=s;else for(let u in s)a[u]=s[u];r.current=null,this.ngOnChanges(s)}}function gu(r,s,a,u){const d=Hm(r)||function Ao(r,s){return r[kl]=s}(r,{previous:gn,current:null}),m=d.current||(d.current={}),y=d.previous,C=this.declaredInputs[a],E=y[C];m[C]=new Bm(E&&E.currentValue,s,y===gn),r[u]=s}Oi.ngInherit=!0;const kl="__ngSimpleChanges__";function Hm(r){return r[kl]||null}const oi=function(r,s,a){},Rr="svg";function fn(r){for(;Array.isArray(r);)r=r[Ut];return r}function cr(r,s){return fn(s[r])}function ai(r,s){return fn(s[r.index])}function ma(r,s){return r.data[s]}function ga(r,s){return r[s]}function _n(r,s){const a=s[r];return $n(a)?a:a[Ut]}function Ps(r){return 64==(64&r[ze])}function Ki(r,s){return null==s?null:r[s]}function Ns(r){r[xi]=0}function li(r,s){r[Un]+=s;let a=r,u=r[Ze];for(;null!==u&&(1===s&&1===a[Un]||-1===s&&0===a[Un]);)u[Un]+=s,a=u,u=u[Ze]}const st={lFrame:Ym(null),bindingsEnabled:!0};function Th(){return st.bindingsEnabled}function de(){return st.lFrame.lView}function Et(){return st.lFrame.tView}function Pl(r){return st.lFrame.contextLView=r,r[q]}function bu(r){return st.lFrame.contextLView=null,r}function yn(){let r=Cu();for(;null!==r&&64===r.type;)r=r.parent;return r}function Cu(){return st.lFrame.currentTNode}function bi(r,s){const a=st.lFrame;a.currentTNode=r,a.isParent=s}function _a(){return st.lFrame.isParent}function Eu(){st.lFrame.isParent=!1}function zn(){const r=st.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Or(){return st.lFrame.bindingIndex++}function ib(r,s){const a=st.lFrame;a.bindingIndex=a.bindingRootIndex=r,Du(s)}function Du(r){st.lFrame.currentDirectiveIndex=r}function ya(r){const s=st.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function Fl(){return st.lFrame.currentQueryIndex}function Pr(r){st.lFrame.currentQueryIndex=r}function Wm(r){const s=r[De];return 2===s.type?s.declTNode:1===s.type?r[Zt]:null}function Iu(r,s,a){if(a&We.SkipSelf){let d=s,m=r;for(;!(d=d.parent,null!==d||a&We.Host||(d=Wm(m),null===d||(m=m[nn],10&d.type))););if(null===d)return!1;s=d,r=m}const u=st.lFrame=va();return u.currentTNode=s,u.lView=r,!0}function Ll(r){const s=va(),a=r[De];st.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function va(){const r=st.lFrame,s=null===r?null:r.child;return null===s?Ym(r):s}function Ym(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Su(){const r=st.lFrame;return st.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Rh=Su;function Vl(){const r=Su();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ci(){return st.lFrame.selectedIndex}function Nr(r){st.lFrame.selectedIndex=r}function cn(){const r=st.lFrame;return ma(r.tView,r.selectedIndex)}function Au(){st.lFrame.currentNamespace=Rr}function Tu(){!function ob(){st.lFrame.currentNamespace=null}()}function ba(r,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const m=r.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:T}=m;y&&(r.contentHooks||(r.contentHooks=[])).push(-a,y),C&&((r.contentHooks||(r.contentHooks=[])).push(a,C),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,C)),E&&(r.viewHooks||(r.viewHooks=[])).push(-a,E),I&&((r.viewHooks||(r.viewHooks=[])).push(a,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,I)),null!=T&&(r.destroyHooks||(r.destroyHooks=[])).push(a,T)}}function Bl(r,s,a){Mu(r,s,3,a)}function Mo(r,s,a,u){(3&r[ze])===a&&Mu(r,s,a,u)}function Nh(r,s){let a=r[ze];(3&a)===s&&(a&=2047,a+=1,r[ze]=a)}function Mu(r,s,a,u){const m=u??-1,y=s.length-1;let C=0;for(let E=void 0!==u?65535&r[xi]:0;E<y;E++)if("number"==typeof s[E+1]){if(C=s[E],null!=u&&C>=u)break}else s[E]<0&&(r[xi]+=65536),(C<m||-1==m)&&(ab(r,a,s,E),r[xi]=(4294901760&r[xi])+E+2),E++}function ab(r,s,a,u){const d=a[u]<0,m=a[u+1],C=r[d?-a[u]:a[u]];if(d){if(r[ze]>>11<r[xi]>>16&&(3&r[ze])===s){r[ze]+=2048,oi(4,C,m);try{m.call(C)}finally{oi(5,C,m)}}}else{oi(4,C,m);try{m.call(C)}finally{oi(5,C,m)}}}const Ls=-1;class Ca{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Ul(r,s,a){let u=0;for(;u<a.length;){const d=a[u];if("number"==typeof d){if(0!==d)break;u++;const m=a[u++],y=a[u++],C=a[u++];r.setAttribute(s,y,C,m)}else{const m=d,y=a[++u];Zm(m)?r.setProperty(s,m,y):r.setAttribute(s,m,y),u++}}return u}function jl(r){return 3===r||4===r||6===r}function Zm(r){return 64===r.charCodeAt(0)}function Ea(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||Vh(r,a,d,null,-1===a||2===a?s[++u]:null)}}return r}function Vh(r,s,a,u,d){let m=0,y=r.length;if(-1===s)y=-1;else for(;m<r.length;){const C=r[m++];if("number"==typeof C){if(C===s){y=-1;break}if(C>s){y=m-1;break}}}for(;m<r.length;){const C=r[m];if("number"==typeof C)break;if(C===a){if(null===u)return void(null!==d&&(r[m+1]=d));if(u===r[m+1])return void(r[m+2]=d)}m++,null!==u&&m++,null!==d&&m++}-1!==y&&(r.splice(y,0,s),m=y+1),r.splice(m++,0,a),null!==u&&r.splice(m++,0,u),null!==d&&r.splice(m++,0,d)}function Qm(r){return r!==Ls}function wa(r){return 32767&r}function cs(r,s){let a=function ub(r){return r>>16}(r),u=s;for(;a>0;)u=u[nn],a--;return u}let Da=!0;function Vs(r){const s=Da;return Da=r,s}const us=255,xu=5;let Ru=0;const Pi={};function ko(r,s){const a=Ia(r,s);if(-1!==a)return a;const u=s[De];u.firstCreatePass&&(r.injectorIndex=s.length,Ou(u.data,r),Ou(s,null),Ou(u.blueprint,null));const d=xo(r,s),m=r.injectorIndex;if(Qm(d)){const y=wa(d),C=cs(d,s),E=C[De].data;for(let I=0;I<8;I++)s[m+I]=C[y+I]|E[y+I]}return s[m+8]=d,m}function Ou(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Ia(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function xo(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){if(u=tg(d),null===u)return Ls;if(a++,d=d[nn],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return Ls}function $l(r,s,a){!function Jm(r,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ri)&&(u=a[ri]),null==u&&(u=a[ri]=Ru++);const d=u&us;s.data[r+(d>>xu)]|=1<<d}(r,s,a)}function zl(r,s,a){if(a&We.Optional||void 0!==r)return r;ie()}function Xm(r,s,a,u){if(a&We.Optional&&void 0===u&&(u=null),!(a&(We.Self|We.Host))){const d=r[K],m=ii(void 0);try{return d?d.get(s,u,a&We.Optional):Do(s,u,a&We.Optional)}finally{ii(m)}}return zl(u,0,a)}function Sa(r,s,a,u=We.Default,d){if(null!==r){if(1024&s[ze]){const y=function Ta(r,s,a,u,d){let m=r,y=s;for(;null!==m&&null!==y&&1024&y[ze]&&!(256&y[ze]);){const C=Gl(m,y,a,u|We.Self,Pi);if(C!==Pi)return C;let E=m.parent;if(!E){const I=y[uu];if(I){const T=I.get(a,Pi,u);if(T!==Pi)return T}E=tg(y),y=y[nn]}m=E}return d}(r,s,a,u,Pi);if(y!==Pi)return y}const m=Gl(r,s,a,u,Pi);if(m!==Pi)return m}return Xm(s,a,u,d)}function Gl(r,s,a,u,d){const m=function hs(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(ri)?r[ri]:void 0;return"number"==typeof s?s>=0?s&us:eg:s}(a);if("function"==typeof m){if(!Iu(s,r,u))return u&We.Host?zl(d,0,u):Xm(s,a,u,d);try{const y=m(u);if(null!=y||u&We.Optional)return y;ie()}finally{Rh()}}else if("number"==typeof m){let y=null,C=Ia(r,s),E=Ls,I=u&We.Host?s[wt][Zt]:null;for((-1===C||u&We.SkipSelf)&&(E=-1===C?xo(r,s):s[C+8],E!==Ls&&Hh(u,!1)?(y=s[De],C=wa(E),s=cs(E,s)):C=-1);-1!==C;){const T=s[De];if(Bh(m,C,T.data)){const x=db(C,s,a,y,u,I);if(x!==Pi)return x}E=s[C+8],E!==Ls&&Hh(u,s[De].data[C+8]===I)&&Bh(m,C,s)?(y=T,C=wa(E),s=cs(E,s)):C=-1}}return d}function db(r,s,a,u,d,m){const y=s[De],C=y.data[r+8],T=ds(C,y,a,null==u?So(C)&&Da:u!=y&&0!=(3&C.type),d&We.Host&&m===C);return null!==T?Aa(s,y,T,C):Pi}function ds(r,s,a,u,d){const m=r.providerIndexes,y=s.data,C=1048575&m,E=r.directiveStart,T=m>>20,B=d?C+T:r.directiveEnd;for(let W=u?C:C+T;W<B;W++){const se=y[W];if(W<E&&a===se||W>=E&&se.type===a)return W}if(d){const W=y[E];if(W&&Yi(W)&&W.type===a)return E}return null}function Aa(r,s,a,u){let d=r[a];const m=s.data;if(function Fh(r){return r instanceof Ca}(d)){const y=d;y.resolving&&function je(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${r}${a}`)}(function ce(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():J(r)}(m[a]));const C=Vs(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?ii(y.injectImpl):null;Iu(r,u,We.Default);try{d=r[a]=y.factory(void 0,m,r,u),s.firstCreatePass&&a>=u.directiveStart&&function Km(r,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:m}=s.type.prototype;if(u){const y=Eh(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,d),m&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,m))}(a,m[a],s)}finally{null!==E&&ii(E),Vs(C),y.resolving=!1,Rh()}}return d}function Bh(r,s,a){return!!(a[s+(r>>xu)]&1<<r)}function Hh(r,s){return!(r&We.Self||r&We.Host&&s)}class Zi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Sa(this._tNode,this._lView,s,u,a)}}function eg(){return new Zi(yn(),de())}function pn(r){return An(()=>{const s=r.prototype.constructor,a=s[Mi]||Pu(s),u=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==u;){const m=d[Mi]||Pu(d);if(m&&m!==a)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Pu(r){return Le(r)?()=>{const s=Pu(Y(r));return s&&s()}:lr(r)}function tg(r){const s=r[De],a=s.type;return 2===a?s.declTNode:1===a?r[Zt]:null}function Wl(r){return function Hs(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const m=a[d];if(jl(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(m===s)return a[d+1];d+=2}}}return null}(yn(),r)}const Ma="__parameters__";function fs(r,s,a){return An(()=>{const u=function Ro(r){return function(...a){if(r){const u=r(...a);for(const d in u)this[d]=u[d]}}}(s);function d(...m){if(this instanceof d)return u.apply(this,m),this;const y=new d(...m);return C.annotation=y,C;function C(E,I,T){const x=E.hasOwnProperty(Ma)?E[Ma]:Object.defineProperty(E,Ma,{value:[]})[Ma];for(;x.length<=T;)x.push(null);return(x[T]=x[T]||[]).push(y),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class jt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Me({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mn(r,s){void 0===s&&(s=r);for(let a=0;a<r.length;a++){let u=r[a];Array.isArray(u)?(s===r&&(s=r.slice(0,a)),Mn(u,s)):s!==r&&s.push(u)}return s}function ur(r,s){r.forEach(a=>Array.isArray(a)?ur(a,s):s(a))}function sg(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Fu(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Oo(r,s){const a=[];for(let u=0;u<r;u++)a.push(s);return a}function Ci(r,s,a){let u=Ra(r,s);return u>=0?r[1|u]=a:(u=~u,function _b(r,s,a,u){let d=r.length;if(d==s)r.push(a,u);else if(1===d)r.push(u,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=u}}(r,u,s,a)),u}function Gh(r,s){const a=Ra(r,s);if(a>=0)return r[1|a]}function Ra(r,s){return function ag(r,s,a){let u=0,d=r.length>>a;for(;d!==u;){const m=u+(d-u>>1),y=r[m<<a];if(s===y)return m<<a;y>s?d=m:u=m+1}return~(d<<a)}(r,s,1)}const k={},Jn="__NG_DI_FLAG__",$s="ngTempTokenPath",Yh="ngTokenPath",Vu=/\n/gm,Kh="\u0275",Ql="__source";let Po;function zs(r){const s=Po;return Po=r,s}function Gs(r,s=We.Default){if(void 0===Po)throw new Ie(-203,!1);return null===Po?Do(r,void 0,s):Po.get(r,s&We.Optional?null:void 0,s)}function Xt(r,s=We.Default){return(function sr(){return Ti}()||Gs)(Y(r),s)}function Pa(r,s=We.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Xt(r,s)}function Jl(r){const s=[];for(let a=0;a<r.length;a++){const u=Y(r[a]);if(Array.isArray(u)){if(0===u.length)throw new Ie(900,!1);let d,m=We.Default;for(let y=0;y<u.length;y++){const C=u[y],E=Lr(C);"number"==typeof E?-1===E?d=C.token:m|=E:d=C}s.push(Xt(d,m))}else s.push(Xt(u))}return s}function Qi(r,s){return r[Jn]=s,r.prototype[Jn]=s,r}function Lr(r){return r[Jn]}const Vr=Qi(fs("Optional"),8),Gn=Qi(fs("SkipSelf"),4);var Fi=(()=>((Fi=Fi||{})[Fi.Important=1]="Important",Fi[Fi.DashCase=2]="DashCase",Fi))();const nc=new Map;let _g=0;const Va="__ngContext__";function xn(r,s){$n(s)?(r[Va]=s[ha],function vg(r){nc.set(r[ha],r)}(s)):r[Va]=s}let Ua;function oc(r,s){return Ua(r,s)}function Zs(r){const s=r[Ze];return vi(s)?s[Ze]:s}function ac(r){return jr(r[gt])}function pf(r){return jr(r[qt])}function jr(r){for(;null!==r&&!vi(r);)r=r[qt];return r}function Qs(r,s,a,u,d){if(null!=u){let m,y=!1;vi(u)?m=u:$n(u)&&(y=!0,u=u[Ut]);const C=fn(u);0===r&&null!==a?null==d?Rn(s,a,C):dt(s,a,C,d||null,!0):1===r&&null!==a?dt(s,a,C,d||null,!0):2===r?function Ju(r,s,a){const u=uc(r,s);u&&function Qu(r,s,a,u){r.removeChild(s,a,u)}(r,u,s,a)}(s,C,y):3===r&&s.destroyNode(C),null!=m&&function zo(r,s,a,u,d){const m=a[Lt];m!==fn(a)&&Qs(s,r,u,m,d);for(let C=Dn;C<a.length;C++){const E=a[C];Ji(E[De],E,r,s,u,m)}}(s,r,m,a,d)}}function cc(r,s,a){return r.createElement(s,a)}function yt(r,s){const a=r[Os],u=a.indexOf(s),d=s[Ze];512&s[ze]&&(s[ze]&=-513,li(d,-1)),a.splice(u,1)}function pr(r,s){if(r.length<=Dn)return;const a=Dn+s,u=r[a];if(u){const d=u[jn];null!==d&&d!==r&&yt(d,u),s>0&&(r[a-1][qt]=u[qt]);const m=Fu(r,Dn+s);!function gf(r,s){Ji(r,s,s[ye],2,null,null),s[Ut]=null,s[Zt]=null}(u[De],u);const y=m[Wi];null!==y&&y.detachView(m[De]),u[Ze]=null,u[qt]=null,u[ze]&=-65}return u}function $t(r,s){if(!(128&s[ze])){const a=s[ye];a.destroyNode&&Ji(r,s,a,3,null,null),function yf(r){let s=r[gt];if(!s)return ja(r[De],r);for(;s;){let a=null;if($n(s))a=s[gt];else{const u=s[Dn];u&&(a=u)}if(!a){for(;s&&!s[qt]&&s!==r;)$n(s)&&ja(s[De],s),s=s[Ze];null===s&&(s=r),$n(s)&&ja(s[De],s),a=s&&s[qt]}s=a}}(s)}}function ja(r,s){if(!(128&s[ze])){s[ze]&=-65,s[ze]|=128,function Js(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof Ca)){const m=a[u+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=d[m[y]],E=m[y+1];oi(4,C,E);try{E.call(C)}finally{oi(5,C,E)}}else{oi(4,d,m);try{m.call(d)}finally{oi(5,d,m)}}}}}(r,s),function vf(r,s){const a=r.cleanup,u=s[Mr];let d=-1;if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const y=a[m+1],C="function"==typeof y?y(s):fn(s[y]),E=u[d=a[m+2]],I=a[m+3];"boolean"==typeof I?C.removeEventListener(a[m],E,I):I>=0?u[d=I]():u[d=-I].unsubscribe(),m+=2}else{const y=u[d=a[m+1]];a[m].call(y)}if(null!==u){for(let m=d+1;m<u.length;m++)(0,u[m])();s[Mr]=null}}(r,s),1===s[De].type&&s[ye].destroy();const a=s[jn];if(null!==a&&vi(s[Ze])){a!==s[Ze]&&yt(a,s);const u=s[Wi];null!==u&&u.detachView(r)}!function sf(r){nc.delete(r[ha])}(s)}}function Zu(r,s,a){return function Qt(r,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[Ut];if(2&u.flags){const d=r.data[u.directiveStart].encapsulation;if(d===Qe.None||d===Qe.Emulated)return null}return ai(u,a)}(r,s.parent,a)}function dt(r,s,a,u,d){r.insertBefore(s,a,u,d)}function Rn(r,s,a){r.appendChild(s,a)}function bf(r,s,a,u,d){null!==u?dt(r,s,a,u,d):Rn(r,s,a)}function uc(r,s){return r.parentNode(s)}function Cf(r,s,a){return gs(r,s,a)}let $a,Wn,Wo,gs=function dc(r,s,a){return 40&r.type?ai(r,a):null};function hc(r,s,a,u){const d=Zu(r,u,s),m=s[ye],C=Cf(u.parent||s[Zt],u,s);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)bf(m,d,a[E],C,!1);else bf(m,d,a,C,!1);void 0!==$a&&$a(m,u,s,a,d)}function $r(r,s){if(null!==s){const a=s.type;if(3&a)return ai(s,r);if(4&a)return fc(-1,r[s.index]);if(8&a){const u=s.child;if(null!==u)return $r(r,u);{const d=r[s.index];return vi(d)?fc(-1,d):fn(d)}}if(32&a)return oc(s,r)()||fn(r[s.index]);{const u=Ef(r,s);return null!==u?Array.isArray(u)?u[0]:$r(Zs(r[wt]),u):$r(r,s.next)}}return null}function Ef(r,s){return null!==s?r[wt][Zt].projection[s.projection]:null}function fc(r,s){const a=Dn+r+1;if(a<s.length){const u=s[a],d=u[De].firstChild;if(null!==d)return $r(u,d)}return s[Lt]}function pc(r,s,a,u,d,m,y){for(;null!=a;){const C=u[a.index],E=a.type;if(y&&0===s&&(C&&xn(fn(C),u),a.flags|=4),64!=(64&a.flags))if(8&E)pc(r,s,a.child,u,d,m,!1),Qs(s,r,d,C,m);else if(32&E){const I=oc(a,u);let T;for(;T=I();)Qs(s,r,d,T,m);Qs(s,r,d,C,m)}else 16&E?$o(r,s,u,a,d,m):Qs(s,r,d,C,m);a=y?a.projectionNext:a.next}}function Ji(r,s,a,u,d,m){pc(a,u,r.firstChild,s,d,m,!1)}function $o(r,s,a,u,d,m){const y=a[wt],E=y[Zt].projection[u.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Qs(s,r,d,E[I],m);else pc(r,s,E,y[Ze],d,m,!0)}function Li(r,s,a){r.setAttribute(s,"style",a)}function Go(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function Rt(r){return function Xu(){if(void 0===Wn&&(Wn=null,zt.trustedTypes))try{Wn=zt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Wn}()?.createHTML(r)||r}function Df(r){Wo=r}class Xs{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gt extends Xs{getTypeName(){return"HTML"}}class di extends Xs{getTypeName(){return"Style"}}class td extends Xs{getTypeName(){return"Script"}}class Yo extends Xs{getTypeName(){return"URL"}}class nd extends Xs{getTypeName(){return"ResourceURL"}}function un(r){return r instanceof Xs?r.changingThisBreaksApplicationSecurity:r}function On(r,s){const a=function Ko(r){return r instanceof Xs&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function mt(r){return new Gt(r)}function Ig(r){return new di(r)}function eo(r){return new td(r)}function Sg(r){return new Yo(r)}function rn(r){return new nd(r)}class Ag{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Rt(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class _{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Rt(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Rt(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const y=a.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function v(r){return(r=String(r)).match(p)?r:"unsafe:"+r}function D(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function A(...r){const s={};for(const a of r)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const N=D("area,br,col,hr,img,wbr"),$=D("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fe=D("rp,rt"),Jt=A(N,A($,D("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),A(fe,D("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),A(fe,$)),ei=D("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bc=A(ei,D("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),D("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ga=D("script,style,template");class sd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Jt.hasOwnProperty(a))return this.sanitizedSomething=!0,!Ga.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let d=0;d<u.length;d++){const m=u.item(d),y=m.name,C=y.toLowerCase();if(!bc.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;ei[C]&&(E=v(E)),this.buf.push(" ",y,'="',od(E),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Jt.hasOwnProperty(a)&&!N.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(od(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Cc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wa=/([^\#-~ |!])/g;function od(r){return r.replace(/&/g,"&amp;").replace(Cc,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Wa,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gr;function _s(r,s){let a=null;try{Gr=Gr||function vc(r){const s=new _(r);return function f(){try{return!!(new window.DOMParser).parseFromString(Rt(""),"text/html")}catch{return!1}}()?new Ag(s):s}(r);let u=s?String(s):"";a=Gr.getInertBodyElement(u);let d=5,m=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=m,m=a.innerHTML,a=Gr.getInertBodyElement(u)}while(u!==m);return Rt((new sd).sanitizeChildren(Ya(a)||a))}finally{if(a){const u=Ya(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ya(r){return"content"in r&&function Ka(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var mn=(()=>((mn=mn||{})[mn.NONE=0]="NONE",mn[mn.HTML=1]="HTML",mn[mn.STYLE=2]="STYLE",mn[mn.SCRIPT=3]="SCRIPT",mn[mn.URL=4]="URL",mn[mn.RESOURCE_URL=5]="RESOURCE_URL",mn))();const qa=new jt("ENVIRONMENT_INITIALIZER"),to=new jt("INJECTOR",-1),wb=new jt("INJECTOR_DEF_TYPES");class Db{get(s,a=k){if(a===k){const u=new Error(`NullInjectorError: No provider for ${Ce(s)}!`);throw u.name="NullInjectorError",u}return a}}function ad(...r){return{\u0275providers:Ib(0,r)}}function Ib(r,...s){const a=[],u=new Set;let d;return ur(s,m=>{const y=m;Ec(y,a,[],u)&&(d||(d=[]),d.push(y))}),void 0!==d&&Sb(d,a),a}function Sb(r,s){for(let a=0;a<r.length;a++){const{providers:d}=r[a];ur(d,m=>{s.push(m)})}}function Ec(r,s,a,u){if(!(r=Y(r)))return!1;let d=null,m=Bn(r);const y=!m&&X(r);if(m||y){if(y&&!y.standalone)return!1;d=r}else{const E=r.ngModule;if(m=Bn(E),!m)return!1;d=E}const C=u.has(d);if(y){if(C)return!1;if(u.add(d),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const I of E)Ec(I,s,a,u)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let I;u.add(d);try{ur(m.imports,T=>{Ec(T,s,a,u)&&(I||(I=[]),I.push(T))})}finally{}void 0!==I&&Sb(I,s)}if(!C){const I=lr(d)||(()=>new d);s.push({provide:d,useFactory:I,deps:ht},{provide:wb,useValue:d,multi:!0},{provide:qa,useValue:()=>Xt(d),multi:!0})}const E=m.providers;null==E||C||ur(E,T=>{s.push(T)})}}return d!==r&&void 0!==r.providers}const Ab=pe({provide:String,useValue:pe});function wc(r){return null!==r&&"object"==typeof r&&Ab in r}function Za(r){return"function"==typeof r}const er=new jt("Set Injector scope."),Zo={},Rg={};let kf;function Dc(){return void 0===kf&&(kf=new Db),kf}class gr{}class Og extends gr{constructor(s,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fg(s,y=>this.processProvider(y)),this.records.set(to,no(void 0,this)),d.has("environment")&&this.records.set(gr,no(void 0,this));const m=this.records.get(er);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(wb.multi,ht,We.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=zs(this),u=ii(void 0);try{return s()}finally{zs(a),ii(u)}}get(s,a=k,u=We.Default){this.assertNotDestroyed();const d=zs(this),m=ii(void 0);try{if(!(u&We.SkipSelf)){let C=this.records.get(s);if(void 0===C){const E=function ED(r){return"function"==typeof r||"object"==typeof r&&r instanceof jt}(s)&&St(s);C=E&&this.injectableDefInScope(E)?no(ys(s),Zo):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(u&We.Self?Dc():this.parent).get(s,a=u&We.Optional&&a===k?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[$s]=y[$s]||[]).unshift(Ce(s)),d)throw y;return function qh(r,s,a,u){const d=r[$s];throw s[Ql]&&d.unshift(s[Ql]),r.message=function No(r,s,a,u=null){r=r&&"\n"===r.charAt(0)&&r.charAt(1)==Kh?r.slice(2):r;let d=Ce(s);if(Array.isArray(s))d=s.map(Ce).join(" -> ");else if("object"==typeof s){let m=[];for(let y in s)if(s.hasOwnProperty(y)){let C=s[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):Ce(C)))}d=`{${m.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${r.replace(Vu,"\n  ")}`}("\n"+r.message,d,a,u),r[Yh]=d,r[$s]=null,r}(y,s,"R3InjectorError",this.source)}throw y}finally{ii(m),zs(d)}}resolveInjectorInitializers(){const s=zs(this),a=ii(void 0);try{const u=this.get(qa.multi,ht,We.Self);for(const d of u)d()}finally{zs(s),ii(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(Ce(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(s){let a=Za(s=Y(s))?s:Y(s&&s.provide);const u=function Ic(r){return wc(r)?no(void 0,r.useValue):no(Ng(r),Zo)}(s);if(Za(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=no(void 0,Zo,!0),d.factory=()=>Jl(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===Zo&&(a.value=Rg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function CD(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Y(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function ys(r){const s=St(r),a=null!==s?s.factory:lr(r);if(null!==a)return a;if(r instanceof jt)throw new Ie(204,!1);if(r instanceof Function)return function Pg(r){const s=r.length;if(s>0)throw Oo(s,"?"),new Ie(204,!1);const a=function _i(r){const s=r&&(r[Ir]||r[Eo]);if(s){const a=function Ai(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Ie(204,!1)}function Ng(r,s,a){let u;if(Za(r)){const d=Y(r);return lr(d)||ys(d)}if(wc(r))u=()=>Y(r.useValue);else if(function Mf(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Jl(r.deps||[]));else if(function qo(r){return!(!r||!r.useExisting)}(r))u=()=>Xt(Y(r.useExisting));else{const d=Y(r&&(r.useClass||r.provide));if(!function bD(r){return!!r.deps}(r))return lr(d)||ys(d);u=()=>new d(...Jl(r.deps))}return u}function no(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function wD(r){return!!r.\u0275providers}function Fg(r,s){for(const a of r)Array.isArray(a)?Fg(a,s):wD(a)?Fg(a.\u0275providers,s):s(a)}class DD{}class Tb{}class ID{resolveComponentFactory(s){throw function Mb(r){const s=Error(`No component factory found for ${Ce(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let ld=(()=>{class r{}return r.NULL=new ID,r})();function SD(){return Sc(yn(),de())}function Sc(r,s){return new cd(ai(r,s))}let cd=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=SD,r})();function xf(r){return r instanceof cd?r.nativeElement:r}class Vg{}let Rf=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function AD(){const r=de(),a=_n(yn().index,r);return($n(a)?a:r)[ye]}(),r})(),Bg=(()=>{class r{}return r.\u0275prov=Me({token:r,providedIn:"root",factory:()=>null}),r})();class Hg{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const xb=new Hg("14.3.0"),Ug={},jg="ngOriginalError";function ud(r){return r[jg]}class dd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&ud(s);for(;a&&ud(a);)a=ud(a);return a||null}}function Fb(r,s,a){let u=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const m=s.length;if(d+m===u||r.charCodeAt(d+m)<=32)return d}a=d+1}}const Gg="ng-template";function RD(r,s,a){let u=0;for(;u<r.length;){let d=r[u++];if(a&&"class"===d){if(d=r[u],-1!==Fb(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<r.length&&"string"==typeof(d=r[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Wg(r){return 4===r.type&&r.value!==Gg}function Lb(r,s,a){return s===(4!==r.type||a?r.value:Gg)}function OD(r,s,a){let u=4;const d=r.attrs||[],m=function ND(r){for(let s=0;s<r.length;s++)if(jl(r[s]))return s;return r.length}(d);let y=!1;for(let C=0;C<s.length;C++){const E=s[C];if("number"!=typeof E){if(!y)if(4&u){if(u=2|1&u,""!==E&&!Lb(r,E,a)||""===E&&1===s.length){if(_r(u))return!1;y=!0}}else{const I=8&u?E:s[++C];if(8&u&&null!==r.attrs){if(!RD(r.attrs,I,a)){if(_r(u))return!1;y=!0}continue}const x=Pf(8&u?"class":E,d,Wg(r),a);if(-1===x){if(_r(u))return!1;y=!0;continue}if(""!==I){let B;B=x>m?"":d[x+1].toLowerCase();const W=8&u?B:null;if(W&&-1!==Fb(W,I,0)||2&u&&I!==B){if(_r(u))return!1;y=!0}}}}else{if(!y&&!_r(u)&&!_r(E))return!1;if(y&&_r(E))continue;y=!1,u=E|1&u}}return _r(u)||y}function _r(r){return 0==(1&r)}function Pf(r,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let m=!1;for(;d<s.length;){const y=s[d];if(y===r)return d;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=s[++d];for(;"string"==typeof C;)C=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=m?1:2}return-1}return function FD(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const u=r[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,r)}function Yg(r,s,a=!1){for(let u=0;u<s.length;u++)if(OD(r,s[u],a))return!0;return!1}function Kg(r,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(r.length===u.length){for(let d=0;d<r.length;d++)if(r[d]!==u[d])continue e;return!0}}return!1}function qg(r,s){return r?":not("+s.trim()+")":s}function LD(r){let s=r[0],a=1,u=2,d="",m=!1;for(;a<r.length;){let y=r[a];if("string"==typeof y)if(2&u){const C=r[++a];d+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?d+="."+y:4&u&&(d+=" "+y);else""!==d&&!_r(y)&&(s+=qg(m,d),d=""),u=y,m=m||!_r(u);a++}return""!==d&&(s+=qg(m,d)),s}const ot={};function Zg(r){Qg(Et(),de(),ci()+r,!1)}function Qg(r,s,a,u){if(!u)if(3==(3&s[ze])){const m=r.preOrderCheckHooks;null!==m&&Bl(s,m,a)}else{const m=r.preOrderHooks;null!==m&&Mo(s,m,0,a)}Nr(a)}function ro(r,s=null,a=null,u){const d=Tc(r,s,a,u);return d.resolveInjectorInitializers(),d}function Tc(r,s=null,a=null,u,d=new Set){const m=[a||ht,ad(r)];return u=u||("object"==typeof r?void 0:Ce(r)),new Og(m,s||Dc(),u||null,d)}let Qa=(()=>{class r{static create(a,u){if(Array.isArray(a))return ro({name:""},u,a,"");{const d=a.name??"";return ro({name:d},a.parent,a.providers,d)}}}return r.THROW_IF_NOT_FOUND=k,r.NULL=new Db,r.\u0275prov=Me({token:r,providedIn:"any",factory:()=>Xt(to)}),r.__NG_ELEMENT_ID__=-1,r})();function Qo(r,s=We.Default){const a=de();return null===a?Xt(r,s):Sa(yn(),a,Y(r),s)}function md(){throw new Error("invalid")}function xc(r,s){return r<<17|s<<2}function yr(r){return r>>17&32767}function Uf(r){return 2|r}function so(r){return(131068&r)>>2}function el(r,s){return-131069&r|s<<2}function o_(r){return 1|r}function Wf(r,s){const a=r.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const m=a[u+1];if(-1!==m){const y=r.data[m];Pr(a[u]),y.contentQueries(2,s[m],m)}}}function ao(r,s,a,u,d,m,y,C,E,I,T){const x=s.blueprint.slice();return x[Ut]=d,x[ze]=76|u,(null!==T||r&&1024&r[ze])&&(x[ze]|=1024),Ns(x),x[Ze]=x[nn]=r,x[q]=a,x[_e]=y||r&&r[_e],x[ye]=C||r&&r[ye],x[nt]=E||r&&r[nt]||null,x[K]=I||r&&r[K]||null,x[Zt]=m,x[ha]=function yg(){return _g++}(),x[uu]=T,x[wt]=2==s.type?r[wt]:x,x}function tr(r,s,a,u,d){let m=r.data[s];if(null===m)m=function u_(r,s,a,u,d){const m=Cu(),y=_a(),E=r.data[s]=function f_(r,s,a,u,d,m){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,a,s,u,d);return null===r.firstChild&&(r.firstChild=E),null!==m&&(y?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(r,s,a,u,d),function xh(){return st.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=a,m.value=u,m.attrs=d;const y=function Fs(){const r=st.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return bi(m,!0),m}function ea(r,s,a,u){if(0===a)return-1;const d=s.length;for(let m=0;m<a;m++)s.push(u),r.blueprint.push(u),r.data.push(null);return d}function Oc(r,s,a){Ll(s);try{const u=r.viewQuery;null!==u&&v_(1,u,a);const d=r.template;null!==d&&il(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Wf(r,s),r.staticViewQueries&&v_(2,r.viewQuery,a);const m=r.components;null!==m&&function r0(r,s){for(let a=0;a<s.length;a++)dC(r,s[a])}(s,m)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[ze]&=-5,Vl()}}function Yf(r,s,a,u){const d=s[ze];if(128!=(128&d)){Ll(s);try{Ns(s),function wu(r){return st.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&il(r,s,a,2,u);const y=3==(3&d);if(y){const I=r.preOrderCheckHooks;null!==I&&Bl(s,I,null)}else{const I=r.preOrderHooks;null!==I&&Mo(s,I,0,null),Nh(s,0)}if(function cC(r){for(let s=ac(r);null!==s;s=pf(s)){if(!s[du])continue;const a=s[Os];for(let u=0;u<a.length;u++){const d=a[u];512&d[ze]||li(d[Ze],1),d[ze]|=512}}}(s),function Jf(r){for(let s=ac(r);null!==s;s=pf(s))for(let a=Dn;a<s.length;a++){const u=s[a],d=u[De];Ps(u)&&Yf(d,u,d.template,u[q])}}(s),null!==r.contentQueries&&Wf(r,s),y){const I=r.contentCheckHooks;null!==I&&Bl(s,I)}else{const I=r.contentHooks;null!==I&&Mo(s,I,1),Nh(s,1)}!function n0(r,s){const a=r.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)Nr(~d);else{const m=d,y=a[++u],C=a[++u];ib(y,m),C(2,s[m])}}}finally{Nr(-1)}}(r,s);const C=r.components;null!==C&&function nC(r,s){for(let a=0;a<s.length;a++)uC(r,s[a])}(s,C);const E=r.viewQuery;if(null!==E&&v_(2,E,u),y){const I=r.viewCheckHooks;null!==I&&Bl(s,I)}else{const I=r.viewHooks;null!==I&&Mo(s,I,2),Nh(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[ze]&=-41,512&s[ze]&&(s[ze]&=-513,li(s[Ze],-1))}finally{Vl()}}}function il(r,s,a,u,d){const m=ci(),y=2&u;try{Nr(-1),y&&s.length>Ft&&Qg(r,s,Ft,!1),oi(y?2:0,d),a(u,d)}finally{Nr(m),oi(y?3:1,d)}}function iC(r,s,a){if(os(s)){const d=s.directiveEnd;for(let m=s.directiveStart;m<d;m++){const y=r.data[m];y.contentQueries&&y.contentQueries(1,a[m],m)}}}function Kf(r,s,a){Th()&&(function Cr(r,s,a,u){const d=a.directiveStart,m=a.directiveEnd;r.firstCreatePass||ko(a,s),xn(u,s);const y=a.initialInputs;for(let C=d;C<m;C++){const E=r.data[C],I=Yi(E);I&&l0(s,a,E);const T=Aa(s,r,C,a);xn(T,s),null!==y&&c0(0,C-d,T,E,0,y),I&&(_n(a.index,s)[q]=T)}}(r,s,a,ai(a,s)),128==(128&a.flags)&&function rl(r,s,a){const u=a.directiveStart,d=a.directiveEnd,m=a.index,y=function Nl(){return st.lFrame.currentDirectiveIndex}();try{Nr(m);for(let C=u;C<d;C++){const E=r.data[C],I=s[C];Du(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&ta(E,I)}}finally{Nr(-1),Du(y)}}(r,s,a))}function qf(r,s,a=ai){const u=s.localNames;if(null!==u){let d=s.index+1;for(let m=0;m<u.length;m+=2){const y=u[m+1],C=-1===y?a(s,r):r[y];r[d++]=C}}}function d_(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Pc(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Pc(r,s,a,u,d,m,y,C,E,I){const T=Ft+u,x=T+d,B=function h_(r,s){const a=[];for(let u=0;u<s;u++)a.push(u<r?null:ot);return a}(T,x),W="function"==typeof I?I():I;return B[De]={type:r,blueprint:B,template:a,queries:null,viewQuery:C,declTNode:s,data:B.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:W,incompleteFirstPass:!1}}function sC(r,s,a,u){const d=fC(s);null===a?d.push(u):(d.push(a),r.firstCreatePass&&pC(r).push(u,d.length-1))}function oC(r,s,a){for(let u in r)if(r.hasOwnProperty(u)){const d=r[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,d):a[u]=[s,d]}return a}function p_(r,s){const u=s.directiveEnd,d=r.data,m=s.attrs,y=[];let C=null,E=null;for(let I=s.directiveStart;I<u;I++){const T=d[I],x=T.inputs,B=null===m||Wg(s)?null:Ed(x,m);y.push(B),C=oC(x,I,C),E=oC(T.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=C,s.outputs=E}function Vi(r,s,a,u,d,m,y,C){const E=ai(s,a);let T,I=s.inputs;!C&&null!=I&&(T=I[u])?(b_(r,a,T,u,d),So(s)&&m_(a,s.index)):3&s.type&&(u=function o0(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),d=null!=y?y(d,s.value||"",u):d,m.setProperty(E,u,d))}function m_(r,s){const a=_n(s,r);16&a[ze]||(a[ze]|=32)}function Nc(r,s,a,u){let d=!1;if(Th()){const m=function aC(r,s,a){const u=r.directiveRegistry;let d=null;if(u)for(let m=0;m<u.length;m++){const y=u[m];Yg(a,y.selectors,!1)&&(d||(d=[]),$l(ko(a,s),r,y.type),Yi(y)?(na(r,a),d.unshift(y)):d.push(y))}return d}(r,s,a),y=null===u?null:{"":-1};if(null!==m){d=!0,__(a,r.data.length,m.length);for(let T=0;T<m.length;T++){const x=m[T];x.providersResolver&&x.providersResolver(x)}let C=!1,E=!1,I=ea(r,s,m.length,null);for(let T=0;T<m.length;T++){const x=m[T];a.mergedAttrs=Ea(a.mergedAttrs,x.hostAttrs),Cd(r,a,s,I,x),lC(I,x,y),null!==x.contentQueries&&(a.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=128);const B=x.type.prototype;!C&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),C=!0),!E&&(B.ngOnChanges||B.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),E=!0),I++}p_(r,a)}y&&function cT(r,s,a){if(s){const u=r.localNames=[];for(let d=0;d<s.length;d+=2){const m=a[s[d+1]];if(null==m)throw new Ie(-301,!1);u.push(s[d],m)}}}(a,u,y)}return a.mergedAttrs=Ea(a.mergedAttrs,a.attrs),d}function lo(r,s,a,u,d,m){const y=m.hostBindings;if(y){let C=r.hostBindingOpCodes;null===C&&(C=r.hostBindingOpCodes=[]);const E=~s.index;(function Zf(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=E&&C.push(E),C.push(u,d,y)}}function ta(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function na(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function lC(r,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=r;Yi(s)&&(a[""]=r)}}function __(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}function Cd(r,s,a,u,d){r.data[u]=d;const m=d.factory||(d.factory=lr(d.type)),y=new Ca(m,Yi(d),Qo);r.blueprint[u]=y,a[u]=y,lo(r,s,0,u,ea(r,a,d.hostVars,ot),d)}function l0(r,s,a){const u=ai(s,r),d=d_(a),m=r[_e],y=Hi(r,ao(r,d,null,a.onPush?32:16,u,s,m,m.createRenderer(u,a),null,null,null));r[s.index]=y}function bs(r,s,a,u,d,m){const y=ai(r,s);!function Qf(r,s,a,u,d,m,y){if(null==m)r.removeAttribute(s,d,a);else{const C=null==y?J(m):y(m,u||"",d);r.setAttribute(s,d,C,a)}}(s[ye],y,m,r.value,a,u,d)}function c0(r,s,a,u,d,m){const y=m[s];if(null!==y){const C=u.setInput;for(let E=0;E<y.length;){const I=y[E++],T=y[E++],x=y[E++];null!==C?u.setInput(a,x,I,T):a[T]=x}}}function Ed(r,s){let a=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,r[d],s[u+1])),u+=2}else u+=2;else u+=4}return a}function Fc(r,s,a,u){return new Array(r,!0,!1,s,null,0,u,a,null,null)}function uC(r,s){const a=_n(s,r);if(Ps(a)){const u=a[De];48&a[ze]?Yf(u,a,u.template,a[q]):a[Un]>0&&Xf(a)}}function Xf(r){for(let u=ac(r);null!==u;u=pf(u))for(let d=Dn;d<u.length;d++){const m=u[d];if(Ps(m))if(512&m[ze]){const y=m[De];Yf(y,m,y.template,m[q])}else m[Un]>0&&Xf(m)}const a=r[De].components;if(null!==a)for(let u=0;u<a.length;u++){const d=_n(a[u],r);Ps(d)&&d[Un]>0&&Xf(d)}}function dC(r,s){const a=_n(s,r),u=a[De];(function hC(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])})(u,a),Oc(u,a,a[q])}function Hi(r,s){return r[gt]?r[Nt][qt]=s:r[gt]=s,r[Nt]=s,s}function ep(r){for(;r;){r[ze]|=32;const s=Zs(r);if(Al(r)&&!s)return r;r=s}return null}function tp(r,s,a,u=!0){const d=s[_e];d.begin&&d.begin();try{Yf(r,s,r.template,a)}catch(y){throw u&&gC(s,y),y}finally{d.end&&d.end()}}function v_(r,s,a){Pr(0),s(r,a)}function fC(r){return r[Mr]||(r[Mr]=[])}function pC(r){return r.cleanup||(r.cleanup=[])}function mC(r,s,a){return(null===r||Yi(r))&&(a=function as(r){for(;Array.isArray(r);){if("object"==typeof r[fa])return r;r=r[Ut]}return null}(a[s.index])),a[ye]}function gC(r,s){const a=r[K],u=a?a.get(dd,null):null;u&&u.handleError(s)}function b_(r,s,a,u,d){for(let m=0;m<a.length;){const y=a[m++],C=a[m++],E=s[y],I=r.data[y];null!==I.setInput?I.setInput(E,d,u,C):E[C]=d}}function np(r,s,a){let u=a?r.styles:null,d=a?r.classes:null,m=0;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?m=C:1==m?d=Se(d,C):2==m&&(u=Se(u,C+": "+s[++y]+";"))}a?r.styles=u:r.stylesWithoutHost=u,a?r.classes=d:r.classesWithoutHost=d}function ip(r,s,a,u,d=!1){for(;null!==a;){const m=s[a.index];if(null!==m&&u.push(fn(m)),vi(m))for(let C=Dn;C<m.length;C++){const E=m[C],I=E[De].firstChild;null!==I&&ip(E[De],E,I,u)}const y=a.type;if(8&y)ip(r,s,a.child,u);else if(32&y){const C=oc(a,s);let E;for(;E=C();)u.push(E)}else if(16&y){const C=Ef(s,a);if(Array.isArray(C))u.push(...C);else{const E=Zs(s[wt]);ip(E[De],E,C,u,!0)}}a=d?a.projectionNext:a.next}return u}class wd{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[De];return ip(a,s,a.firstChild,[])}get context(){return this._lView[q]}set context(s){this._lView[q]=s}get destroyed(){return 128==(128&this._lView[ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Ze];if(vi(s)){const a=s[Io],u=a?a.indexOf(this):-1;u>-1&&(pr(s,u),Fu(a,u))}this._attachedToViewContainer=!1}$t(this._lView[De],this._lView)}onDestroy(s){sC(this._lView[De],this._lView,null,s)}markForCheck(){ep(this._cdRefInjectingView||this._lView)}detach(){this._lView[ze]&=-65}reattach(){this._lView[ze]|=64}detectChanges(){tp(this._lView[De],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _f(r,s){Ji(r,s,s[ye],2,null,null)}(this._lView[De],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=s}}class d0 extends wd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;tp(s[De],s,s[q],!1)}checkNoChanges(){}get context(){return null}}class C_ extends ld{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=X(s);return new Dd(a,this.ngModule)}}function _C(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class f0{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){const d=this.injector.get(s,Ug,u);return d!==Ug||a===Ug?d:this.parentInjector.get(s,a,u)}}class Dd extends Tb{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function VD(r){return r.map(LD).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return _C(this.componentDef.inputs)}get outputs(){return _C(this.componentDef.outputs)}create(s,a,u,d){let m=(d=d||this.ngModule)instanceof gr?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new f0(s,m):s,C=y.get(Vg,null);if(null===C)throw new Ie(407,!1);const E=y.get(Bg,null),I=C.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",x=u?function s0(r,s,a){return r.selectRootElement(s,a===Qe.ShadowDom)}(I,u,this.componentDef.encapsulation):cc(I,T,function h0(r){const s=r.toLowerCase();return"svg"===s?Rr:"math"===s?"math":null}(T)),B=this.componentDef.onPush?288:272,W=Pc(0,null,null,1,0,null,null,null,null,null),se=ao(null,W,null,B,null,null,C,I,E,y,null);let Ae,Re;Ll(se);try{const Ge=function E_(r,s,a,u,d,m){const y=a[De],C=Ft;a[C]=r;const E=tr(y,C,2,"#host",null),I=E.mergedAttrs=s.hostAttrs;null!==I&&(np(E,I,!0),null!==r&&(Ul(d,r,I),null!==E.classes&&Go(d,r,E.classes),null!==E.styles&&Li(d,r,E.styles)));const T=u.createRenderer(r,s),x=ao(a,d_(s),null,s.onPush?32:16,a[C],E,u,T,m||null,null,null);return y.firstCreatePass&&($l(ko(E,a),y,s.type),na(y,E),__(E,a.length,1)),Hi(a,x),a[C]=x}(x,this.componentDef,se,C,I);if(x)if(u)Ul(I,x,["ng-version",xb.full]);else{const{attrs:et,classes:he}=function Vb(r){const s=[],a=[];let u=1,d=2;for(;u<r.length;){let m=r[u];if("string"==typeof m)2===d?""!==m&&s.push(m,r[++u]):8===d&&a.push(m);else{if(!_r(d))break;d=m}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);et&&Ul(I,x,et),he&&he.length>0&&Go(I,x,he.join(" "))}if(Re=ma(W,Ft),void 0!==a){const et=Re.projection=[];for(let he=0;he<this.ngContentSelectors.length;he++){const at=a[he];et.push(null!=at?Array.from(at):null)}}Ae=function yC(r,s,a,u){const d=a[De],m=function Bi(r,s,a){const u=yn();r.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Cd(r,u,s,ea(r,s,1,null),a),p_(r,u));const d=Aa(s,r,u.directiveStart,u);xn(d,s);const m=ai(u,s);return m&&xn(m,s),d}(d,a,s);if(r[q]=a[q]=m,null!==u)for(const C of u)C(m,s);if(s.contentQueries){const C=yn();s.contentQueries(1,m,C.directiveStart)}const y=yn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Nr(y.index),lo(a[De],y,0,y.directiveStart,y.directiveEnd,s),ta(s,m)),m}(Ge,this.componentDef,se,[m0]),Oc(W,se,null)}finally{Vl()}return new Yr(this.componentType,Ae,Sc(Re,se),se,Re)}}class Yr extends DD{constructor(s,a,u,d,m){super(),this.location=u,this._rootLView=d,this._tNode=m,this.instance=a,this.hostView=this.changeDetectorRef=new d0(d),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[s])){const m=this._rootLView;b_(m[De],m,d,s,a),m_(m,this._tNode.index)}}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function m0(){const r=yn();ba(de()[De],r)}function D_(r){let s=function w_(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const u=[r];for(;s;){let d;if(Yi(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ie(903,!1);d=s.\u0275dir}if(d){if(a){u.push(d);const y=r;y.inputs=I_(r.inputs),y.declaredInputs=I_(r.declaredInputs),y.outputs=I_(r.outputs);const C=d.hostBindings;C&&y0(r,C);const E=d.viewQuery,I=d.contentQueries;if(E&&_0(r,E),I&&vC(r,I),oe(r.inputs,d.inputs),oe(r.declaredInputs,d.declaredInputs),oe(r.outputs,d.outputs),Yi(d)&&d.data.animation){const T=r.data;T.animation=(T.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(r),C===D_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function g0(r){let s=0,a=null;for(let u=r.length-1;u>=0;u--){const d=r[u];d.hostVars=s+=d.hostVars,d.hostAttrs=Ea(d.hostAttrs,a=Ea(a,d.hostAttrs))}}(u)}function I_(r){return r===gn?{}:r===ht?[]:r}function _0(r,s){const a=r.viewQuery;r.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function vC(r,s){const a=r.contentQueries;r.contentQueries=a?(u,d,m)=>{s(u,d,m),a(u,d,m)}:s}function y0(r,s){const a=r.hostBindings;r.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}let rp=null;function sl(){if(!rp){const r=zt.Symbol;if(r&&r.iterator)rp=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(rp=u)}}}return rp}function Id(r){return!!S_(r)&&(Array.isArray(r)||!(r instanceof Map)&&sl()in r)}function S_(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Cs(r,s,a){return r[s]=a}function wi(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function A_(r,s,a,u){const d=de();return wi(d,Or(),s)&&(Et(),bs(cn(),d,r,s,a,u)),A_}function T_(r,s,a,u,d,m,y,C){const E=de(),I=Et(),T=r+Ft,x=I.firstCreatePass?function Vc(r,s,a,u,d,m,y,C,E){const I=s.consts,T=tr(s,r,4,y||null,Ki(I,C));Nc(s,a,T,Ki(I,E)),ba(s,T);const x=T.tViews=Pc(2,T,u,d,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,T),x.queries=s.queries.embeddedTView(T)),T}(T,I,E,s,a,u,d,m,y):I.data[T];bi(x,!1);const B=E[ye].createComment("");hc(I,E,B,x),xn(B,E),Hi(E,E[T]=Fc(B,E,B,x)),kr(x)&&Kf(I,E,x),null!=y&&qf(E,x,C)}function M_(r){return ga(function ln(){return st.lFrame.contextLView}(),Ft+r)}function k_(r,s,a){const u=de();return wi(u,Or(),s)&&Vi(Et(),cn(),u,r,s,u[ye],a,!1),k_}function x_(r,s,a,u,d){const y=d?"class":"style";b_(r,a,s.inputs[y],y,u)}function lp(r,s,a,u){const d=de(),m=Et(),y=Ft+r,C=d[ye],E=d[y]=cc(C,s,function Ph(){return st.lFrame.currentNamespace}()),I=m.firstCreatePass?function I0(r,s,a,u,d,m,y){const C=s.consts,I=tr(s,r,2,d,Ki(C,m));return Nc(s,a,I,Ki(C,y)),null!==I.attrs&&np(I,I.attrs,!1),null!==I.mergedAttrs&&np(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(y,m,d,0,s,a,u):m.data[y];bi(I,!0);const T=I.mergedAttrs;null!==T&&Ul(C,E,T);const x=I.classes;null!==x&&Go(C,E,x);const B=I.styles;return null!==B&&Li(C,E,B),64!=(64&I.flags)&&hc(m,d,E,I),0===function yu(){return st.lFrame.elementDepthCount}()&&xn(E,d),function Sh(){st.lFrame.elementDepthCount++}(),kr(I)&&(Kf(m,d,I),iC(m,I,d)),null!==u&&qf(d,I),lp}function cp(){let r=yn();_a()?Eu():(r=r.parent,bi(r,!1));const s=r;!function Ah(){st.lFrame.elementDepthCount--}();const a=Et();return a.firstCreatePass&&(ba(a,r),os(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function cb(r){return 0!=(16&r.flags)}(s)&&x_(a,s,de(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function qm(r){return 0!=(32&r.flags)}(s)&&x_(a,s,de(),s.stylesWithoutHost,!1),cp}function up(r,s,a,u){return lp(r,s,a,u),cp(),up}function dp(r,s,a){const u=de(),d=Et(),m=r+Ft,y=d.firstCreatePass?function wC(r,s,a,u,d){const m=s.consts,y=Ki(m,u),C=tr(s,r,8,"ng-container",y);return null!==y&&np(C,y,!0),Nc(s,a,C,Ki(m,d)),null!==s.queries&&s.queries.elementStart(s,C),C}(m,d,u,s,a):d.data[m];bi(y,!0);const C=u[m]=u[ye].createComment("");return hc(d,u,C,y),xn(C,u),kr(y)&&(Kf(d,u,y),iC(d,y,u)),null!=a&&qf(u,y),dp}function hp(){let r=yn();const s=Et();return _a()?Eu():(r=r.parent,bi(r,!1)),s.firstCreatePass&&(ba(s,r),os(r)&&s.queries.elementEnd(r)),hp}function fp(){return de()}function pp(r){return!!r&&"function"==typeof r.then}function mp(r){return!!r&&"function"==typeof r.subscribe}const gp=mp;function O_(r,s,a,u){const d=de(),m=Et(),y=yn();return DC(m,d,d[ye],y,r,s,0,u),O_}function P_(r,s){const a=yn(),u=de(),d=Et();return DC(d,u,mC(ya(d.data),a,u),a,r,s),P_}function DC(r,s,a,u,d,m,y,C){const E=kr(u),T=r.firstCreatePass&&pC(r),x=s[q],B=fC(s);let W=!0;if(3&u.type||C){const Re=ai(u,s),Ge=C?C(Re):Re,et=B.length,he=C?Vt=>C(fn(Vt[u.index])):u.index;let at=null;if(!C&&E&&(at=function N_(r,s,a,u){const d=r.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const y=d[m];if(y===a&&d[m+1]===u){const C=s[Mr],E=d[m+2];return C.length>E?C[E]:null}"string"==typeof y&&(m+=2)}return null}(r,s,d,u.index)),null!==at)(at.__ngLastListenerFn__||at).__ngNextListenerFn__=m,at.__ngLastListenerFn__=m,W=!1;else{m=SC(u,s,x,m,!1);const Vt=a.listen(Ge,d,m);B.push(m,Vt),T&&T.push(d,he,et,et+1)}}else m=SC(u,s,x,m,!1);const se=u.outputs;let Ae;if(W&&null!==se&&(Ae=se[d])){const Re=Ae.length;if(Re)for(let Ge=0;Ge<Re;Ge+=2){const on=s[Ae[Ge]][Ae[Ge+1]].subscribe(m),ca=B.length;B.push(m,on),T&&T.push(d,u.index,ca,-(ca+1))}}}function IC(r,s,a,u){try{return oi(6,s,a),!1!==a(u)}catch(d){return gC(r,d),!1}finally{oi(7,s,a)}}function SC(r,s,a,u,d){return function m(y){if(y===Function)return u;ep(2&r.flags?_n(r.index,s):s);let E=IC(s,a,u,y),I=m.__ngNextListenerFn__;for(;I;)E=IC(s,a,I,y)&&E,I=I.__ngNextListenerFn__;return d&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Is(r=1){return function Oh(r){return(st.lFrame.contextLView=function rb(r,s){for(;r>0;)s=s[nn],r--;return s}(r,st.lFrame.contextLView))[q]}(r)}function F_(r,s){let a=null;const u=function PD(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const m=s[d];if("*"!==m){if(null===u?Yg(r,m,!0):Kg(u,m))return d}else a=d}return a}function _p(r){const s=de()[wt][Zt];if(!s.projection){const u=s.projection=Oo(r?r.length:1,null),d=u.slice();let m=s.child;for(;null!==m;){const y=r?F_(m,r):0;null!==y&&(d[y]?d[y].projectionNext=m:u[y]=m,d[y]=m),m=m.next}}}function yp(r,s=0,a){const u=de(),d=Et(),m=tr(d,Ft+r,16,null,a||null);null===m.projection&&(m.projection=s),Eu(),64!=(64&m.flags)&&function bt(r,s,a){$o(s[ye],0,s,a,Zu(r,a,s),Cf(a.parent||s[Zt],a,s))}(d,u,m)}function MC(r,s,a,u,d){const m=r[a+1],y=null===s;let C=u?yr(m):so(m),E=!1;for(;0!==C&&(!1===E||y);){const T=r[C+1];fo(r[C],s)&&(E=!0,r[C+1]=u?o_(T):Uf(T)),C=u?yr(T):so(T)}E&&(r[a+1]=u?Uf(m):o_(m))}function fo(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Ra(r,s)>=0}function Y_(r,s,a){return wr(r,s,a,!1),Y_}function Sd(r,s){return wr(r,s,null,!0),Sd}function wr(r,s,a,u){const d=de(),m=Et(),y=function qi(r){const s=st.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}(2);m.firstUpdatePass&&function K_(r,s,a,u){const d=r.data;if(null===d[a+1]){const m=d[ci()],y=function OC(r,s){return s>=r.expandoStartIndex}(r,a);(function Uc(r,s){return 0!=(r.flags&(s?16:32))})(m,u)&&null===s&&!y&&(s=!1),s=function x0(r,s,a,u){const d=ya(r);let m=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=Ad(a=q_(null,r,s,a,u),s.attrs,u),m=null);else{const y=s.directiveStylingLast;if(-1===y||r[y]!==d)if(a=q_(d,r,s,a,u),null===m){let E=function ol(r,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==so(u))return r[yr(u)]}(r,s,u);void 0!==E&&Array.isArray(E)&&(E=q_(null,r,s,E[1],u),E=Ad(E,s.attrs,u),function PC(r,s,a,u){r[yr(a?s.classBindings:s.styleBindings)]=u}(r,s,u,E))}else m=function NC(r,s,a){let u;const d=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<d;m++)u=Ad(u,r[m].hostAttrs,a);return Ad(u,s.attrs,a)}(r,s,u)}return void 0!==m&&(u?s.residualClasses=m:s.residualStyles=m),a}(d,m,s,u),function S0(r,s,a,u,d,m){let y=m?s.classBindings:s.styleBindings,C=yr(y),E=so(y);r[u]=a;let T,I=!1;if(Array.isArray(a)?(T=a[1],(null===T||Ra(a,T)>0)&&(I=!0)):T=a,d)if(0!==E){const B=yr(r[C+1]);r[u+1]=xc(B,C),0!==B&&(r[B+1]=el(r[B+1],u)),r[C+1]=function Hf(r,s){return 131071&r|s<<17}(r[C+1],u)}else r[u+1]=xc(C,0),0!==C&&(r[C+1]=el(r[C+1],u)),C=u;else r[u+1]=xc(E,0),0===C?C=u:r[E+1]=el(r[E+1],u),E=u;I&&(r[u+1]=Uf(r[u+1])),MC(r,T,u,!0),MC(r,T,u,!1),function A0(r,s,a,u,d){const m=d?r.residualClasses:r.residualStyles;null!=m&&"string"==typeof s&&Ra(m,s)>=0&&(a[u+1]=o_(a[u+1]))}(s,T,r,u,m),y=xc(C,E),m?s.classBindings=y:s.styleBindings=y}(d,m,s,a,y,u)}}(m,r,y,u),s!==ot&&wi(d,y,s)&&function Td(r,s,a,u,d,m,y,C){if(!(3&s.type))return;const E=r.data,I=E[C+1];Hc(function jf(r){return 1==(1&r)}(I)?Ip(E,s,a,d,so(I),y):void 0)||(Hc(m)||function Yb(r){return 2==(2&r)}(I)&&(m=Ip(E,null,a,d,C,y)),function mc(r,s,a,u,d){if(s)d?r.addClass(a,u):r.removeClass(a,u);else{let m=-1===u.indexOf("-")?void 0:Fi.DashCase;null==d?r.removeStyle(a,u,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=Fi.Important),r.setStyle(a,u,d,m))}}(u,y,cr(ci(),a),d,m))}(m,m.data[ci()],d,d[ye],r,d[y+1]=function Q_(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=Ce(un(r)))),r}(s,a),u,y)}function q_(r,s,a,u,d){let m=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(m=s[C],u=Ad(u,m.hostAttrs,d),m!==r);)C++;return null!==r&&(a.directiveStylingLast=C),u}function Ad(r,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?d=y:d===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ci(r,y,!!a||s[++m]))}return void 0===r?null:r}function Ip(r,s,a,u,d,m){const y=null===s;let C;for(;d>0;){const E=r[d],I=Array.isArray(E),T=I?E[1]:E,x=null===T;let B=a[d+1];B===ot&&(B=x?ht:void 0);let W=x?Gh(B,u):T===u?B:void 0;if(I&&!Hc(W)&&(W=Gh(E,u)),Hc(W)&&(C=W,y))return C;const se=r[d+1];d=y?yr(se):so(se)}if(null!==s){let E=m?s.residualClasses:s.residualStyles;null!=E&&(C=Gh(E,u))}return C}function Hc(r){return void 0!==r}function Sp(r,s=""){const a=de(),u=Et(),d=r+Ft,m=u.firstCreatePass?tr(u,d,1,s,null):u.data[d],y=a[d]=function Ho(r,s){return r.createText(s)}(a[ye],s);hc(u,a,y,m),bi(m,!1)}function Md(r){return jc("",r,""),Md}function jc(r,s,a){const u=de(),d=function ia(r,s,a,u){return wi(r,Or(),a)?s+J(a)+u:ot}(u,r,s,a);return d!==ot&&function co(r,s,a){const u=cr(s,r);!function mf(r,s,a){r.setValue(s,a)}(r[ye],u,a)}(u,ci(),d),jc}function WC(r,s,a){const u=de();return wi(u,Or(),s)&&Vi(Et(),cn(),u,r,s,u[ye],a,!0),WC}function YC(r,s,a){const u=de();if(wi(u,Or(),s)){const m=Et(),y=cn();Vi(m,y,u,r,s,mC(ya(m.data),y,u),a,!0)}return YC}const ll=void 0;var KC=["en",[["a","p"],["AM","PM"],ll],[["AM","PM"],ll,ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ll,"{1} 'at' {0}",ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oy(r){const a=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let $c={};function ay(r){const s=function $0(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=ly(s);if(a)return a;const u=s.split("-")[0];if(a=ly(u),a)return a;if("en"===u)return KC;throw new Ie(701,!1)}function Op(r){return ay(r)[it.PluralCase]}function ly(r){return r in $c||($c[r]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[r]),$c[r]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const zc="en-US";let qC=zc;function Nd(r,s,a,u,d){if(r=Y(r),Array.isArray(r))for(let m=0;m<r.length;m++)Nd(r[m],s,a,u,d);else{const m=Et(),y=de();let C=Za(r)?r:Y(r.provide),E=Ng(r);const I=yn(),T=1048575&I.providerIndexes,x=I.directiveStart,B=I.providerIndexes>>20;if(Za(r)||!r.multi){const W=new Ca(E,d,Qo),se=Dy(C,s,d?T:T+B,x);-1===se?($l(ko(I,y),m,C),wy(m,r,s.length),s.push(C),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(W),y.push(W)):(a[se]=W,y[se]=W)}else{const W=Dy(C,s,T+B,x),se=Dy(C,s,T,T+B),Re=se>=0&&a[se];if(d&&!Re||!d&&!(W>=0&&a[W])){$l(ko(I,y),m,C);const Ge=function dI(r,s,a,u,d){const m=new Ca(r,a,Qo);return m.multi=[],m.index=s,m.componentProviders=0,Wp(m,d,u&&!a),m}(d?uI:yE,a.length,d,u,E);!d&&Re&&(a[se].providerFactory=Ge),wy(m,r,s.length,0),s.push(C),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(Ge),y.push(Ge)}else wy(m,r,W>-1?W:se,Wp(a[d?se:W],E,!d&&u));!d&&u&&Re&&a[se].componentProviders++}}}function wy(r,s,a,u){const d=Za(s),m=function en(r){return!!r.useClass}(s);if(d||m){const E=(m?Y(s.useClass):s).prototype.ngOnDestroy;if(E){const I=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const T=I.indexOf(a);-1===T?I.push(a,[u,E]):I[T+1].push(u,E)}else I.push(a,E)}}}function Wp(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Dy(r,s,a,u){for(let d=a;d<u;d++)if(s[d]===r)return d;return-1}function yE(r,s,a,u){return Iy(this.multi,[])}function uI(r,s,a,u){const d=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Aa(a,a[De],this.providerFactory.index,u);m=C.slice(0,y),Iy(d,m);for(let E=y;E<C.length;E++)m.push(C[E])}else m=[],Iy(d,m);return m}function Iy(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function vE(r,s=[]){return a=>{a.providersResolver=(u,d)=>function _E(r,s,a){const u=Et();if(u.firstCreatePass){const d=Yi(r);Nd(a,u.data,u.blueprint,d,!0),Nd(s,u.data,u.blueprint,d,!1)}}(u,d?d(r):r,s)}}class dl{}class hI{}function Sy(r,s){return new Ay(r,s??null)}class Ay extends dl{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new C_(this);const u=function _t(r,s){const a=r[Mt]||null;if(!a&&!0===s)throw new Error(`Type ${Ce(r)} does not have '\u0275mod' property.`);return a}(s);this._bootstrapComponents=function vs(r){return r instanceof Function?r():r}(u.bootstrap),this._r3Injector=Tc(s,a,[{provide:dl,useValue:this},{provide:ld,useValue:this.componentFactoryResolver}],Ce(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Fd extends hI{constructor(s){super(),this.moduleType=s}create(s){return new Ay(this.moduleType,s)}}function bn(r,s){const a=r[s];return a===ot?void 0:a}function hi(r,s,a,u,d,m,y){const C=s+a;return function Pn(r,s,a,u){const d=wi(r,s,a);return wi(r,s+1,u)||d}(r,C,d,m)?Cs(r,C+2,y?u.call(y,d,m):u(d,m)):bn(r,C+2)}function xE(r,s){const a=Et();let u;const d=r+Ft;a.firstCreatePass?(u=function CI(r,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(r===u.name)return u}}(s,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const m=u.factory||(u.factory=lr(u.type)),y=ii(Qo);try{const C=Vs(!1),E=m();return Vs(C),function D0(r,s,a,u){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=u}(a,de(),d,E),E}finally{ii(y)}}function Jp(r,s,a){const u=r+Ft,d=de(),m=ga(d,u);return Ld(d,u)?function TE(r,s,a,u,d,m){const y=s+a;return wi(r,y,d)?Cs(r,y+1,m?u.call(m,d):u(d)):bn(r,y+1)}(d,zn(),s,m.transform,a,m):m.transform(a)}function RE(r,s,a,u){const d=r+Ft,m=de(),y=ga(m,d);return Ld(m,d)?hi(m,zn(),s,y.transform,a,u,y):y.transform(a,u)}function Ld(r,s){return r[De].data[s].pure}function Ny(r){return s=>{setTimeout(r,void 0,s)}}const As=class DI extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let d=s,m=a||(()=>null),y=u;if(s&&"object"==typeof s){const E=s;d=E.next?.bind(E),m=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(m=Ny(m),d&&(d=Ny(d)),y&&(y=Ny(y)));const C=super.subscribe({next:d,error:m,complete:y});return s instanceof Q.w0&&s.add(C),C}};function OE(){return this._results[sl()]()}class Xp{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=sl(),u=Xp.prototype;u[a]||(u[a]=OE)}get changes(){return this._changes||(this._changes=new As)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=Mn(s);(this._changesDetected=!function rg(r,s,a){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let d=r[u],m=s[u];if(a&&(d=a(d),m=a(m)),m!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vd=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ly,r})();const Fy=Vd,II=class extends Fy{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s,a){const u=this._declarationTContainer.tViews,d=ao(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,a||null);d[jn]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Wi];return null!==y&&(d[Wi]=y.createEmbeddedView(u)),Oc(u,d,s),new wd(d)}};function Ly(){return Bd(yn(),de())}function Bd(r,s){return 4&r.type?new II(s,r,Sc(r,s)):null}let Wc=(()=>{class r{}return r.__NG_ELEMENT_ID__=SI,r})();function SI(){return tm(yn(),de())}const AI=Wc,PE=class extends AI{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Sc(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const s=xo(this._hostTNode,this._hostLView);if(Qm(s)){const a=cs(s,this._hostLView),u=wa(s);return new Zi(a[De].data[u+8],a)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=em(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Dn}createEmbeddedView(s,a,u){let d,m;"number"==typeof u?d=u:null!=u&&(d=u.index,m=u.injector);const y=s.createEmbeddedView(a||{},m);return this.insert(y,d),y}createComponent(s,a,u,d,m){const y=s&&!function Ni(r){return"function"==typeof r}(s);let C;if(y)C=a;else{const x=a||{};C=x.index,u=x.injector,d=x.projectableNodes,m=x.environmentInjector||x.ngModuleRef}const E=y?s:new Dd(X(s)),I=u||this.parentInjector;if(!m&&null==E.ngModule){const B=(y?I:this.parentInjector).get(gr,null);B&&(m=B)}const T=E.create(I,d,void 0,m);return this.insert(T.hostView,C),T}insert(s,a){const u=s._lView,d=u[De];if(function wh(r){return vi(r[Ze])}(u)){const T=this.indexOf(s);if(-1!==T)this.detach(T);else{const x=u[Ze],B=new PE(x,x[Zt],x[Ze]);B.detach(B.indexOf(s))}}const m=this._adjustIndex(a),y=this._lContainer;!function kt(r,s,a,u){const d=Dn+u,m=a.length;u>0&&(a[d-1][qt]=s),u<m-Dn?(s[qt]=a[d],sg(a,Dn+u,s)):(a.push(s),s[qt]=null),s[Ze]=a;const y=s[jn];null!==y&&a!==y&&function xt(r,s){const a=r[Os];s[wt]!==s[Ze][Ze][wt]&&(r[du]=!0),null===a?r[Os]=[s]:a.push(s)}(y,s);const C=s[Wi];null!==C&&C.insertView(r),s[ze]|=64}(d,u,y,m);const C=fc(m,y),E=u[ye],I=uc(E,y[Lt]);return null!==I&&function Uo(r,s,a,u,d,m){u[Ut]=d,u[Zt]=s,Ji(r,u,a,1,d,m)}(d,y[Zt],E,u,I,C),s.attachToViewContainerRef(),sg(Vy(y),m,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=em(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=pr(this._lContainer,a);u&&(Fu(Vy(this._lContainer),a),$t(u[De],u))}detach(s){const a=this._adjustIndex(s,-1),u=pr(this._lContainer,a);return u&&null!=Fu(Vy(this._lContainer),a)?new wd(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function em(r){return r[Io]}function Vy(r){return r[Io]||(r[Io]=[])}function tm(r,s){let a;const u=s[r.index];if(vi(u))a=u;else{let d;if(8&r.type)d=fn(u);else{const m=s[ye];d=m.createComment("");const y=ai(r,s);dt(m,uc(m,y),d,function Dg(r,s){return r.nextSibling(s)}(m,y),!1)}s[r.index]=a=Fc(u,s,d,r),Hi(s,a)}return new PE(a,r,s)}class Hd{constructor(s){this.queryList=s,this.matches=null}clone(){return new Hd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hy{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let m=0;m<u;m++){const y=a.getByIndex(m);d.push(this.queries[y.indexInDeclarationView].clone())}return new Hy(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Ky(s,a).matches&&this.queries[a].setDirty()}}class nm{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Uy{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,m=this.getByIndex(u).embeddedTView(s,d);m&&(m.indexInDeclarationView=u,null!==a?a.push(m):a=[m])}return null!==a?new Uy(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Ud{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Ud(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const m=u[d];this.matchTNodeWithReadOption(s,a,MI(a,m)),this.matchTNodeWithReadOption(s,a,ds(a,s,m,!1,!1))}else u===Vd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ds(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===cd||d===Wc||d===Vd&&4&a.type)this.addMatch(a.index,-2);else{const m=ds(a,s,d,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function MI(r,s){const a=r.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function $y(r,s,a,u){return-1===a?function jy(r,s){return 11&r.type?Sc(r,s):4&r.type?Bd(r,s):null}(s,r):-2===a?function NE(r,s,a){return a===cd?Sc(s,r):a===Vd?Bd(s,r):a===Wc?tm(s,r):void 0}(r,s,u):Aa(r,r[De],a,s)}function zy(r,s,a,u){const d=s[Wi].queries[u];if(null===d.matches){const m=r.data,y=a.matches,C=[];for(let E=0;E<y.length;E+=2){const I=y[E];C.push(I<0?null:$y(s,m[I],y[E+1],a.metadata.read))}d.matches=C}return d.matches}function Gy(r,s,a,u){const d=r.queries.getByIndex(a),m=d.matches;if(null!==m){const y=zy(r,s,d,a);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)u.push(y[C/2]);else{const I=m[C+1],T=s[-E];for(let x=Dn;x<T.length;x++){const B=T[x];B[jn]===B[Ze]&&Gy(B[De],B,I,u)}if(null!==T[Os]){const x=T[Os];for(let B=0;B<x.length;B++){const W=x[B];Gy(W[De],W,I,u)}}}}}return u}function im(r){const s=de(),a=Et(),u=Fl();Pr(u+1);const d=Ky(a,u);if(r.dirty&&function nb(r){return 4==(4&r[ze])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const m=d.crossesNgTemplate?Gy(a,s,u,[]):zy(a,s,d,u);r.reset(m,xf),r.notifyOnChanges()}return!0}return!1}function FE(r,s,a){const u=Et();u.firstCreatePass&&(Yy(u,new nm(r,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),Wy(u,de(),s)}function rm(r,s,a,u){const d=Et();if(d.firstCreatePass){const m=yn();Yy(d,new nm(s,a,u),m.index),function sm(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}Wy(d,de(),a)}function LE(){return function Ts(r,s){return r[Wi].queries[s].queryList}(de(),Fl())}function Wy(r,s,a){const u=new Xp(4==(4&a));sC(r,s,u,u.destroy),null===s[Wi]&&(s[Wi]=new Hy),s[Wi].queries.push(new Hd(u))}function Yy(r,s,a){null===r.queries&&(r.queries=new Uy),r.queries.track(new Ud(s,a))}function Ky(r,s){return r.queries.getByIndex(s)}function qy(r,s){return Bd(r,s)}function lm(...r){}const WE=new jt("Application Initializer");let cm=(()=>{class r{constructor(a){this.appInits=a,this.resolve=lm,this.reject=lm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(pp(m))a.push(m);else if(gp(m)){const y=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(Xt(WE,8))},r.\u0275prov=Me({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const YE=new jt("AppId",{providedIn:"root",factory:function KE(){return`${Vn()}${Vn()}${Vn()}`}});function Vn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $i=new jt("Platform Initializer"),zd=new jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HI=new jt("appBootstrapListener"),UI=new jt("AnimationModuleType"),um=new jt("LocaleId",{providedIn:"root",factory:()=>Pa(um,We.Optional|We.SkipSelf)||function At(){return typeof $localize<"u"&&$localize.locale||zc}()}),qE=new jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),eM=(()=>Promise.resolve(0))();function av(r){typeof Zone>"u"?eM.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Qr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new As(!1),this.onMicrotaskEmpty=new As(!1),this.onStable=new As(!1),this.onError=new As(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function lv(){let r=zt.requestAnimationFrame,s=zt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function nM(r){const s=()=>{!function GI(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(zt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,JE(r),r.isCheckStableRunning=!0,cv(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),JE(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,m,y,C)=>{try{return WI(r),a.invokeTask(d,m,y,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||r.shouldCoalesceRunChangeDetection)&&s(),YI(r)}},onInvoke:(a,u,d,m,y,C,E)=>{try{return WI(r),a.invoke(d,m,y,C,E)}finally{r.shouldCoalesceRunChangeDetection&&s(),YI(r)}},onHasTask:(a,u,d,m)=>{a.hasTask(d,m),u===d&&("microTask"==m.change?(r._hasPendingMicrotasks=m.microTask,JE(r),cv(r)):"macroTask"==m.change&&(r.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,u,d,m)=>(a.handleError(d,m),r.runOutsideAngular(()=>r.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qr.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Qr.isInAngularZone())throw new Ie(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+d,s,tM,lm,lm);try{return m.runTask(y,a,u)}finally{m.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const tM={};function cv(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function JE(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function WI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function YI(r){r._nesting--,cv(r)}class iM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new As,this.onMicrotaskEmpty=new As,this.onStable=new As,this.onError=new As}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}const KI=new jt(""),qI=new jt("");let uv,rM=(()=>{class r{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uv||(function XE(r){uv=r}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qr.assertNotInAngularZone(),av(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())av(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}}return r.\u0275fac=function(a){return new(a||r)(Xt(Qr),Xt(dm),Xt(qI))},r.\u0275prov=Me({token:r,factory:r.\u0275fac}),r})(),dm=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return uv?.findTestabilityInTree(this,a,u)??null}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Me({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Wt=null;const ew=new jt("AllowMultipleToken"),qc=new jt("PlatformDestroyListeners"),Jr=!1;function Kn(r,s,a=[]){const u=`Platform: ${s}`,d=new jt(u);return(m=[])=>{let y=Zc();if(!y||y.injector.get(ew,!1)){const C=[...a,...m,{provide:d,useValue:!0}];r?r(C):function XI(r){if(Wt&&!Wt.get(ew,!1))throw new Ie(400,!1);Wt=r;const s=r.get(Gd);(function tw(r){const s=r.get($i,null);s&&s.forEach(a=>a())})(r)}(function fm(r=[],s){return Qa.create({name:s,providers:[{provide:er,useValue:"platform"},{provide:qc,useValue:new Set([()=>Wt=null])},...r]})}(C,u))}return function hm(r){const s=Zc();if(!s)throw new Ie(401,!1);return s}()}}function Zc(){return Wt?.get(Gd)??null}let Gd=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function iw(r,s){let a;return a="noop"===r?new iM:("zone.js"===r?void 0:r)||new Qr(s),a}(u?.ngZone,function pm(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(u)),m=[{provide:Qr,useValue:d}];return d.run(()=>{const y=Qa.create({providers:m,parent:this.injector,name:a.moduleType.name}),C=a.create(y),E=C.injector.get(dd,null);if(!E)throw new Ie(402,!1);return d.runOutsideAngular(()=>{const I=d.onError.subscribe({next:T=>{E.handleError(T)}});C.onDestroy(()=>{gm(this._modules,C),I.unsubscribe()})}),function rw(r,s,a){try{const u=a();return pp(u)?u.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(E,d,()=>{const I=C.injector.get(cm);return I.runInitializers(),I.donePromise.then(()=>(function Np(r){we(r,"Expected localeId to be defined"),"string"==typeof r&&(qC=r.toLowerCase().replace(/_/g,"-"))}(C.injector.get(um,zc)||zc),this._moduleDoBootstrap(C),C))})})}bootstrapModule(a,u=[]){const d=dv({},u);return function ZI(r,s,a){const u=new Fd(a);return Promise.resolve(u)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(a){const u=a.injector.get(mm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ie(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(qc,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(Xt(Qa))},r.\u0275prov=Me({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function dv(r,s){return Array.isArray(s)?s.reduce(dv,r):{...r,...s}}let mm=(()=>{class r{constructor(a,u,d){this._zone=a,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new L.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new L.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Qr.assertNotInAngularZone(),av(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{Qr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ae.T)(m,y.pipe((0,me.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const d=a instanceof Tb;if(!this._injector.get(cm).done){!d&&function rt(r){const s=X(r)||G(r)||xe(r);return null!==s&&s.standalone}(a);throw new Ie(405,Jr)}let y;y=d?a:this._injector.get(ld).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const C=function QI(r){return r.isBoundToModule}(y)?void 0:this._injector.get(dl),I=y.create(Qa.NULL,[],u||y.selector,C),T=I.location.nativeElement,x=I.injector.get(KI,null);return x?.registerApplication(T),I.onDestroy(()=>{this.detachView(I.hostView),gm(this.components,I),x?.unregisterApplication(T)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;gm(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(HI,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>gm(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ie(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(a){return new(a||r)(Xt(Qr),Xt(gr),Xt(dd))},r.\u0275prov=Me({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function gm(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}let Wd=!0,hv=!1;function tS(){return hv=!0,Wd}let pv=(()=>{class r{}return r.__NG_ELEMENT_ID__=ow,r})();function ow(r){return function mv(r,s,a){if(So(r)&&!a){const u=_n(r.index,s);return new wd(u,u)}return 47&r.type?new wd(s[wt],s):null}(yn(),de(),16==(16&r))}class yl{constructor(){}supports(s){return Id(s)}create(s){return new oS(s)}}const dw=(r,s)=>s;class oS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||dw}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,m=null;for(;a||u;){const y=!u||a&&a.currentIndex<fw(u,d,m)?a:u,C=fw(y,d,m),E=y.currentIndex;if(y===u)d--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{m||(m=[]);const I=C-d,T=E-d;if(I!=T){for(let B=0;B<I;B++){const W=B<m.length?m[B]:m[B]=0,se=W+B;T<=se&&se<I&&(m[B]=W+1)}m[y.previousIndex]=T-I}}C!==E&&s(y,C,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Id(s))throw new Ie(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,m,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)m=s[C],y=this._trackByFn(C,m),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,m,y,C)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,y,C),u=!0),a=a._next}else d=0,function E0(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[sl()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,C=>{y=this._trackByFn(d,C),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,C,y,d)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,m,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,m,d)):s=this._addAfter(new aS(a,u),m,d),s}_verifyReinsertion(s,a,u,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?s=this._reinsertAfter(m,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,m=s._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new hw),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class aS{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class hw{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new lS,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(r,s,a){const u=r.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class pw{constructor(){}supports(s){return s instanceof Map||S_(s)}create(){return new cS}}class cS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||S_(s)))throw new Ie(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const m=d._prev,y=d._next;return m&&(m._next=y),y&&(y._prev=m),d._next=null,d._prev=null,d}const u=new uS(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class uS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new tu([new yl])}let tu=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||mw()),deps:[[r,new Gn,new Vr]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new Ie(901,!1)}}return r.\u0275prov=Me({token:r,providedIn:"root",factory:mw}),r})();function Cv(){return new Kd([new pw])}let Kd=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||Cv()),deps:[[r,new Gn,new Vr]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new Ie(901,!1)}}return r.\u0275prov=Me({token:r,providedIn:"root",factory:Cv}),r})();const gw=Kn(null,"core",[]);let _w=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(Xt(mm))},r.\u0275mod=Tr({type:r}),r.\u0275inj=Ct({}),r})();function yw(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(tt,be,R)=>{R.d(be,{Z:()=>Ie});var c=R(2090),Q=R(4859),L=R(2951),ae=R(1877);class me{constructor(J,ce){this._delegate=J,this.firebase=ce,(0,L._addComponent)(J,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=J.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this._delegate.automaticDataCollectionEnabled=J}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(J=>{this._delegate.checkDestroyed(),J()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(J,ce=L._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(J);return!Je.isInitialized()&&"EXPLICIT"===(null===(je=Je.getComponent())||void 0===je?void 0:je.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:ce})}_removeServiceInstance(J,ce=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(J).clearInstance(ce)}_addComponent(J){(0,L._addComponent)(this._delegate,J)}_addOrOverwriteComponent(J){(0,L._addOrOverwriteComponent)(this._delegate,J)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function Se(){const ke=function Ce(ke){const J={},ce={__esModule:!0,initializeApp:function ve(Fe,Ve={}){const Z=L.initializeApp(Fe,Ve);if((0,c.r3)(J,Z.name))return J[Z.name];const ut=new ke(Z,ce);return J[Z.name]=ut,ut},app:Je,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function ne(Fe){const Ve=Fe.name,Z=Ve.replace("-compat","");if(L._registerComponent(Fe)&&"PUBLIC"===Fe.type){const ut=($e=Je())=>{if("function"!=typeof $e[Z])throw oe.create("invalid-app-argument",{appName:Ve});return $e[Z]()};void 0!==Fe.serviceProps&&(0,c.ZB)(ut,Fe.serviceProps),ce[Z]=ut,ke.prototype[Z]=function(...$e){return this._getService.bind(this,Ve).apply(this,Fe.multipleInstances?$e:[])}}return"PUBLIC"===Fe.type?ce[Z]:null},removeApp:function je(Fe){delete J[Fe]},useAsService:function Oe(Fe,Ve){return"serverAuth"===Ve?null:Ve},modularAPIs:L}};function Je(Fe){if(!(0,c.r3)(J,Fe=Fe||L._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Fe});return J[Fe]}return ce.default=ce,Object.defineProperty(ce,"apps",{get:function ie(){return Object.keys(J).map(Fe=>J[Fe])}}),Je.App=ke,ce}(me);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function J(ce){(0,c.ZB)(ke,ce)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ke}(),H=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=U;!function Ee(ke){(0,L.registerVersion)("@firebase/app-compat","0.2.9",ke)}()},2951:(tt,be,R)=>{R.r(be),R.d(be,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Rs,_DEFAULT_ENTRY_NAME:()=>or,_addComponent:()=>Ye,_addOrOverwriteComponent:()=>Qe,_apps:()=>Kt,_clearComponents:()=>gn,_components:()=>Yt,_getProvider:()=>ar,_registerComponent:()=>zt,_removeServiceInstance:()=>yi,deleteApp:()=>Ar,getApp:()=>Mi,getApps:()=>ri,initializeApp:()=>Mt,onLog:()=>rs,registerVersion:()=>si,setLogLevel:()=>wn});var c=R(5861),Q=R(4859),L=R(1877),ae=R(2090);const me=(q,K)=>K.some(_e=>q instanceof _e);let pe,oe;const U=new WeakMap,H=new WeakMap,Y=new WeakMap,Le=new WeakMap,Ee=new WeakMap;let J={get(q,K,_e){if(q instanceof IDBTransaction){if("done"===K)return H.get(q);if("objectStoreNames"===K)return q.objectStoreNames||Y.get(q);if("store"===K)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return ve(q[K])},set:(q,K,_e)=>(q[K]=_e,!0),has:(q,K)=>q instanceof IDBTransaction&&("done"===K||"store"===K)||K in q};function Je(q){return"function"==typeof q?function je(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...K){return q.apply(ie(this),K),ve(U.get(this))}:function(...K){return ve(q.apply(ie(this),K))}:function(K,..._e){const ye=q.call(ie(this),K,..._e);return Y.set(ye,K.sort?K.sort():[K]),ve(ye)}}(q):(q instanceof IDBTransaction&&function ke(q){if(H.has(q))return;const K=new Promise((_e,ye)=>{const nt=()=>{q.removeEventListener("complete",gt),q.removeEventListener("error",Nt),q.removeEventListener("abort",Nt)},gt=()=>{_e(),nt()},Nt=()=>{ye(q.error||new DOMException("AbortError","AbortError")),nt()};q.addEventListener("complete",gt),q.addEventListener("error",Nt),q.addEventListener("abort",Nt)});H.set(q,K)}(q),me(q,function Ce(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,J):q)}function ve(q){if(q instanceof IDBRequest)return function Ie(q){const K=new Promise((_e,ye)=>{const nt=()=>{q.removeEventListener("success",gt),q.removeEventListener("error",Nt)},gt=()=>{_e(ve(q.result)),nt()},Nt=()=>{ye(q.error),nt()};q.addEventListener("success",gt),q.addEventListener("error",Nt)});return K.then(_e=>{_e instanceof IDBCursor&&U.set(_e,q)}).catch(()=>{}),Ee.set(K,q),K}(q);if(Le.has(q))return Le.get(q);const K=Je(q);return K!==q&&(Le.set(q,K),Ee.set(K,q)),K}const ie=q=>Ee.get(q),Fe=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],Z=new Map;function ut(q,K){if(!(q instanceof IDBDatabase)||K in q||"string"!=typeof K)return;if(Z.get(K))return Z.get(K);const _e=K.replace(/FromIndex$/,""),ye=K!==_e,nt=Ve.includes(_e);if(!(_e in(ye?IDBIndex:IDBObjectStore).prototype)||!nt&&!Fe.includes(_e))return;const gt=function(){var Nt=(0,c.Z)(function*(nn,...wt){const jn=this.transaction(nn,nt?"readwrite":"readonly");let xi=jn.store;return ye&&(xi=xi.index(wt.shift())),(yield Promise.all([xi[_e](...wt),nt&&jn.done]))[0]});return function(wt){return Nt.apply(this,arguments)}}();return Z.set(K,gt),gt}!function ce(q){J=q(J)}(q=>({...q,get:(K,_e,ye)=>ut(K,_e)||q.get(K,_e,ye),has:(K,_e)=>!!ut(K,_e)||q.has(K,_e)}));class $e{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function Dt(q){return"VERSION"===q.getComponent()?.type}(_e)){const ye=_e.getImmediate();return`${ye.library}/${ye.version}`}return null}).filter(_e=>_e).join(" ")}}const Ke="@firebase/app",re=new L.Yd("@firebase/app"),or="[DEFAULT]",An={[Ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kt=new Map,Yt=new Map;function Ye(q,K){try{q.container.addComponent(K)}catch(_e){re.debug(`Component ${K.name} failed to register with FirebaseApp ${q.name}`,_e)}}function Qe(q,K){q.container.addOrOverwriteComponent(K)}function zt(q){const K=q.name;if(Yt.has(K))return re.debug(`There were multiple attempts to register component ${K}.`),!1;Yt.set(K,q);for(const _e of Kt.values())Ye(_e,q);return!0}function ar(q,K){const _e=q.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),q.container.getProvider(K)}function yi(q,K,_e=or){ar(q,K).clearInstance(_e)}function gn(){Yt.clear()}const Hn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ht{constructor(K,_e,ye){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=ye,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const Rs="9.21.0";function Mt(q,K={}){let _e=q;"object"!=typeof K&&(K={name:K});const ye=Object.assign({name:or,automaticDataCollectionEnabled:!1},K),nt=ye.name;if("string"!=typeof nt||!nt)throw Hn.create("bad-app-name",{appName:String(nt)});if(_e||(_e=(0,ae.aH)()),!_e)throw Hn.create("no-options");const gt=Kt.get(nt);if(gt){if((0,ae.vZ)(_e,gt.options)&&(0,ae.vZ)(ye,gt.config))return gt;throw Hn.create("duplicate-app",{appName:nt})}const Nt=new Q.H0(nt);for(const wt of Yt.values())Nt.addComponent(wt);const nn=new Ht(_e,ye,Nt);return Kt.set(nt,nn),nn}function Mi(q=or){const K=Kt.get(q);if(!K&&q===or)return Mt();if(!K)throw Hn.create("no-app",{appName:q});return K}function ri(){return Array.from(Kt.values())}function Ar(q){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(q){const K=q.name;Kt.has(K)&&(Kt.delete(K),yield Promise.all(q.container.getProviders().map(_e=>_e.delete())),q.isDeleted=!0)})).apply(this,arguments)}function si(q,K,_e){var ye;let nt=null!==(ye=An[q])&&void 0!==ye?ye:q;_e&&(nt+=`-${_e}`);const gt=nt.match(/\s|\//),Nt=K.match(/\s|\//);if(gt||Nt){const nn=[`Unable to register library "${nt}" with version "${K}":`];return gt&&nn.push(`library name "${nt}" contains illegal characters (whitespace or "/")`),gt&&Nt&&nn.push("and"),Nt&&nn.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void re.warn(nn.join(" "))}zt(new Q.wA(`${nt}-version`,()=>({library:nt,version:K}),"VERSION"))}function rs(q,K){if(null!==q&&"function"!=typeof q)throw Hn.create("invalid-log-argument");(0,L.Am)(q,K)}function wn(q){(0,L.Ub)(q)}const Tr="firebase-heartbeat-database",ki=1,F="firebase-heartbeat-store";let O=null;function j(){return O||(O=function ne(q,K,{blocked:_e,upgrade:ye,blocking:nt,terminated:gt}={}){const Nt=indexedDB.open(q,K),nn=ve(Nt);return ye&&Nt.addEventListener("upgradeneeded",wt=>{ye(ve(Nt.result),wt.oldVersion,wt.newVersion,ve(Nt.transaction),wt)}),_e&&Nt.addEventListener("blocked",wt=>_e(wt.oldVersion,wt.newVersion,wt)),nn.then(wt=>{gt&&wt.addEventListener("close",()=>gt()),nt&&wt.addEventListener("versionchange",jn=>nt(jn.oldVersion,jn.newVersion,jn))}).catch(()=>{}),nn}(Tr,ki,{upgrade:(q,K)=>{0===K&&q.createObjectStore(F)}}).catch(q=>{throw Hn.create("idb-open",{originalErrorMessage:q.message})})),O}function G(){return(G=(0,c.Z)(function*(q){try{return(yield j()).transaction(F).objectStore(F).get(_t(q))}catch(K){if(K instanceof ae.ZR)re.warn(K.message);else{const _e=Hn.create("idb-get",{originalErrorMessage:K?.message});re.warn(_e.message)}}})).apply(this,arguments)}function xe(q,K){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(q,K){try{const ye=(yield j()).transaction(F,"readwrite");return yield ye.objectStore(F).put(K,_t(q)),ye.done}catch(_e){if(_e instanceof ae.ZR)re.warn(_e.message);else{const ye=Hn.create("idb-set",{originalErrorMessage:_e?.message});re.warn(ye.message)}}})).apply(this,arguments)}function _t(q){return`${q.name}!${q.options.appId}`}class ze{constructor(K){this.container=K,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new Un(_e),this._heartbeatsCachePromise=this._storage.read().then(ye=>(this._heartbeatsCache=ye,ye))}triggerHeartbeat(){var K=this;return(0,c.Z)(function*(){const ye=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nt=Ze();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==nt&&!K._heartbeatsCache.heartbeats.some(gt=>gt.date===nt))return K._heartbeatsCache.heartbeats.push({date:nt,agent:ye}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(gt=>{const Nt=new Date(gt.date).valueOf();return Date.now()-Nt<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,c.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const _e=Ze(),{heartbeatsToSend:ye,unsentEntries:nt}=function qt(q,K=1024){const _e=[];let ye=q.slice();for(const nt of q){const gt=_e.find(Nt=>Nt.agent===nt.agent);if(gt){if(gt.dates.push(nt.date),Zt(_e)>K){gt.dates.pop();break}}else if(_e.push({agent:nt.agent,dates:[nt.date]}),Zt(_e)>K){_e.pop();break}ye=ye.slice(1)}return{heartbeatsToSend:_e,unsentEntries:ye}}(K._heartbeatsCache.heartbeats),gt=(0,ae.L)(JSON.stringify({version:2,heartbeats:ye}));return K._heartbeatsCache.lastSentHeartbeatDate=_e,nt.length>0?(K._heartbeatsCache.heartbeats=nt,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),gt})()}}function Ze(){return(new Date).toISOString().substring(0,10)}class Un{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,c.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function X(q){return G.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var _e=this;return(0,c.Z)(function*(){var ye;if(yield _e._canUseIndexedDBPromise){const gt=yield _e.read();return xe(_e.app,{lastSentHeartbeatDate:null!==(ye=K.lastSentHeartbeatDate)&&void 0!==ye?ye:gt.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var _e=this;return(0,c.Z)(function*(){var ye;if(yield _e._canUseIndexedDBPromise){const gt=yield _e.read();return xe(_e.app,{lastSentHeartbeatDate:null!==(ye=K.lastSentHeartbeatDate)&&void 0!==ye?ye:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...K.heartbeats]})}})()}}function Zt(q){return(0,ae.L)(JSON.stringify({version:2,heartbeats:q})).length}!function Mr(q){zt(new Q.wA("platform-logger",K=>new $e(K),"PRIVATE")),zt(new Q.wA("heartbeat",K=>new ze(K),"PRIVATE")),si(Ke,"0.9.9",q),si(Ke,"0.9.9","esm2017"),si("fire-js","")}("")},4859:(tt,be,R)=>{R.d(be,{H0:()=>Ce,wA:()=>L,zt:()=>me});var c=R(5861),Q=R(2090);class L{constructor(U,H,Y){this.name=U,this.instanceFactory=H,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ae="[DEFAULT]";class me{constructor(U,H){this.name=U,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const H=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(H)){const Y=new Q.BH;if(this.instancesDeferred.set(H,Y),this.isInitialized(H)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:H});Le&&Y.resolve(Le)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(U){var H;const Y=this.normalizeInstanceIdentifier(U?.identifier),Le=null!==(H=U?.optional)&&void 0!==H&&H;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ee){if(Le)return null;throw Ee}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function oe(Se){return"EAGER"===Se.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[H,Y]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(H);try{const Ee=this.getOrInitializeService({instanceIdentifier:Le});Y.resolve(Ee)}catch{}}}}clearInstance(U=ae){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,c.Z)(function*(){const H=Array.from(U.instances.values());yield Promise.all([...H.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...H.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ae){return this.instances.has(U)}getOptions(U=ae){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:H={}}=U,Y=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Y,options:H});for(const[Ee,Ie]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ee)&&Ie.resolve(Le);return Le}onInit(U,H){var Y;const Le=this.normalizeInstanceIdentifier(H),Ee=null!==(Y=this.onInitCallbacks.get(Le))&&void 0!==Y?Y:new Set;Ee.add(U),this.onInitCallbacks.set(Le,Ee);const Ie=this.instances.get(Le);return Ie&&U(Ie,Le),()=>{Ee.delete(U)}}invokeOnInitCallbacks(U,H){const Y=this.onInitCallbacks.get(H);if(Y)for(const Le of Y)try{Le(U,H)}catch{}}getOrInitializeService({instanceIdentifier:U,options:H={}}){let Y=this.instances.get(U);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=U,Se===ae?void 0:Se),options:H}),this.instances.set(U,Y),this.instancesOptions.set(U,H),this.invokeOnInitCallbacks(Y,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Y)}catch{}var Se;return Y||null}normalizeInstanceIdentifier(U=ae){return this.component?this.component.multipleInstances?U:ae:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const H=this.getProvider(U.name);if(H.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);H.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const H=new me(U,this);return this.providers.set(U,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(tt,be,R)=>{R.d(be,{Am:()=>Se,Ub:()=>Ce,Yd:()=>oe,in:()=>Q});const c=[];var Q=(()=>{return(U=Q||(Q={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",Q;var U})();const L={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ae=Q.INFO,me={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},pe=(U,H,...Y)=>{if(H<U.logLevel)return;const Le=(new Date).toISOString(),Ee=me[H];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ee](`[${Le}]  ${U.name}:`,...Y)};class oe{constructor(H){this.name=H,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Q))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?L[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...H),this._logHandler(this,Q.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...H),this._logHandler(this,Q.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...H),this._logHandler(this,Q.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...H),this._logHandler(this,Q.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...H),this._logHandler(this,Q.ERROR,...H)}}function Ce(U){c.forEach(H=>{H.setLogLevel(U)})}function Se(U,H){for(const Y of c){let Le=null;H&&H.level&&(Le=L[H.level]),Y.userLogHandler=null===U?null:(Ee,Ie,...ke)=>{const J=ke.map(ce=>{if(null==ce)return null;if("string"==typeof ce)return ce;if("number"==typeof ce||"boolean"==typeof ce)return ce.toString();if(ce instanceof Error)return ce.message;try{return JSON.stringify(ce)}catch{return null}}).filter(ce=>ce).join(" ");Ie>=(Le??Ee.logLevel)&&U({level:Q[Ie].toLowerCase(),message:J,args:ke,type:Ee.name})}}}},9260:(tt,be,R)=>{R.d(be,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(tt,be,R)=>{R.r(be);var c=R(5861),Q=R(3942),L=R(2090),ae=R(2951),me=R(655),pe=R(1877),oe=R(4859);const Se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y_EMAIL_SIGNIN="EMAIL_SIGNIN",Y_PASSWORD_RESET="PASSWORD_RESET",Y_RECOVER_EMAIL="RECOVER_EMAIL",Y_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Y_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Y_VERIFY_EMAIL="VERIFY_EMAIL";const Ie=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ke=function Ee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},J=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new pe.Yd("@firebase/auth");function ve(_,...f){je.logLevel<=pe.in.ERROR&&je.error(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}function ie(_,...f){throw Ve(_,...f)}function ne(_,...f){return Ve(_,...f)}function Oe(_,f,p){const v=Object.assign(Object.assign({},ke()),{[f]:p});return new L.LL("auth","Firebase",v).create(f,{appName:_.name})}function Fe(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&ie(_,"argument-error"),Oe(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(_,...f){if("string"!=typeof _){const p=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(p,...v)}return J.create(_,...f)}function Z(_,f,...p){if(!_)throw Ve(f,...p)}function ut(_){const f="INTERNAL ASSERTION FAILED: "+_;throw ve(f),new Error(f)}function $e(_,f){_||ut(f)}function Dt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ke(){return"http:"===ee()||"https:"===ee()}function ee(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ge{constructor(f,p){this.shortDelay=f,this.longDelay=p,$e(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function re(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ke()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function we(_,f){$e(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class le{static initialize(f,p,v){this.fetchImpl=f,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Tt=new ge(3e4,6e4);function ft(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Me(_,f,p,v){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(_,f,p,v,D={}){return Ct(_,D,(0,c.Z)(function*(){let A={},N={};v&&("GET"===f?N=v:A={body:JSON.stringify(v)});const $=(0,L.xO)(Object.assign({key:_.config.apiKey},N)).slice(1),fe=yield _._getAdditionalHeaders();return fe["Content-Type"]="application/json",_.languageCode&&(fe["X-Firebase-Locale"]=_.languageCode),le.fetch()(_i(_,_.config.apiHost,p,$),Object.assign({method:f,headers:fe,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function Ct(_,f,p){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(_,f,p){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},ct),f);try{const D=new Ai(_),A=yield Promise.race([p(),D.promise]);D.clearNetworkTimeout();const N=yield A.json();if("needConfirmation"in N)throw Bn(_,"account-exists-with-different-credential",N);if(A.ok&&!("errorMessage"in N))return N;{const $=A.ok?N.errorMessage:N.error.message,[fe,Te]=$.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===fe)throw Bn(_,"credential-already-in-use",N);if("EMAIL_EXISTS"===fe)throw Bn(_,"email-already-in-use",N);if("USER_DISABLED"===fe)throw Bn(_,"user-disabled",N);const He=v[fe]||fe.toLowerCase().replace(/[_\s]+/g,"-");if(Te)throw Oe(_,He,Te);ie(_,He)}}catch(D){if(D instanceof L.ZR)throw D;ie(_,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function an(_,f,p,v){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(_,f,p,v,D={}){const A=yield Me(_,f,p,v,D);return"mfaPendingCredential"in A&&ie(_,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function _i(_,f,p,v){const D=`${f}${p}?${v}`;return _.config.emulator?we(_.config,D):`${_.config.apiScheme}://${D}`}class Ai{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(ne(this.auth,"network-request-failed")),Tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(_,f,p){const v={appName:_.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const D=ne(_,f,v);return D.customData._tokenResponse=p,D}function Sr(){return(Sr=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function sr(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function or(){return(or=(0,c.Z)(function*(_,f=!1){const p=(0,L.m9)(_),v=yield p.getIdToken(f),D=Kt(v);Z(D&&D.exp&&D.auth_time&&D.iat,p.auth,"internal-error");const A="object"==typeof D.firebase?D.firebase:void 0,N=A?.sign_in_provider;return{claims:D,token:v,authTime:sr(An(D.auth_time)),issuedAtTime:sr(An(D.iat)),expirationTime:sr(An(D.exp)),signInProvider:N||null,signInSecondFactor:A?.sign_in_second_factor||null}})).apply(this,arguments)}function An(_){return 1e3*Number(_)}function Kt(_){const[f,p,v]=_.split(".");if(void 0===f||void 0===p||void 0===v)return ve("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(p);return D?JSON.parse(D):(ve("Failed to decode base64 JWT payload"),null)}catch(D){return ve("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Ye(_,f){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(v){throw v instanceof L.ZR&&function zt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}class ar{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const D=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&f.schedule(!0))}f.schedule()})()}}class yi{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gn(_){return ht.apply(this,arguments)}function ht(){return ht=(0,c.Z)(function*(_){var f;const p=_.auth,v=yield _.getIdToken(),D=yield Ye(_,function We(_,f){return Ti.apply(this,arguments)}(p,{idToken:v}));Z(D?.users.length,p,"internal-error");const A=D.users[0];_._notifyReloadListener(A);const N=null!==(f=A.providerUserInfo)&&void 0!==f&&f.length?function Mt(_){return _.map(f=>{var{providerId:p}=f,v=(0,me._T)(f,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(A.providerUserInfo):[],$=function Rs(_,f){return[..._.filter(v=>!f.some(D=>D.providerId===v.providerId)),...f]}(_.providerData,N),He=!!_.isAnonymous&&!(_.email&&A.passwordHash||$?.length),Ue={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:$,metadata:new yi(A.createdAt,A.lastLoginAt),isAnonymous:He};Object.assign(_,Ue)}),ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(_){const f=(0,L.m9)(_);yield gn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(_,f){const p=yield Ct(_,{},(0,c.Z)(function*(){const v=(0,L.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:A}=_.config,N=_i(_,D,"/v1/token",`key=${A}`),$=yield _._getAdditionalHeaders();return $["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(N,{method:"POST",headers:$,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ar{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Z(f.idToken,"internal-error"),Z(typeof f.idToken<"u","internal-error"),Z(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Yt(_){const f=Kt(_);return Z(f,"internal-error"),Z(typeof f.exp<"u","internal-error"),Z(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var v=this;return(0,c.Z)(function*(){return Z(!v.accessToken||v.refreshToken,f,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var v=this;return(0,c.Z)(function*(){const{accessToken:D,refreshToken:A,expiresIn:N}=yield function Mi(_,f){return ri.apply(this,arguments)}(f,p);v.updateTokensAndExpiration(D,A,Number(N))})()}updateTokensAndExpiration(f,p,v){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,p){const{refreshToken:v,accessToken:D,expirationTime:A}=p,N=new Ar;return v&&(Z("string"==typeof v,"internal-error",{appName:f}),N.refreshToken=v),D&&(Z("string"==typeof D,"internal-error",{appName:f}),N.accessToken=D),A&&(Z("number"==typeof A,"internal-error",{appName:f}),N.expirationTime=A),N}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ar,this.toJSON())}_performRefresh(){return ut("not implemented")}}function En(_,f){Z("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class si{constructor(f){var{uid:p,auth:v,stsTokenManager:D}=f,A=(0,me._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new yi(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const v=yield Ye(p,p.stsTokenManager.getToken(p.auth,f));return Z(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(f){return function Do(_){return or.apply(this,arguments)}(this,f)}reload(){return function Hn(_){return Ht.apply(this,arguments)}(this)}_assign(f){this!==f&&(Z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new si(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var v=this;return(0,c.Z)(function*(){let D=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),D=!0),p&&(yield gn(v)),yield v.auth._persistUserIfCurrent(v),D&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield Ye(f,function Ir(_,f){return Sr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var v,D,A,N,$,fe,Te,He;const Ue=null!==(v=p.displayName)&&void 0!==v?v:void 0,Jt=null!==(D=p.email)&&void 0!==D?D:void 0,ei=null!==(A=p.phoneNumber)&&void 0!==A?A:void 0,id=null!==(N=p.photoURL)&&void 0!==N?N:void 0,rd=null!==($=p.tenantId)&&void 0!==$?$:void 0,bc=null!==(fe=p._redirectEventId)&&void 0!==fe?fe:void 0,Ga=null!==(Te=p.createdAt)&&void 0!==Te?Te:void 0,sd=null!==(He=p.lastLoginAt)&&void 0!==He?He:void 0,{uid:Cc,emailVerified:Wa,isAnonymous:od,providerData:Gr,stsTokenManager:_s}=p;Z(Cc&&_s,f,"internal-error");const Ya=Ar.fromJSON(this.name,_s);Z("string"==typeof Cc,f,"internal-error"),En(Ue,f.name),En(Jt,f.name),Z("boolean"==typeof Wa,f,"internal-error"),Z("boolean"==typeof od,f,"internal-error"),En(ei,f.name),En(id,f.name),En(rd,f.name),En(bc,f.name),En(Ga,f.name),En(sd,f.name);const Ka=new si({uid:Cc,auth:f,email:Jt,emailVerified:Wa,displayName:Ue,isAnonymous:od,photoURL:id,phoneNumber:ei,tenantId:rd,stsTokenManager:Ya,createdAt:Ga,lastLoginAt:sd});return Gr&&Array.isArray(Gr)&&(Ka.providerData=Gr.map(mn=>Object.assign({},mn))),bc&&(Ka._redirectEventId=bc),Ka}static _fromIdTokenResponse(f,p,v=!1){return(0,c.Z)(function*(){const D=new Ar;D.updateFromServerResponse(p);const A=new si({uid:p.localId,auth:f,stsTokenManager:D,isAnonymous:v});return yield gn(A),A})()}}const rs=new Map;function wn(_){$e(_ instanceof Function,"Expected a class definition");let f=rs.get(_);return f?($e(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,rs.set(_,f),f)}const ki=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,v){var D=this;return(0,c.Z)(function*(){D.storage[p]=v})()}_get(p){var v=this;return(0,c.Z)(function*(){const D=v.storage[p];return void 0===D?null:D})()}_remove(p){var v=this;return(0,c.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return _.type="NONE",_})();function F(_,f,p){return`firebase:${_}:${f}:${p}`}class O{constructor(f,p,v){this.persistence=f,this.auth=p,this.userKey=v;const{config:D,name:A}=this.auth;this.fullUserKey=F(this.userKey,D.apiKey,A),this.fullPersistenceKey=F("persistence",D.apiKey,A),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?si._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,v="authUser"){return(0,c.Z)(function*(){if(!p.length)return new O(wn(ki),f,v);const D=(yield Promise.all(p.map(function(){var Te=(0,c.Z)(function*(He){if(yield He._isAvailable())return He});return function(He){return Te.apply(this,arguments)}}()))).filter(Te=>Te);let A=D[0]||wn(ki);const N=F(v,f.config.apiKey,f.name);let $=null;for(const Te of p)try{const He=yield Te._get(N);if(He){const Ue=si._fromJSON(f,He);Te!==A&&($=Ue),A=Te;break}}catch{}const fe=D.filter(Te=>Te._shouldAllowMigration);return A._shouldAllowMigration&&fe.length?(A=fe[0],$&&(yield A._set(N,$.toJSON())),yield Promise.all(p.map(function(){var Te=(0,c.Z)(function*(He){if(He!==A)try{yield He._remove(N)}catch{}});return function(He){return Te.apply(this,arguments)}}())),new O(A,f,v)):new O(A,f,v)})()}}function j(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(rt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(X(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ut(f))return"Blackberry";if(De(f))return"Webos";if(G(f))return"Safari";if((f.includes("chrome/")||xe(f))&&!f.includes("edge/"))return"Chrome";if(_t(f))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function X(_=(0,L.z$)()){return/firefox\//i.test(_)}function G(_=(0,L.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function xe(_=(0,L.z$)()){return/crios\//i.test(_)}function rt(_=(0,L.z$)()){return/iemobile/i.test(_)}function _t(_=(0,L.z$)()){return/android/i.test(_)}function Ut(_=(0,L.z$)()){return/blackberry/i.test(_)}function De(_=(0,L.z$)()){return/webos/i.test(_)}function ze(_=(0,L.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Zt(_=(0,L.z$)()){return ze(_)||_t(_)||De(_)||Ut(_)||/windows phone/i.test(_)||rt(_)}function q(_,f=[]){let p;switch(_){case"Browser":p=j((0,L.z$)());break;case"Worker":p=`${j((0,L.z$)())}-${_}`;break;default:p=_}const v=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.SDK_VERSION}/${v}`}function _e(){return(_e=(0,c.Z)(function*(_){return(yield Me(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ye(_,f){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(_,f){return Me(_,"GET","/v2/recaptchaConfig",ft(_,f))})).apply(this,arguments)}function gt(_){return void 0!==_&&void 0!==_.getResponse}function Nt(_){return void 0!==_&&void 0!==_.enterprise}class nn{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function jn(_){return new Promise((f,p)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=f,v.onerror=D=>{const A=ne("internal-error");A.customData=D,p(A)},v.type="text/javascript",v.charset="UTF-8",function wt(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(v)})}function xi(_){return`__${_}${Math.floor(1e6*Math.random())}`}const uu="NO_RECAPTCHA";class Ft{constructor(f){this.type="recaptcha-enterprise",this.auth=Lt(f)}verify(f="verify",p=!1){var v=this;return(0,c.Z)(function*(){function A(){return A=(0,c.Z)(function*($){if(!p){if(null==$.tenantId&&null!=$._agentRecaptchaConfig)return $._agentRecaptchaConfig.siteKey;if(null!=$.tenantId&&void 0!==$._tenantRecaptchaConfigs[$.tenantId])return $._tenantRecaptchaConfigs[$.tenantId].siteKey}return new Promise(function(){var fe=(0,c.Z)(function*(Te,He){ye($,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ue=>{if(void 0!==Ue.recaptchaKey){const Jt=new nn(Ue);return null==$.tenantId?$._agentRecaptchaConfig=Jt:$._tenantRecaptchaConfigs[$.tenantId]=Jt,Te(Jt.siteKey)}He(new Error("recaptcha Enterprise site key undefined"))}).catch(Ue=>{He(Ue)})});return function(Te,He){return fe.apply(this,arguments)}}())}),A.apply(this,arguments)}function N($,fe,Te){const He=window.grecaptcha;Nt(He)?He.enterprise.ready(()=>{He.enterprise.execute($,{action:f}).then(Ue=>{fe(Ue)}).catch(()=>{fe(uu)})}):Te(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($,fe)=>{(function D($){return A.apply(this,arguments)})(v.auth).then(Te=>{if(!p&&Nt(window.grecaptcha))N(Te,$,fe);else{if(typeof window>"u")return void fe(new Error("RecaptchaVerifier is only supported in browser"));jn("https://www.google.com/recaptcha/enterprise.js?render="+Te).then(()=>{N(Te,$,fe)}).catch(He=>{fe(He)})}}).catch(Te=>{fe(Te)})})})()}}function ss(_,f,p){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.Z)(function*(_,f,p,v=!1){const D=new Ft(_);let A;try{A=yield D.verify(p)}catch{A=yield D.verify(p,!0)}const N=Object.assign({},f);return Object.assign(N,v?{captchaResp:A}:{captchaResponse:A}),Object.assign(N,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(N,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),N})).apply(this,arguments)}class fa{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const v=A=>new Promise((N,$)=>{try{N(f(A))}catch(fe){$(fe)}});v.onAbort=p,this.queue.push(v);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){if(p.auth.currentUser===f)return;const v=[];try{for(const D of p.queue)yield D(f),D.onAbort&&v.push(D.onAbort)}catch(D){v.reverse();for(const A of v)try{A()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class du{constructor(f,p,v,D){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=v,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Io(this),this.idTokenSubscription=new Io(this),this.beforeStateQueue=new fa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(f,p){var v=this;return p&&(this._popupRedirectResolver=wn(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var D,A;if(!v._deleted&&(v.persistenceManager=yield O.create(v,f),!v._deleted)){if(null!==(D=v._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(A=v.currentUser)||void 0===A?void 0:A.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var v;const D=yield p.assertedPersistence.getCurrentUser();let A=D,N=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const $=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,fe=A?._redirectEventId,Te=yield p.tryRedirectSignIn(f);(!$||$===fe)&&Te?.user&&(A=Te.user,N=!0)}if(!A)return p.directlySetCurrentUser(null);if(!A._redirectEventId){if(N)try{yield p.beforeStateQueue.runMiddleware(A)}catch($){A=D,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject($))}return A?p.reloadAndSetCurrentUserOrClear(A):p.directlySetCurrentUser(null)}return Z(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===A._redirectEventId?p.directlySetCurrentUser(A):p.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){try{yield gn(f)}catch(v){if("auth/network-request-failed"!==v?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ue(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const v=f?(0,L.m9)(f):null;return v&&Z(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(f,p=!1){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return f&&Z(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),p||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(wn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,c.Z)(function*(){const p=yield ye(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new nn(p);null==f.tenantId?f._agentRecaptchaConfig=v:f._tenantRecaptchaConfigs[f.tenantId]=v,v.emailPasswordEnabled&&new Ft(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.LL("auth","Firebase",f())}onAuthStateChanged(f,p,v){return this.registerStateListener(this.authStateSubscription,f,p,v)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,v){return this.registerStateListener(this.idTokenSubscription,f,p,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var v=this;return(0,c.Z)(function*(){const D=yield v.getOrInitRedirectPersistenceManager(p);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const v=f&&wn(f)||p._popupRedirectResolver;Z(v,p,"argument-error"),p.redirectPersistenceManager=yield O.create(p,[wn(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var v,D;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===f?p._currentUser:(null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,v,D){if(this._deleted)return()=>{};const A="function"==typeof p?p:p.next.bind(p),N=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(N,this,"internal-error"),N.then(()=>A(this.currentUser)),"function"==typeof p?f.addObserver(p,v,D):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=q(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const D=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();D&&(v["X-Firebase-Client"]=D);const A=yield f._getAppCheckToken();return A&&(v["X-Firebase-AppCheck"]=A),v})()}_getAppCheckToken(){var f=this;return(0,c.Z)(function*(){var p;const v=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return v?.error&&function Je(_,...f){je.logLevel<=pe.in.WARN&&je.warn(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function Lt(_){return(0,L.m9)(_)}class Io{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.ne)(p=>this.observer=p)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $n(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function os(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class kr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return ut("not implemented")}_getIdTokenResponse(f){return ut("not implemented")}_linkToIdToken(f,p){return ut("not implemented")}_getReauthenticationResolver(f){return ut("not implemented")}}function Yi(_,f){return Al.apply(this,arguments)}function Al(){return(Al=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:resetPassword",ft(_,f))})).apply(this,arguments)}function Fm(_,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Vm(){return(Vm=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:update",ft(_,f))})).apply(this,arguments)}function Ri(_,f){return ph.apply(this,arguments)}function ph(){return(ph=(0,c.Z)(function*(_,f){return an(_,"POST","/v1/accounts:signInWithPassword",ft(_,f))})).apply(this,arguments)}function fu(_,f){return mh.apply(this,arguments)}function mh(){return(mh=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:sendOobCode",ft(_,f))})).apply(this,arguments)}function gh(){return(gh=(0,c.Z)(function*(_,f){return fu(_,f)})).apply(this,arguments)}function _h(_,f){return yh.apply(this,arguments)}function yh(){return(yh=(0,c.Z)(function*(_,f){return fu(_,f)})).apply(this,arguments)}function vh(_,f){return bh.apply(this,arguments)}function bh(){return(bh=(0,c.Z)(function*(_,f){return fu(_,f)})).apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(_,f){return fu(_,f)})).apply(this,arguments)}function Tl(){return(Tl=(0,c.Z)(function*(_,f){return an(_,"POST","/v1/accounts:signInWithEmailLink",ft(_,f))})).apply(this,arguments)}function Ch(){return(Ch=(0,c.Z)(function*(_,f){return an(_,"POST","/v1/accounts:signInWithEmailLink",ft(_,f))})).apply(this,arguments)}class Ml extends kr{constructor(f,p,v,D=null){super("password",v),this._email=f,this._password=p,this._tenantId=D}static _fromEmailAndPassword(f,p){return new Ml(f,p,"password")}static _fromEmailAndCode(f,p,v=null){return new Ml(f,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){var v;switch(p.signInMethod){case"password":const D={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=f._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const A=yield ss(f,D,"signInWithPassword");return Ri(f,A)}return Ri(f,D).catch(function(){var A=(0,c.Z)(function*(N){if("auth/missing-recaptcha-token"===N.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const $=yield ss(f,D,"signInWithPassword");return Ri(f,$)}return Promise.reject(N)});return function(N){return A.apply(this,arguments)}}());case"emailLink":return function tb(_,f){return Tl.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:ie(f,"internal-error")}})()}_linkToIdToken(f,p){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return Fm(f,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function mu(_,f){return Ch.apply(this,arguments)}(f,{idToken:p,email:v._email,oobCode:v._password});default:ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function xr(_,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(_,f){return an(_,"POST","/v1/accounts:signInWithIdp",ft(_,f))})).apply(this,arguments)}class Oi extends kr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Oi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):ie("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:D}=p,A=(0,me._T)(p,["providerId","signInMethod"]);if(!v||!D)return null;const N=new Oi(v,D);return N.idToken=A.idToken||void 0,N.accessToken=A.accessToken||void 0,N.secret=A.secret,N.nonce=A.nonce,N.pendingToken=A.pendingToken||null,N}_getIdTokenResponse(f){return xr(f,this.buildRequest())}_linkToIdToken(f,p){const v=this.buildRequest();return v.idToken=p,xr(f,v)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,xr(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,L.xO)(p)}return f}}function pa(){return(pa=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:sendVerificationCode",ft(_,f))})).apply(this,arguments)}function kl(){return(kl=(0,c.Z)(function*(_,f){return an(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,f))})).apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(_,f){const p=yield an(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,f));if(p.temporaryProof)throw Bn(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const xl={USER_NOT_FOUND:"user-not-found"};function oi(){return(oi=(0,c.Z)(function*(_,f){return an(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),xl)})).apply(this,arguments)}class Rr extends kr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Rr({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Rr({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function gu(_,f){return kl.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Hm(_,f){return Ao.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Um(_,f){return oi.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:v,verificationCode:D}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:v,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:A}=f;return v||p||D||A?new Rr({verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:A}):null}}class Rl{constructor(f){var p,v,D,A,N,$;const fe=(0,L.zd)((0,L.pd)(f)),Te=null!==(p=fe.apiKey)&&void 0!==p?p:null,He=null!==(v=fe.oobCode)&&void 0!==v?v:null,Ue=function jm(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=fe.mode)&&void 0!==D?D:null);Z(Te&&He&&Ue,"argument-error"),this.apiKey=Te,this.operation=Ue,this.code=He,this.continueUrl=null!==(A=fe.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(N=fe.languageCode)&&void 0!==N?N:null,this.tenantId=null!==($=fe.tenantId)&&void 0!==$?$:null}static parseLink(f){const p=function _u(_){const f=(0,L.zd)((0,L.pd)(_)).link,p=f?(0,L.zd)((0,L.pd)(f)).deep_link_id:null,v=(0,L.zd)((0,L.pd)(_)).deep_link_id;return(v?(0,L.zd)((0,L.pd)(v)).link:null)||v||p||f||_}(f);try{return new Rl(p)}catch{return null}}}let fn=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,v){return Ml._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const D=Rl.parseLink(v);return Z(D,"argument-error"),Ml._fromEmailAndCode(p,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class as{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ol extends as{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class cr extends Ol{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Z("providerId"in p&&"signInMethod"in p,"argument-error"),Oi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Z(f.idToken||f.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return cr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return cr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:D,pendingToken:A,nonce:N,providerId:$}=f;if(!v&&!D&&!p&&!A||!$)return null;try{return new cr($)._credential({idToken:p,accessToken:v,nonce:N,pendingToken:A})}catch{return null}}}let ai=(()=>{class _ extends Ol{constructor(){super("facebook.com")}static credential(p){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),$m=(()=>{class _ extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:D}=p;if(!v&&!D)return null;try{return _.credential(v,D)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),ma=(()=>{class _ extends Ol{constructor(){super("github.com")}static credential(p){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class _n extends kr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return xr(f,this.buildRequest())}_linkToIdToken(f,p){const v=this.buildRequest();return v.idToken=p,xr(f,v)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,xr(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:D,pendingToken:A}=p;return v&&D&&A&&v===D?new _n(v,A):null}static _create(f,p){return new _n(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ps extends as{constructor(f){Z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ps.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ps.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=_n.fromJSON(f);return Z(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:v}=f;if(!p||!v)return null;try{return _n._create(v,p)}catch{return null}}}let wh=(()=>{class _ extends Ol{constructor(){super("twitter.com")}static credential(p,v){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:D}=p;if(!v||!D)return null;try{return _.credential(v,D)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ki(_,f){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(_,f){return an(_,"POST","/v1/accounts:signUp",ft(_,f))})).apply(this,arguments)}class li{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,v,D=!1){return(0,c.Z)(function*(){const A=yield si._fromIdTokenResponse(f,v,D),N=st(v);return new li({user:A,providerId:N,_tokenResponse:v,operationType:p})})()}static _forOperation(f,p,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const D=st(v);return new li({user:f,providerId:D,_tokenResponse:v,operationType:p})})()}}function st(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ih(){return(Ih=(0,c.Z)(function*(_){var f;const p=Lt(_);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new li({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield Ki(p,{returnSecureToken:!0}),D=yield li._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class yu extends L.ZR{constructor(f,p,v,D){var A;super(p.code,p.message),this.operationType=v,this.user=D,Object.setPrototypeOf(this,yu.prototype),this.customData={appName:f.name,tenantId:null!==(A=f.tenantId)&&void 0!==A?A:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,p,v,D){return new yu(f,p,v,D)}}function Sh(_,f,p,v){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?yu._fromErrorAndOperation(_,A,f,v):A})}function Ah(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function vu(){return vu=(0,c.Z)(function*(_,f){const p=(0,L.m9)(_);yield Et(!0,p,f);const{providerUserInfo:v}=yield function Eo(_,f){return wo.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),D=Ah(v||[]);return p.providerData=p.providerData.filter(A=>D.has(A.providerId)),D.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),vu.apply(this,arguments)}function Mh(_,f){return de.apply(this,arguments)}function de(){return(de=(0,c.Z)(function*(_,f,p=!1){const v=yield Ye(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return li._forOperation(_,"link",v)})).apply(this,arguments)}function Et(_,f,p){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(_,f,p){yield gn(f);const D=!1===_?"provider-already-linked":"no-such-provider";Z(Ah(f.providerData).has(p)===_,f.auth,D)})).apply(this,arguments)}function bu(_,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(_,f,p=!1){const{auth:v}=_,D="reauthenticate";try{const A=yield Ye(_,Sh(v,D,f,_),p);Z(A.idToken,v,"internal-error");const N=Kt(A.idToken);Z(N,v,"internal-error");const{sub:$}=N;return Z(_.uid===$,v,"user-mismatch"),li._forOperation(_,D,A)}catch(A){throw"auth/user-not-found"===A?.code&&ie(v,"user-mismatch"),A}})).apply(this,arguments)}function Cu(_,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(_,f,p=!1){const v="signIn",D=yield Sh(_,v,f),A=yield li._fromIdTokenResponse(_,v,D);return p||(yield _._updateCurrentUser(A.user)),A})).apply(this,arguments)}function bi(_,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(_,f){return Cu(Lt(_),f)})).apply(this,arguments)}function Eu(_,f){return kh.apply(this,arguments)}function kh(){return(kh=(0,c.Z)(function*(_,f){const p=(0,L.m9)(_);return yield Et(!1,p,f.providerId),Mh(p,f)})).apply(this,arguments)}function ln(_,f){return zm.apply(this,arguments)}function zm(){return(zm=(0,c.Z)(function*(_,f){return bu((0,L.m9)(_),f)})).apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(_,f){return an(_,"POST","/v1/accounts:signInWithCustomToken",ft(_,f))})).apply(this,arguments)}function wu(){return wu=(0,c.Z)(function*(_,f){const p=Lt(_),v=yield function Gm(_,f){return zn.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),D=yield li._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(D.user),D}),wu.apply(this,arguments)}class Or{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?qi._fromServerResponse(f,p):"totpInfo"in p?xh._fromServerResponse(f,p):ie(f,"internal-error")}}class qi extends Or{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new qi(p)}}class xh extends Or{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new xh(p)}}function To(_,f,p){var v;Z((null===(v=p.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),Z(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Z(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Z(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Nl(){return Nl=(0,c.Z)(function*(_,f,p){var v;const D=Lt(_),A={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=D._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const N=yield ss(D,A,"getOobCode",!0);p&&To(D,N,p),yield _h(D,N)}else p&&To(D,A,p),yield _h(D,A).catch(function(){var N=(0,c.Z)(function*($){if("auth/missing-recaptcha-token"!==$.code)return Promise.reject($);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const fe=yield ss(D,A,"getOobCode",!0);p&&To(D,fe,p),yield _h(D,fe)}});return function($){return N.apply(this,arguments)}}())}),Nl.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(_,f,p){yield Yi((0,L.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Pr(){return Pr=(0,c.Z)(function*(_,f){yield function Lm(_,f){return Vm.apply(this,arguments)}((0,L.m9)(_),{oobCode:f})}),Pr.apply(this,arguments)}function Wm(_,f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(_,f){const p=(0,L.m9)(_),v=yield Yi(p,{oobCode:f}),D=v.requestType;switch(Z(D,p,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(v.mfaInfo,p,"internal-error");default:Z(v.email,p,"internal-error")}let A=null;return v.mfaInfo&&(A=Or._fromServerResponse(Lt(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:A},operation:D}})).apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(_,f){const{data:p}=yield Wm((0,L.m9)(_),f);return p.email})).apply(this,arguments)}function Su(){return Su=(0,c.Z)(function*(_,f,p){var v;const D=Lt(_),A={returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"};let N;if(null!==(v=D._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Te=yield ss(D,A,"signUpPassword");N=Ki(D,Te)}else N=Ki(D,A).catch(function(){var Te=(0,c.Z)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ue=yield ss(D,A,"signUpPassword");return Ki(D,Ue)}return Promise.reject(He)});return function(He){return Te.apply(this,arguments)}}());const $=yield N.catch(Te=>Promise.reject(Te)),fe=yield li._fromIdTokenResponse(D,"signIn",$);return yield D._updateCurrentUser(fe.user),fe}),Su.apply(this,arguments)}function Oh(){return Oh=(0,c.Z)(function*(_,f,p){var v;const D=Lt(_),A={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function N($,fe){Z(fe.handleCodeInApp,D,"argument-error"),fe&&To(D,$,fe)}if(null!==(v=D._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const $=yield ss(D,A,"getOobCode",!0);N($,p),yield vh(D,$)}else N(A,p),yield vh(D,A).catch(function(){var $=(0,c.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Te=yield ss(D,A,"getOobCode",!0);N(Te,p),yield vh(D,Te)}});return function(fe){return $.apply(this,arguments)}}())}),Oh.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(_,f,p){const v=(0,L.m9)(_),D=fn.credentialWithLink(f,p||Dt());return Z(D._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),bi(v,D)})).apply(this,arguments)}function Au(){return(Au=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:createAuthUri",ft(_,f))})).apply(this,arguments)}function Tu(){return Tu=(0,c.Z)(function*(_,f){const v={identifier:f,continueUri:Ke()?Dt():"http://localhost"},{signinMethods:D}=yield function cn(_,f){return Au.apply(this,arguments)}((0,L.m9)(_),v);return D||[]}),Tu.apply(this,arguments)}function Ph(){return Ph=(0,c.Z)(function*(_,f){const p=(0,L.m9)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&To(p.auth,D,f);const{email:A}=yield function Xv(_,f){return gh.apply(this,arguments)}(p.auth,D);A!==_.email&&(yield _.reload())}),Ph.apply(this,arguments)}function ba(){return ba=(0,c.Z)(function*(_,f,p){const v=(0,L.m9)(_),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&To(v.auth,A,p);const{email:N}=yield function eb(_,f){return pu.apply(this,arguments)}(v.auth,A);N!==_.email&&(yield _.reload())}),ba.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(_,f){return Me(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Mu(){return Mu=(0,c.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const v=(0,L.m9)(_),A={idToken:yield v.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},N=yield Ye(v,function Bl(_,f){return Mo.apply(this,arguments)}(v.auth,A));v.displayName=N.displayName||null,v.photoURL=N.photoUrl||null;const $=v.providerData.find(({providerId:fe})=>"password"===fe);$&&($.displayName=v.displayName,$.photoURL=v.photoURL),yield v._updateTokensIfNecessary(N)}),Mu.apply(this,arguments)}function Ca(_,f,p){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,c.Z)(function*(_,f,p){const{auth:v}=_,A={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(A.email=f),p&&(A.password=p);const N=yield Ye(_,Fm(v,A));yield _._updateTokensIfNecessary(N,!0)})).apply(this,arguments)}class Fr{constructor(f,p,v={}){this.isNewUser=f,this.providerId=p,this.profile=v}}class ku extends Fr{constructor(f,p,v,D){super(f,p,v),this.username=D}}class cb extends Fr{constructor(f,p){super(f,"facebook.com",p)}}class qm extends ku{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Lh extends Fr{constructor(f,p){super(f,"google.com",p)}}class Hl extends ku{constructor(f,p,v){super(f,"twitter.com",p,v)}}function Ul(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function lb(_){var f,p;if(!_)return null;const{providerId:v}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},A=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const N=null===(p=null===(f=Kt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(N)return new Fr(A,"anonymous"!==N&&"custom"!==N?N:null)}if(!v)return null;switch(v){case"facebook.com":return new cb(A,D);case"github.com":return new qm(A,D);case"google.com":return new Lh(A,D);case"twitter.com":return new Hl(A,D,_.screenName||null);case"custom":case"anonymous":return new Fr(A,null);default:return new Fr(A,v,D)}}(p)}class Bs{constructor(f,p,v){this.type=f,this.credential=p,this.auth=v}static _fromIdtoken(f,p){return new Bs("enroll",f,p)}static _fromMfaPendingCredential(f){return new Bs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,v;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Bs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return Bs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class us{constructor(f,p,v){this.session=f,this.hints=p,this.signInResolver=v}static _fromError(f,p){const v=Lt(f),D=p.customData._serverResponse,A=(D.mfaInfo||[]).map($=>Or._fromServerResponse(v,$));Z(D.mfaPendingCredential,v,"internal-error");const N=Bs._fromMfaPendingCredential(D.mfaPendingCredential);return new us(N,A,function(){var $=(0,c.Z)(function*(fe){const Te=yield fe._process(v,N);delete D.mfaInfo,delete D.mfaPendingCredential;const He=Object.assign(Object.assign({},D),{idToken:Te.idToken,refreshToken:Te.refreshToken});switch(p.operationType){case"signIn":const Ue=yield li._fromIdTokenResponse(v,p.operationType,He);return yield v._updateCurrentUser(Ue.user),Ue;case"reauthenticate":return Z(p.user,v,"internal-error"),li._forOperation(p.user,p.operationType,He);default:ie(v,"internal-error")}});return function(fe){return $.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}class Ia{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Or._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new Ia(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Bs._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var v=this;return(0,c.Z)(function*(){const D=f,A=yield v.getSession(),N=yield Ye(v.user,D._process(v.user.auth,A,p));return yield v.user._updateTokensIfNecessary(N),v.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,D=yield p.user.getIdToken();try{const A=yield Ye(p.user,function Ou(_,f){return Me(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(_,f))}(p.user.auth,{idToken:D,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:N})=>N!==v),yield p.user._updateTokensIfNecessary(A),yield p.user.reload()}catch(A){throw A}})()}}const xo=new WeakMap,Hs="__sak";class zl{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Hs,"1"),this.storage.removeItem(Hs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ds=(()=>{class _ extends zl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xm(){const _=(0,L.z$)();return G(_)||ze(_)}()&&function Mr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const D=this.storage.getItem(v),A=this.localCache[v];D!==A&&p(v,A,D)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys(($,fe,Te)=>{this.notifyListeners($,Te)});const D=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $=this.storage.getItem(D);if(p.newValue!==$)null!==p.newValue?this.storage.setItem(D,p.newValue):this.storage.removeItem(D);else if(this.localCache[D]===p.newValue&&!v)return}const A=()=>{const $=this.storage.getItem(D);!v&&this.localCache[D]===$||this.notifyListeners(D,$)},N=this.storage.getItem(D);!function Un(){return(0,L.w1)()&&10===document.documentMode}()||N===p.newValue||p.newValue===p.oldValue?A():setTimeout(A,10)}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const A of Array.from(D))A(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var D=()=>super._set,A=this;return(0,c.Z)(function*(){yield D().call(A,p,v),A.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,D=this;return(0,c.Z)(function*(){const A=yield v().call(D,p);return D.localCache[p]=JSON.stringify(A),A})()}_remove(p){var v=()=>super._remove,D=this;return(0,c.Z)(function*(){yield v().call(D,p),delete D.localCache[p]})()}}return _.type="LOCAL",_})(),hs=(()=>{class _ extends zl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return _.type="SESSION",_})();let Hh=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(A=>A.isListeningto(p));if(v)return v;const D=new _(p);return this.receivers.push(D),D}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,c.Z)(function*(){const D=p,{eventId:A,eventType:N,data:$}=D.data,fe=v.handlersMap[N];if(!fe?.size)return;D.ports[0].postMessage({status:"ack",eventId:A,eventType:N});const Te=Array.from(fe).map(function(){var Ue=(0,c.Z)(function*(Jt){return Jt(D.origin,$)});return function(Jt){return Ue.apply(this,arguments)}}()),He=yield function Bh(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return f.apply(this,arguments)}}()))}(Te);D.ports[0].postMessage({status:"done",eventId:A,eventType:N,response:He})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Zi(_="",f=10){let p="";for(let v=0;v<f;v++)p+=Math.floor(10*Math.random());return _+p}class eg{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,v=50){var D=this;return(0,c.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let N,$;return new Promise((fe,Te)=>{const He=Zi("",20);A.port1.start();const Ue=setTimeout(()=>{Te(new Error("unsupported_event"))},v);$={messageChannel:A,onMessage(Jt){const ei=Jt;if(ei.data.eventId===He)switch(ei.data.status){case"ack":clearTimeout(Ue),N=setTimeout(()=>{Te(new Error("timeout"))},3e3);break;case"done":clearTimeout(N),fe(ei.data.response);break;default:clearTimeout(Ue),clearTimeout(N),Te(new Error("invalid_response"))}}},D.handlers.add($),A.port1.addEventListener("message",$.onMessage),D.target.postMessage({eventType:f,eventId:He,data:p},[A.port2])}).finally(()=>{$&&D.removeMessageHandler($)})})()}}function pn(){return window}function Ta(){return typeof pn().WorkerGlobalScope<"u"&&"function"==typeof pn().importScripts}function Wl(){return(Wl=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const js="firebaseLocalStorageDb",Uh=1,Ro="firebaseLocalStorage",fs="fbase_key";class Yl{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ka(_,f){return _.transaction([Ro],f?"readwrite":"readonly").objectStore(Ro)}function Nu(){const _=indexedDB.open(js,Uh);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(Ro,{keyPath:fs})}catch(D){p(D)}}),_.addEventListener("success",(0,c.Z)(function*(){const v=_.result;v.objectStoreNames.contains(Ro)?f(v):(v.close(),yield function jt(){const _=indexedDB.deleteDatabase(js);return new Yl(_).toPromise()}(),f(yield Nu()))}))})}function jh(_,f,p){return ng.apply(this,arguments)}function ng(){return(ng=(0,c.Z)(function*(_,f,p){const v=ka(_,!0).put({[fs]:f,value:p});return new Yl(v).toPromise()})).apply(this,arguments)}function ig(){return(ig=(0,c.Z)(function*(_,f){const p=ka(_,!1).get(f),v=yield new Yl(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function fb(_,f){const p=ka(_,!0).delete(f);return new Yl(p).toPromise()}const Kl=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield Nu()),p.db})()}_withRetries(p){var v=this;return(0,c.Z)(function*(){let D=0;for(;;)try{const A=yield v._openDb();return yield p(A)}catch(A){if(D++>3)throw A;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return Ta()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Hh._getInstance(function Ma(){return Ta()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(D,A){return{keyProcessed:(yield p._poll()).includes(A.key)}});return function(D,A){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(D,A){return["keyChanged"]});return function(D,A){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var v,D;if(p.activeServiceWorker=yield function tg(){return Wl.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new eg(p.activeServiceWorker);const A=yield p.sender._send("ping",{},800);A&&null!==(v=A[0])&&void 0!==v&&v.fulfilled&&null!==(D=A[0])&&void 0!==D&&D.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Us(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Nu();return yield jh(p,Hs,"1"),yield fb(p,Hs),!0}catch{}return!1})()}_withPendingWrite(p){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var D=this;return(0,c.Z)(function*(){return D._withPendingWrite((0,c.Z)(function*(){return yield D._withRetries(A=>jh(A,p,v)),D.localCache[p]=v,D.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,c.Z)(function*(){const D=yield v._withRetries(A=>function hb(_,f){return ig.apply(this,arguments)}(A,p));return v.localCache[p]=D,D})()}_remove(p){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(D=>fb(D,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const v=yield p._withRetries(N=>{const $=ka(N,!1).getAll();return new Yl($).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const D=[],A=new Set;for(const{fbase_key:N,value:$}of v)A.add(N),JSON.stringify(p.localCache[N])!==JSON.stringify($)&&(p.notifyListeners(N,$),D.push(N));for(const N of Object.keys(p.localCache))p.localCache[N]&&!A.has(N)&&(p.notifyListeners(N,null),D.push(N));return D})()}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const A of Array.from(D))A(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Mn=1e12;class ur{constructor(f){this.auth=f,this.counter=Mn,this._widgets=new Map}render(f,p){const v=this.counter;return this._widgets.set(v,new sg(f,this.auth.name,p||{})),this.counter++,v}reset(f){var p;const v=f||Mn;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Mn))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var v;return null===(v=p._widgets.get(f||Mn))||void 0===v||v.execute(),""})()}}class sg{constructor(f,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;Z(D,"argument-error",{appName:p}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fu(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oo=xi("rcb"),$h=new ge(3e4,6e4);class _b{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=pn().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return Z(function gD(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&gt(pn().grecaptcha)?Promise.resolve(pn().grecaptcha):new Promise((v,D)=>{const A=pn().setTimeout(()=>{D(ne(f,"network-request-failed"))},$h.get());pn()[Oo]=()=>{pn().clearTimeout(A),delete pn()[Oo];const $=pn().grecaptcha;if(!$||!gt($))return void D(ne(f,"internal-error"));const fe=$.render;$.render=(Te,He)=>{const Ue=fe(Te,He);return this.counter++,Ue},this.hostLanguage=p,v($)},jn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Oo,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(A),D(ne(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=pn().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _D{load(f){return(0,c.Z)(function*(){return new ur(f)})()}clearedOneInstance(){}}const zh="recaptcha",Ci={theme:"light",type:"image"};class Gh{constructor(f,p=Object.assign({},Ci),v){this.parameters=p,this.type=zh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(v),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof f?document.getElementById(f):f;Z(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _D:new _b,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(p)||new Promise(A=>{const N=$=>{$&&(f.tokenChangeListeners.delete(N),A($))};f.tokenChangeListeners.add(N),f.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof f)f(p);else if("string"==typeof f){const v=pn()[f];"function"==typeof v&&v(p)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Z(Ke()&&!Ta(),f.auth,"internal-error"),yield function Ra(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function K(_){return _e.apply(this,arguments)}(f.auth);Z(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class og{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Rr._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Wh(){return(Wh=(0,c.Z)(function*(_,f,p){const v=Lt(_),D=yield Lu(v,f,(0,L.m9)(p));return new og(D,A=>bi(v,A))})).apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(_,f,p){const v=(0,L.m9)(_);yield Et(!1,v,"phone");const D=yield Lu(v.auth,f,(0,L.m9)(p));return new og(D,A=>Eu(v,A))})).apply(this,arguments)}function Zl(){return(Zl=(0,c.Z)(function*(_,f,p){const v=(0,L.m9)(_),D=yield Lu(v.auth,f,(0,L.m9)(p));return new og(D,A=>ln(v,A))})).apply(this,arguments)}function Lu(_,f,p){return Be.apply(this,arguments)}function Be(){return Be=(0,c.Z)(function*(_,f,p){var v;const D=yield p.verify();try{let A;if(Z("string"==typeof D,_,"argument-error"),Z(p.type===zh,_,"argument-error"),A="string"==typeof f?{phoneNumber:f}:f,"session"in A){const N=A.session;if("phoneNumber"in A)return Z("enroll"===N.type,_,"internal-error"),(yield function Ru(_,f){return Me(_,"POST","/v2/accounts/mfaEnrollment:start",ft(_,f))}(_,{idToken:N.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Z("signin"===N.type,_,"internal-error");const $=(null===(v=A.multiFactorHint)||void 0===v?void 0:v.uid)||A.multiFactorUid;return Z($,_,"missing-multi-factor-info"),(yield function Tn(_,f){return Me(_,"POST","/v2/accounts/mfaSignIn:start",ft(_,f))}(_,{mfaPendingCredential:N.credential,mfaEnrollmentId:$,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:N}=yield function Eh(_,f){return pa.apply(this,arguments)}(_,{phoneNumber:A.phoneNumber,recaptchaToken:D});return N}}finally{p._reset()}}),Be.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(_,f){yield Mh((0,L.m9)(_),f)})).apply(this,arguments)}let k=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=Lt(p)}verifyPhoneNumber(p,v){return Lu(this.auth,p,(0,L.m9)(v))}static credential(p,v){return Rr._fromVerification(p,v)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:D}=p;return v&&D?Rr._fromTokenResponse(v,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Jn(_,f){return f?wn(f):(Z(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class $s extends kr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return xr(f,this._buildIdpRequest())}_linkToIdToken(f,p){return xr(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return xr(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Yh(_){return Cu(_.auth,new $s(_),_.bypassAuthState)}function Vu(_){const{auth:f,user:p}=_;return Z(p,f,"internal-error"),bu(p,new $s(_),_.bypassAuthState)}function Kh(_){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,c.Z)(function*(_){const{auth:f,user:p}=_;return Z(p,f,"internal-error"),Mh(p,new $s(_),_.bypassAuthState)})).apply(this,arguments)}class Po{constructor(f,p,v,D,A=!1){this.auth=f,this.resolver=v,this.user=D,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(v,D){f.pendingPromise={resolve:v,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(A){f.reject(A)}});return function(v,D){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:D,postBody:A,tenantId:N,error:$,type:fe}=f;if($)return void p.reject($);const Te={auth:p.auth,requestUri:v,sessionId:D,tenantId:N||void 0,postBody:A||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(fe)(Te))}catch(He){p.reject(He)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Yh;case"linkViaPopup":case"linkViaRedirect":return Kh;case"reauthViaPopup":case"reauthViaRedirect":return Vu;default:ie(this.auth,"internal-error")}}resolve(f){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zs=new ge(2e3,1e4);function Xt(){return(Xt=(0,c.Z)(function*(_,f,p){const v=Lt(_);Fe(_,f,as);const D=Jn(v,p);return new Lr(v,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(_,f,p){const v=(0,L.m9)(_);Fe(v.auth,f,as);const D=Jn(v.auth,p);return new Lr(v.auth,"reauthViaPopup",f,D,v).executeNotNull()})).apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(_,f,p){const v=(0,L.m9)(_);Fe(v.auth,f,as);const D=Jn(v.auth,p);return new Lr(v.auth,"linkViaPopup",f,D,v).executeNotNull()})).apply(this,arguments)}let Lr=(()=>{class _ extends Po{constructor(p,v,D,A,N){super(p,v,A,N),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const v=yield p.execute();return Z(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,c.Z)(function*(){$e(1===p.filter.length,"Popup operations only handle one event");const v=Zi();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(D=>{p.reject(D)}),p.resolver._isIframeWebStorageSupported(p.auth,D=>{D||p.reject(ne(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,D;this.pollId=null!==(D=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ne(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,zs.get())};p()}}return _.currentPopupAction=null,_})();const qh="pendingRedirect",No=new Map;class vn extends Po{constructor(f,p,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let v=No.get(p.auth._key());if(!v){try{const A=(yield function Vr(_,f){return Fo.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;v=()=>Promise.resolve(A)}catch(D){v=()=>Promise.reject(D)}No.set(p.auth._key(),v)}return p.bypassAuthState||No.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(v,f);if("unknown"!==f.type){if(f.eventId){const D=yield v.auth._redirectUserForId(f.eventId);if(D)return v.user=D,p().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Fo(){return(Fo=(0,c.Z)(function*(_,f){const p=hr(f),v=Na(_);if(!(yield v._isAvailable()))return!1;const D="true"===(yield v._get(p));return yield v._remove(p),D})).apply(this,arguments)}function Gn(_,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(_,f){return Na(_)._set(hr(f),"true")})).apply(this,arguments)}function dr(_,f){No.set(_._key(),f)}function Na(_){return wn(_._redirectPersistence)}function hr(_){return F(qh,_.config.apiKey,_.name)}function Br(_,f,p){return function Ys(_,f,p){return ps.apply(this,arguments)}(_,f,p)}function ps(){return(ps=(0,c.Z)(function*(_,f,p){const v=Lt(_);Fe(_,f,as),yield v._initializationPromise;const D=Jn(v,p);return yield Gn(D,v),D._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function Hr(_,f,p){return function Bu(_,f,p){return Hu.apply(this,arguments)}(_,f,p)}function Hu(){return(Hu=(0,c.Z)(function*(_,f,p){const v=(0,L.m9)(_);Fe(v.auth,f,as),yield v.auth._initializationPromise;const D=Jn(v.auth,p);yield Gn(D,v.auth);const A=yield ju(v);return D._openRedirect(v.auth,f,"reauthViaRedirect",A)})).apply(this,arguments)}function In(_,f,p){return function Qh(_,f,p){return Jh.apply(this,arguments)}(_,f,p)}function Jh(){return(Jh=(0,c.Z)(function*(_,f,p){const v=(0,L.m9)(_);Fe(v.auth,f,as),yield v.auth._initializationPromise;const D=Jn(v.auth,p);yield Et(!1,v,f.providerId),yield Gn(D,v.auth);const A=yield ju(v);return D._openRedirect(v.auth,f,"linkViaRedirect",A)})).apply(this,arguments)}function Uu(){return(Uu=(0,c.Z)(function*(_,f){return yield Lt(_)._initializationPromise,Xl(_,f,!1)})).apply(this,arguments)}function Xl(_,f){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(_,f,p=!1){const v=Lt(_),D=Jn(v,f),N=yield new vn(v,D,p).execute();return N&&!p&&(delete N.user._redirectEventId,yield v._persistUserIfCurrent(N.user),yield v._setRedirectUser(null,f)),N})).apply(this,arguments)}function ju(_){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(_){const f=Zi(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class ug{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(p=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function hg(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dg(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var v;if(f.error&&!dg(f)){const D=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(ne(this.auth,D))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const v=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(f))}saveEventToCache(f){this.cachedEventUids.add(qs(f)),this.lastProcessedEventTime=Date.now()}}function qs(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function dg({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Vo(_){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(_,f={}){return Me(_,"GET","/v1/projects",f)})).apply(this,arguments)}const fg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pg=/^https?/;function $u(){return($u=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Vo(_);for(const p of f)try{if(mg(p))return}catch{}ie(_,"unauthorized-domain")})).apply(this,arguments)}function mg(_){const f=Dt(),{protocol:p,hostname:v}=new URL(f);if(_.startsWith("chrome-extension://")){const N=new URL(_);return""===N.hostname&&""===v?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&N.hostname===v}if(!pg.test(p))return!1;if(fg.test(_))return v===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(v)}const gg=new ge(3e4,6e4);function Xh(){const _=pn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Fa=null;const La=new ge(5e3,15e3),tf="__/auth/iframe",Gu="emulator/auth/iframe",nf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wu(_){const f=_.config;Z(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?we(f,Gu):`https://${_.config.authDomain}/${tf}`,v={apiKey:f.apiKey,appName:_.name,v:ae.SDK_VERSION},D=Fi.get(_.config.apiHost);D&&(v.eid=D);const A=_._getFrameworks();return A.length&&(v.fw=A.join(",")),`${p}?${(0,L.xO)(v).slice(1)}`}function Ku(){return Ku=(0,c.Z)(function*(_){const f=yield function zu(_){return Fa=Fa||function ef(_){return new Promise((f,p)=>{var v,D,A;function N(){Xh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Xh(),p(ne(_,"network-request-failed"))},timeout:gg.get()})}if(null!==(D=null===(v=pn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==D&&D.Iframe)f(gapi.iframes.getContext());else{if(null===(A=pn().gapi)||void 0===A||!A.load){const $=xi("iframefcb");return pn()[$]=()=>{gapi.load?N():p(ne(_,"network-request-failed"))},jn(`https://apis.google.com/js/api.js?onload=${$}`).catch(fe=>p(fe))}N()}}).catch(f=>{throw Fa=null,f})}(_),Fa}(_),p=pn().gapi;return Z(p,_,"internal-error"),f.open({where:document.body,url:Wu(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nf,dontclear:!0},v=>new Promise(function(){var D=(0,c.Z)(function*(A,N){yield v.restyle({setHideOnLeave:!1});const $=ne(_,"network-request-failed"),fe=pn().setTimeout(()=>{N($)},La.get());function Te(){pn().clearTimeout(fe),A(v)}v.ping(Te).then(Te,()=>{N($)})});return function(A,N){return D.apply(this,arguments)}}()))}),Ku.apply(this,arguments)}const rf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nc=500,_g=600,yg="_blank",vg="http://localhost";class ic{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xn="__/auth/handler",qu="emulator/auth/handler",lf=encodeURIComponent("fac");function Va(_,f,p,v,D,A){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(_,f,p,v,D,A){Z(_.config.authDomain,_,"auth-domain-config-required"),Z(_.config.apiKey,_,"invalid-api-key");const N={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:v,v:ae.SDK_VERSION,eventId:D};if(f instanceof as){f.setDefaultLanguage(_.languageCode),N.providerId=f.providerId||"",(0,L.xb)(f.getCustomParameters())||(N.customParameters=JSON.stringify(f.getCustomParameters()));for(const[He,Ue]of Object.entries(A||{}))N[He]=Ue}if(f instanceof Ol){const He=f.getScopes().filter(Ue=>""!==Ue);He.length>0&&(N.scopes=He.join(","))}_.tenantId&&(N.tid=_.tenantId);const $=N;for(const He of Object.keys($))void 0===$[He]&&delete $[He];const fe=yield _._getAppCheckToken(),Te=fe?`#${lf}=${encodeURIComponent(fe)}`:"";return`${function Bo({config:_}){return _.emulator?we(_,qu):`https://${_.authDomain}/${Xn}`}(_)}?${(0,L.xO)($).slice(1)}${Te}`})).apply(this,arguments)}const Ba="webStorageSupport",cf=class bg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hs,this._completeRedirectFn=Xl,this._overrideRedirectResult=dr}_openPopup(f,p,v,D){var A=this;return(0,c.Z)(function*(){var N;$e(null===(N=A.eventManagers[f._key()])||void 0===N?void 0:N.manager,"_initialize() not called before _openPopup()");const $=yield Va(f,p,v,Dt(),D);return function sf(_,f,p,v=nc,D=_g){const A=Math.max((window.screen.availHeight-D)/2,0).toString(),N=Math.max((window.screen.availWidth-v)/2,0).toString();let $="";const fe=Object.assign(Object.assign({},rf),{width:v.toString(),height:D.toString(),top:A,left:N}),Te=(0,L.z$)().toLowerCase();p&&($=xe(Te)?yg:p),X(Te)&&(f=f||vg,fe.scrollbars="yes");const He=Object.entries(fe).reduce((Jt,[ei,id])=>`${Jt}${ei}=${id},`,"");if(function qt(_=(0,L.z$)()){var f;return ze(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Te)&&"_self"!==$)return function af(_,f){const p=document.createElement("a");p.href=_,p.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(f||"",$),new ic(null);const Ue=window.open(f||"",$,He);Z(Ue,_,"popup-blocked");try{Ue.focus()}catch{}return new ic(Ue)}(f,$,Zi())})()}_openRedirect(f,p,v,D){var A=this;return(0,c.Z)(function*(){return yield A._originValidation(f),function Pu(_){pn().location.href=_}(yield Va(f,p,v,Dt(),D)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:D,promise:A}=this.eventManagers[p];return D?Promise.resolve(D):($e(A,"If manager is not set, promise should be"),A)}const v=this.initAndGetManager(f);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const v=yield function Yu(_){return Ku.apply(this,arguments)}(f),D=new ug(f);return v.register("authEvent",A=>(Z(A?.authEvent,f,"invalid-auth-event"),{status:D.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:D},p.iframes[f._key()]=v,D})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Ba,{type:Ba},D=>{var A;const N=null===(A=D?.[0])||void 0===A?void 0:A[Ba];void 0!==N&&p(!!N),ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function tc(_){return $u.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Zt()||G()||ze()}};class uf{constructor(f){this.factorId=f}_process(f,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,v);case"signin":return this._finalizeSignIn(f,p.credential);default:return ut("unexpected MultiFactorSessionType")}}}class fr extends uf{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new fr(f)}_finalizeEnroll(f,p,v){return function Pi(_,f){return Me(_,"POST","/v2/accounts/mfaEnrollment:finalize",ft(_,f))}(f,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function ql(_,f){return Me(_,"POST","/v2/accounts/mfaSignIn:finalize",ft(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rc=(()=>{class _{constructor(){}static assertion(p){return fr._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Ua="@firebase/auth";class Cg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(v=>{f(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jr(){return window}(0,L.Pz)("authIdTokenMaxAge"),function Eg(_){(0,ae._registerComponent)(new oe.wA("auth",(f,{options:p})=>{const v=f.getProvider("app").getImmediate(),D=f.getProvider("heartbeat"),A=f.getProvider("app-check-internal"),{apiKey:N,authDomain:$}=v.options;Z(N&&!N.includes(":"),"invalid-api-key",{appName:v.name}),Z(!$?.includes(":"),"argument-error",{appName:v.name});const fe={apiKey:N,authDomain:$,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q(_)},Te=new du(v,D,A,fe);return function Dn(_,f){const p=f?.persistence||[],v=(Array.isArray(p)?p:[p]).map(wn);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(v,f?.popupRedirectResolver)}(Te,p),Te},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,v)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new oe.wA("auth-internal",f=>{const p=Lt(f.getProvider("auth").getImmediate());return new Cg(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Ua,"0.23.1",function df(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(Ua,"0.23.1","esm2017")}("Browser");const wg=2e3;function Ho(){return Ho=(0,c.Z)(function*(_,f,p){var v;const{BuildInfo:D}=jr();$e(f.sessionId,"AuthEvent did not contain a session ID");const A=yield function yf(_){return kt.apply(this,arguments)}(f.sessionId),N={};return ze()?N.ibi=D.packageName:_t()?N.apn=D.packageName:ie(_,"operation-not-supported-in-this-environment"),D.displayName&&(N.appDisplayName=D.displayName),N.sessionId=A,Va(_,p,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,N)}),Ho.apply(this,arguments)}function lc(){return(lc=(0,c.Z)(function*(_){const{BuildInfo:f}=jr(),p={};ze()?p.iosBundleId=f.packageName:_t()?p.androidPackageName=f.packageName:ie(_,"operation-not-supported-in-this-environment"),yield Vo(_,p)})).apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(_,f,p){const{cordova:v}=jr();let D=()=>{};try{yield new Promise((A,N)=>{let $=null;function fe(){var Ue;A();const Jt=null===(Ue=v.plugins.browsertab)||void 0===Ue?void 0:Ue.close;"function"==typeof Jt&&Jt(),"function"==typeof p?.close&&p.close()}function Te(){$||($=window.setTimeout(()=>{N(ne(_,"redirect-cancelled-by-user"))},wg))}function He(){"visible"===document?.visibilityState&&Te()}f.addPassiveListener(fe),document.addEventListener("resume",Te,!1),_t()&&document.addEventListener("visibilitychange",He,!1),D=()=>{f.removePassiveListener(fe),document.removeEventListener("resume",Te,!1),document.removeEventListener("visibilitychange",He,!1),$&&window.clearTimeout($)}})}finally{D()}})).apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(_){const f=function xt(_){if($e(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),p=new Uint8Array(f);for(let v=0;v<_.length;v++)p[v]=_.charCodeAt(v);return p}(_),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const yt=20;class pr extends ug{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function vf(_){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(_){const f=yield dt()._get(Rn(_));return f&&(yield dt()._remove(Rn(_))),f})).apply(this,arguments)}function Qt(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<yt;p++){const v=Math.floor(Math.random()*f.length);_.push(f.charAt(v))}return _.join("")}function dt(){return wn(ds)}function Rn(_){return F("authEvent",_.config.apiKey,_.name)}function ui(_){if(!_?.includes("?"))return{};const[f,...p]=_.split("?");return(0,L.zd)(p.join("?"))}const Cf=class Dg{constructor(){this._redirectPersistence=hs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xl,this._overrideRedirectResult=dr}_initialize(f){var p=this;return(0,c.Z)(function*(){const v=f._key();let D=p.eventManagers.get(v);return D||(D=new pr(f),p.eventManagers.set(v,D),p.attachCallbackListeners(f,D)),D})()}_openPopup(f){ie(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,v,D){var A=this;return(0,c.Z)(function*(){!function _f(_){var f,p,v,D,A,N,$,fe,Te,He;const Ue=jr();Z("function"==typeof(null===(f=Ue?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(typeof(null===(p=Ue?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z("function"==typeof(null===(A=null===(D=null===(v=Ue?.cordova)||void 0===v?void 0:v.plugins)||void 0===D?void 0:D.browsertab)||void 0===A?void 0:A.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(fe=null===($=null===(N=Ue?.cordova)||void 0===N?void 0:N.plugins)||void 0===$?void 0:$.browsertab)||void 0===fe?void 0:fe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(He=null===(Te=Ue?.cordova)||void 0===Te?void 0:Te.InAppBrowser)||void 0===He?void 0:He.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const N=yield A._initialize(f);yield N.initialized(),N.resetRedirect(),function Zh(){No.clear()}(),yield A._originValidation(f);const $=function $t(_,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Qt(),postBody:null,tenantId:_.tenantId,error:ne(_,"no-auth-event")}}(f,v,D);yield function ja(_,f){return dt()._set(Rn(_),f)}(f,$);const fe=yield function Qs(_,f,p){return Ho.apply(this,arguments)}(f,$,p),Te=yield function cc(_){const{cordova:f}=jr();return new Promise(p=>{f.plugins.browsertab.isAvailable(v=>{let D=null;v?f.plugins.browsertab.openUrl(_):D=f.InAppBrowser.open(_,function Ze(_=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(D)})})}(fe);return function gf(_,f,p){return Uo.apply(this,arguments)}(f,N,Te)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function mf(_){return lc.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:v,handleOpenURL:D,BuildInfo:A}=jr(),N=setTimeout((0,c.Z)(function*(){yield vf(f),p.onEvent(dc())}),500),$=function(){var He=(0,c.Z)(function*(Ue){clearTimeout(N);const Jt=yield vf(f);let ei=null;Jt&&Ue?.url&&(ei=function Zu(_,f){var p,v;const D=function Qu(_){const f=ui(_),p=f.link?decodeURIComponent(f.link):void 0,v=ui(p).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ui(D).link||D||v||p||_}(f);if(D.includes("/__/auth/callback")){const A=ui(D),N=A.firebaseError?function bf(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(A.firebaseError)):null,$=null===(v=null===(p=N?.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],fe=$?ne($):null;return fe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:fe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:D,postBody:null}}return null}(Jt,Ue.url)),p.onEvent(ei||dc())});return function(Jt){return He.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,$);const fe=D,Te=`${A.packageName.toLowerCase()}://`;jr().handleOpenURL=function(){var He=(0,c.Z)(function*(Ue){if(Ue.toLowerCase().startsWith(Te)&&$({url:Ue}),"function"==typeof fe)try{fe(Ue)}catch(Jt){console.error(Jt)}});return function(Ue){return He.apply(this,arguments)}}()}};function dc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ne("no-auth-event")}}const hc=1e3;function $r(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function fc(_=(0,L.z$)()){return!("file:"!==$r()&&"ionic:"!==$r()&&"capacitor:"!==$r()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function $o(){try{const _=self.localStorage,f=Zi();if(_)return _.setItem(f,"1"),_.removeItem(f),!function bt(_=(0,L.z$)()){return function pc(){return(0,L.w1)()&&11===document?.documentMode}()||function Ji(_=(0,L.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,L.hl)()}catch{return zo()&&(0,L.hl)()}return!1}function zo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mc(){return(function Ef(){return"http:"===$r()||"https:"===$r()}()||(0,L.ru)()||fc())&&!function Ju(){return(0,L.b$)()||(0,L.UG)()}()&&$o()&&!zo()}function Li(){return fc()&&typeof document<"u"}function Wn(){return(Wn=(0,c.Z)(function*(){return!!Li()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},hc);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Rt={LOCAL:"local",NONE:"none",SESSION:"session"},za=Z,gc="persistence";function ed(_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(_){yield _._initializationPromise;const f=_c(),p=F(gc,_.config.apiKey,_.name);f&&f.setItem(p,_._getPersistence())})).apply(this,arguments)}function _c(){var _;try{return(null===(_=function Xu(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const zr=Z;class Xi{constructor(){this.browserResolver=wn(cf),this.cordovaResolver=wn(Cf),this.underlyingResolver=null,this._redirectPersistence=hs,this._completeRedirectFn=Xl,this._overrideRedirectResult=dr}_initialize(f){var p=this;return(0,c.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,v,D){var A=this;return(0,c.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(f,p,v,D)})()}_openRedirect(f,p,v,D){var A=this;return(0,c.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(f,p,v,D)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Li()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const p=yield function Go(){return Wn.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function yc(_){return _.unwrap()}function Sf(_){return Gt(_)}function Gt(_){const{_tokenResponse:f}=_ instanceof L.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof L.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return k.credentialFromResult(_);const p=f.providerId;if(!p||p===Se.PASSWORD)return null;let v;switch(p){case Se.GOOGLE:v=$m;break;case Se.FACEBOOK:v=ai;break;case Se.GITHUB:v=ma;break;case Se.TWITTER:v=wh;break;default:const{oauthIdToken:D,oauthAccessToken:A,oauthTokenSecret:N,pendingToken:$,nonce:fe}=f;return A||N||D||$?$?p.startsWith("saml.")?_n._create(p,$):Oi._fromParams({providerId:p,signInMethod:p,pendingToken:$,idToken:D,accessToken:A}):new cr(p).credential({idToken:D,accessToken:A,rawNonce:fe}):null}return _ instanceof L.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function di(_,f){return f.catch(p=>{throw p instanceof L.ZR&&function Xs(_,f){var p;const v=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new nd(_,function xu(_,f){var p;const v=(0,L.m9)(_),D=f;return Z(f.customData.operationType,v,"argument-error"),Z(null===(p=D.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),us._fromError(v,D)}(_,f));else if(v){const D=Gt(f),A=f;D&&(A.credential=D,A.tenantId=v.tenantId||void 0,A.email=v.email||void 0,A.phoneNumber=v.phoneNumber||void 0)}}(_,p),p}).then(p=>{const D=p.user;return{operationType:p.operationType,credential:Sf(p),additionalUserInfo:Ul(p),user:un.getOrCreate(D)}})}function td(_,f){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(_,f){const p=yield f;return{verificationId:p.verificationId,confirm:v=>di(_,p.confirm(v))}})).apply(this,arguments)}class nd{constructor(f,p){this.resolver=p,this.auth=function If(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return di(yc(this.auth),this.resolver.resolveSignIn(f))}}class un{constructor(f){this._delegate=f,this.multiFactor=function $l(_){const f=(0,L.m9)(_);return xo.has(f)||xo.set(f,Ia._fromUser(f)),xo.get(f)}(f)}static getOrCreate(f){return un.USER_MAP.has(f)||un.USER_MAP.set(f,new un(f)),un.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,c.Z)(function*(){return di(p.auth,Eu(p._delegate,f))})()}linkWithPhoneNumber(f,p){var v=this;return(0,c.Z)(function*(){return td(v.auth,function yb(_,f,p){return Oa.apply(this,arguments)}(v._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,c.Z)(function*(){return di(p.auth,function Jl(_,f,p){return Qi.apply(this,arguments)}(p._delegate,f,Xi))})()}linkWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield ed(Lt(p.auth)),In(p._delegate,f,Xi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,c.Z)(function*(){return di(p.auth,ln(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return td(this.auth,function lg(_,f,p){return Zl.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return di(this.auth,function Ws(_,f,p){return Pa.apply(this,arguments)}(this._delegate,f,Xi))}reauthenticateWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield ed(Lt(p.auth)),Hr(p._delegate,f,Xi)})()}sendEmailVerification(f){return function ob(_,f){return Ph.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,c.Z)(function*(){return yield function Th(_,f){return vu.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function ab(_,f){return Ca((0,L.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Ls(_,f){return Ca((0,L.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function It(_,f){return Qn.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Nh(_,f){return Mu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function Km(_,f,p){return ba.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}un.USER_MAP=new WeakMap;const On=Z;let Ko=(()=>{class _{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=p.options;On(D,"invalid-api-key",{appName:p.name}),On(D,"invalid-api-key",{appName:p.name});const A=typeof window<"u"?Xi:void 0;this._delegate=v.initialize({options:{persistence:Ig(D,p.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function fh(_,f,p){const v=Lt(_);Z(v._canInitEmulator,v,"emulator-config-failed"),Z(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const D=!!p?.disableWarnings,A=$n(f),{host:N,port:$}=function vi(_){const f=$n(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(v);if(D){const A=D[1];return{host:A,port:os(v.substr(A.length+1))}}{const[A,N]=v.split(":");return{host:A,port:os(N)}}}(f);v.config.emulator={url:`${A}//${N}${null===$?"":`:${$}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:N,port:$,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function So(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,v)}applyActionCode(p){return function Fl(_,f){return Pr.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Wm(this._delegate,p)}confirmPasswordReset(p,v){return function Du(_,f,p){return ya.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var D=this;return(0,c.Z)(function*(){return di(D._delegate,function Ym(_,f,p){return Su.apply(this,arguments)}(D._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function sb(_,f){return Tu.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function rb(_,f){return"EMAIL_SIGNIN"===Rl.parseLink(f)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,c.Z)(function*(){On(mc(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function cg(_,f){return Uu.apply(this,arguments)}(p._delegate,Xi);return v?di(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function gs(_,f){Lt(_)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,v,D){const{next:A,error:N,complete:$}=mt(p,v,D);return this._delegate.onAuthStateChanged(A,N,$)}onIdTokenChanged(p,v,D){const{next:A,error:N,complete:$}=mt(p,v,D);return this._delegate.onIdTokenChanged(A,N,$)}sendSignInLinkToEmail(p,v){return function Vl(_,f,p){return Oh.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function ib(_,f,p){return Nl.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,c.Z)(function*(){let D;switch(function wf(_,f){za(Object.values(Rt).includes(f),_,"invalid-persistence-type"),(0,L.b$)()?za(f!==Rt.SESSION,_,"unsupported-persistence-type"):(0,L.UG)()?za(f===Rt.NONE,_,"unsupported-persistence-type"):zo()?za(f===Rt.NONE||f===Rt.LOCAL&&(0,L.hl)(),_,"unsupported-persistence-type"):za(f===Rt.NONE||$o(),_,"unsupported-persistence-type")}(v._delegate,p),p){case Rt.SESSION:D=hs;break;case Rt.LOCAL:D=(yield wn(Kl)._isAvailable())?Kl:ds;break;case Rt.NONE:D=ki;break;default:return ie("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return di(this._delegate,function Dh(_){return Ih.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return di(this._delegate,bi(this._delegate,p))}signInWithCustomToken(p){return di(this._delegate,function ls(_,f){return wu.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return di(this._delegate,function Rh(_,f,p){return bi((0,L.m9)(_),fn.credential(f,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return di(this._delegate,function ci(_,f,p){return Nr.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return td(this._delegate,function ag(_,f,p){return Wh.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,c.Z)(function*(){return On(mc(),v._delegate,"operation-not-supported-in-this-environment"),di(v._delegate,function Gs(_,f,p){return Xt.apply(this,arguments)}(v._delegate,p,Xi))})()}signInWithRedirect(p){var v=this;return(0,c.Z)(function*(){return On(mc(),v._delegate,"operation-not-supported-in-this-environment"),yield ed(v._delegate),Br(v._delegate,p,Xi)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Ll(_,f){return va.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Rt,_})();function mt(_,f,p){let v=_;"function"!=typeof _&&({next:v,error:f,complete:p}=_);const D=v;return{next:N=>D(N&&un.getOrCreate(N)),error:f,complete:p}}function Ig(_,f){const p=function Df(_,f){const p=_c();if(!p)return[];const v=F(gc,_,f);switch(p.getItem(v)){case Rt.NONE:return[ki];case Rt.LOCAL:return[Kl,hs];case Rt.SESSION:return[hs];default:return[]}}(_,f);if(typeof self<"u"&&!p.includes(Kl)&&p.push(Kl),typeof window<"u")for(const v of[ds,hs])p.includes(v)||p.push(v);return p.includes(ki)||p.push(ki),p}class eo{constructor(){this.providerId="phone",this._delegate=new k(yc(Q.Z.auth()))}static credential(f,p){return k.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}eo.PHONE_SIGN_IN_METHOD=k.PHONE_SIGN_IN_METHOD,eo.PROVIDER_ID=k.PROVIDER_ID;const Sg=Z;class rn{constructor(f,p,v=Q.Z.app()){var D;Sg(null===(D=v.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Gh(f,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ag(_){_.INTERNAL.registerComponent(new oe.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Ko(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y_EMAIL_SIGNIN,PASSWORD_RESET:Y_PASSWORD_RESET,RECOVER_EMAIL:Y_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y_VERIFY_EMAIL}},EmailAuthProvider:fn,FacebookAuthProvider:ai,GithubAuthProvider:ma,GoogleAuthProvider:$m,OAuthProvider:cr,SAMLAuthProvider:Ps,PhoneAuthProvider:eo,PhoneMultiFactorGenerator:rc,RecaptchaVerifier:rn,TwitterAuthProvider:wh,Auth:Ko,AuthCredential:kr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.1")}(Q.Z)},5861:(tt,be,R)=>{function c(L,ae,me,pe,oe,Ce,Se){try{var U=L[Ce](Se),H=U.value}catch(Y){return void me(Y)}U.done?ae(H):Promise.resolve(H).then(pe,oe)}function Q(L){return function(){var ae=this,me=arguments;return new Promise(function(pe,oe){var Ce=L.apply(ae,me);function Se(H){c(Ce,pe,oe,Se,U,"next",H)}function U(H){c(Ce,pe,oe,Se,U,"throw",H)}Se(void 0)})}}R.d(be,{Z:()=>Q})}},tt=>{tt(tt.s=156)}]);